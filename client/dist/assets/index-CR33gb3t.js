const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ConnectionsExamples-DmT4tYaP.js","assets/vendor-CnGqnXYo.js","assets/icons-BS5R8G3I.js","assets/NetworkTools-CgDqWk9E.js","assets/FormatTools-VrveGT1U.js","assets/TemplatesAdmin-C2le0Hou.js"])))=>i.map(i=>d[i]);
import{r as $,a as bg,g as Sg,R as he}from"./vendor-CnGqnXYo.js";import{X as ba,O as xg,U as eh,L as Cg,S as ea,P as lf,T as Sa,D as wg,C as Eg,E as jg,a as Ag,b as of,G as go,c as th,R as Ls,d as Ii,e as Ng,Z as ta,f as jl,A as br,g as kg,h as sh,M as _o,i as Tg,j as Dg,k as Tc,l as Dc,m as Rg,n as Og,o as Lg,W as Mg,p as Bg,K as Hg,q as zg,r as ih,s as Al,t as Nl}from"./icons-BS5R8G3I.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();var cf={exports:{}},tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=Symbol.for("react.transitional.element"),Pg=Symbol.for("react.fragment");function uf(e,t,s){var i=null;if(s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),"key"in t){s={};for(var r in t)r!=="key"&&(s[r]=t[r])}else s=t;return t=s.ref,{$$typeof:Ug,type:e,key:i,ref:t!==void 0?t:null,props:s}}tl.Fragment=Pg;tl.jsx=uf;tl.jsxs=uf;cf.exports=tl;var a=cf.exports,hf={exports:{}},sl={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,I){var A=H.length;H.push(I);e:for(;0<A;){var R=A-1>>>1,M=H[R];if(0<r(M,I))H[R]=I,H[A]=M,A=R;else break e}}function s(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var I=H[0],A=H.pop();if(A!==I){H[0]=A;e:for(var R=0,M=H.length,L=M>>>1;R<L;){var K=2*(R+1)-1,G=H[K],X=K+1,J=H[X];if(0>r(G,A))X<M&&0>r(J,G)?(H[R]=J,H[X]=A,R=X):(H[R]=G,H[K]=A,R=K);else if(X<M&&0>r(J,A))H[R]=J,H[X]=A,R=X;else break e}}return I}function r(H,I){var A=H.sortIndex-I.sortIndex;return A!==0?A:H.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var m=Date,n=m.now();e.unstable_now=function(){return m.now()-n}}var c=[],p=[],b=1,f=null,g=3,y=!1,C=!1,x=!1,h=!1,u=typeof setTimeout=="function"?setTimeout:null,o=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;function _(H){for(var I=s(p);I!==null;){if(I.callback===null)i(p);else if(I.startTime<=H)i(p),I.sortIndex=I.expirationTime,t(c,I);else break;I=s(p)}}function v(H){if(x=!1,_(H),!C)if(s(c)!==null)C=!0,w||(w=!0,k());else{var I=s(p);I!==null&&W(v,I.startTime-H)}}var w=!1,E=-1,S=5,j=-1;function T(){return h?!0:!(e.unstable_now()-j<S)}function z(){if(h=!1,w){var H=e.unstable_now();j=H;var I=!0;try{e:{C=!1,x&&(x=!1,o(E),E=-1),y=!0;var A=g;try{t:{for(_(H),f=s(c);f!==null&&!(f.expirationTime>H&&T());){var R=f.callback;if(typeof R=="function"){f.callback=null,g=f.priorityLevel;var M=R(f.expirationTime<=H);if(H=e.unstable_now(),typeof M=="function"){f.callback=M,_(H),I=!0;break t}f===s(c)&&i(c),_(H)}else i(c);f=s(c)}if(f!==null)I=!0;else{var L=s(p);L!==null&&W(v,L.startTime-H),I=!1}}break e}finally{f=null,g=A,y=!1}I=void 0}}finally{I?k():w=!1}}}var k;if(typeof d=="function")k=function(){d(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,P=D.port2;D.port1.onmessage=z,k=function(){P.postMessage(null)}}else k=function(){u(z,0)};function W(H,I){E=u(function(){H(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var A=g;g=I;try{return H()}finally{g=A}},e.unstable_requestPaint=function(){h=!0},e.unstable_runWithPriority=function(H,I){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var A=g;g=H;try{return I()}finally{g=A}},e.unstable_scheduleCallback=function(H,I,A){var R=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?R+A:R):A=R,H){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=A+M,H={id:b++,callback:I,priorityLevel:H,startTime:A,expirationTime:M,sortIndex:-1},A>R?(H.sortIndex=A,t(p,H),s(c)===null&&H===s(p)&&(x?(o(E),E=-1):x=!0,W(v,A-R))):(H.sortIndex=M,t(c,H),C||y||(C=!0,w||(w=!0,k()))),H},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(H){var I=g;return function(){var A=g;g=I;try{return H.apply(this,arguments)}finally{g=A}}}})(ff);df.exports=ff;var Ig=df.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke=Ig,mf=$,qg=bg;function Z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function vf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rh(e){if(gn(e)!==e)throw Error(Z(188))}function Fg(e){var t=e.alternate;if(!t){if(t=gn(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var s=e,i=t;;){var r=s.return;if(r===null)break;var l=r.alternate;if(l===null){if(i=r.return,i!==null){s=i;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===s)return rh(r),e;if(l===i)return rh(r),t;l=l.sibling}throw Error(Z(188))}if(s.return!==i.return)s=r,i=l;else{for(var m=!1,n=r.child;n;){if(n===s){m=!0,s=r,i=l;break}if(n===i){m=!0,i=r,s=l;break}n=n.sibling}if(!m){for(n=l.child;n;){if(n===s){m=!0,s=l,i=r;break}if(n===i){m=!0,i=l,s=r;break}n=n.sibling}if(!m)throw Error(Z(189))}}if(s.alternate!==i)throw Error(Z(190))}if(s.tag!==3)throw Error(Z(188));return s.stateNode.current===s?e:t}function gf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=gf(e),t!==null)return t;e=e.sibling}return null}var Oe=Object.assign,$g=Symbol.for("react.element"),zn=Symbol.for("react.transitional.element"),kr=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),yo=Symbol.for("react.profiler"),Gg=Symbol.for("react.provider"),yf=Symbol.for("react.consumer"),ns=Symbol.for("react.context"),Rc=Symbol.for("react.forward_ref"),bo=Symbol.for("react.suspense"),So=Symbol.for("react.suspense_list"),Oc=Symbol.for("react.memo"),ws=Symbol.for("react.lazy"),xo=Symbol.for("react.activity"),Wg=Symbol.for("react.memo_cache_sentinel"),nh=Symbol.iterator;function Sr(e){return e===null||typeof e!="object"?null:(e=nh&&e[nh]||e["@@iterator"],typeof e=="function"?e:null)}var Kg=Symbol.for("react.client.reference");function Co(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Kg?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ni:return"Fragment";case yo:return"Profiler";case _f:return"StrictMode";case bo:return"Suspense";case So:return"SuspenseList";case xo:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case kr:return"Portal";case ns:return(e.displayName||"Context")+".Provider";case yf:return(e._context.displayName||"Context")+".Consumer";case Rc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oc:return t=e.displayName||null,t!==null?t:Co(e.type)||"Memo";case ws:t=e._payload,e=e._init;try{return Co(e(t))}catch{}}return null}var Tr=Array.isArray,ce=mf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=qg.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,si={pending:!1,data:null,method:null,action:null},wo=[],ki=-1;function Xt(e){return{current:e}}function Qe(e){0>ki||(e.current=wo[ki],wo[ki]=null,ki--)}function Me(e,t){ki++,wo[ki]=e.current,e.current=t}var Wt=Xt(null),Jr=Xt(null),Ms=Xt(null),xa=Xt(null);function Ca(e,t){switch(Me(Ms,t),Me(Jr,e),Me(Wt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ud(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ud(t),e=Bp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Qe(Wt),Me(Wt,e)}function Qi(){Qe(Wt),Qe(Jr),Qe(Ms)}function Eo(e){e.memoizedState!==null&&Me(xa,e);var t=Wt.current,s=Bp(t,e.type);t!==s&&(Me(Jr,e),Me(Wt,s))}function wa(e){Jr.current===e&&(Qe(Wt),Qe(Jr)),xa.current===e&&(Qe(xa),cn._currentValue=si)}var jo=Object.prototype.hasOwnProperty,Lc=Ke.unstable_scheduleCallback,kl=Ke.unstable_cancelCallback,Yg=Ke.unstable_shouldYield,Vg=Ke.unstable_requestPaint,Kt=Ke.unstable_now,Xg=Ke.unstable_getCurrentPriorityLevel,bf=Ke.unstable_ImmediatePriority,Sf=Ke.unstable_UserBlockingPriority,Ea=Ke.unstable_NormalPriority,Qg=Ke.unstable_LowPriority,xf=Ke.unstable_IdlePriority,Jg=Ke.log,Zg=Ke.unstable_setDisableYieldValue,_n=null,gt=null;function Ts(e){if(typeof Jg=="function"&&Zg(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(_n,e)}catch{}}var _t=Math.clz32?Math.clz32:s_,e_=Math.log,t_=Math.LN2;function s_(e){return e>>>=0,e===0?32:31-(e_(e)/t_|0)|0}var Un=256,Pn=4194304;function Js(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function il(e,t,s){var i=e.pendingLanes;if(i===0)return 0;var r=0,l=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var n=i&134217727;return n!==0?(i=n&~l,i!==0?r=Js(i):(m&=n,m!==0?r=Js(m):s||(s=n&~e,s!==0&&(r=Js(s))))):(n=i&~l,n!==0?r=Js(n):m!==0?r=Js(m):s||(s=i&~e,s!==0&&(r=Js(s)))),r===0?0:t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===32&&(s&4194048)!==0)?t:r}function yn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function i_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(){var e=Un;return Un<<=1,!(Un&4194048)&&(Un=256),e}function wf(){var e=Pn;return Pn<<=1,!(Pn&62914560)&&(Pn=4194304),e}function Tl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function bn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function r_(e,t,s,i,r,l){var m=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var n=e.entanglements,c=e.expirationTimes,p=e.hiddenUpdates;for(s=m&~s;0<s;){var b=31-_t(s),f=1<<b;n[b]=0,c[b]=-1;var g=p[b];if(g!==null)for(p[b]=null,b=0;b<g.length;b++){var y=g[b];y!==null&&(y.lane&=-536870913)}s&=~f}i!==0&&Ef(e,i,0),l!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=l&~(m&~t))}function Ef(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-_t(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|s&4194090}function jf(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var i=31-_t(s),r=1<<i;r&t|e[i]&t&&(e[i]|=t),s&=~r}}function Mc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Af(){var e=Se.p;return e!==0?e:(e=window.event,e===void 0?32:Wp(e.type))}function n_(e,t){var s=Se.p;try{return Se.p=e,t()}finally{Se.p=s}}var Vs=Math.random().toString(36).slice(2),st="__reactFiber$"+Vs,ut="__reactProps$"+Vs,dr="__reactContainer$"+Vs,Ao="__reactEvents$"+Vs,a_="__reactListeners$"+Vs,l_="__reactHandles$"+Vs,ah="__reactResources$"+Vs,Sn="__reactMarker$"+Vs;function Hc(e){delete e[st],delete e[ut],delete e[Ao],delete e[a_],delete e[l_]}function Ti(e){var t=e[st];if(t)return t;for(var s=e.parentNode;s;){if(t=s[dr]||s[st]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=fd(e);e!==null;){if(s=e[st])return s;e=fd(e)}return t}e=s,s=e.parentNode}return null}function fr(e){if(e=e[st]||e[dr]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Dr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Z(33))}function qi(e){var t=e[ah];return t||(t=e[ah]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Sn]=!0}var Nf=new Set,kf={};function pi(e,t){Ji(e,t),Ji(e+"Capture",t)}function Ji(e,t){for(kf[e]=t,e=0;e<t.length;e++)Nf.add(t[e])}var o_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lh={},oh={};function c_(e){return jo.call(oh,e)?!0:jo.call(lh,e)?!1:o_.test(e)?oh[e]=!0:(lh[e]=!0,!1)}function sa(e,t,s){if(c_(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function In(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Zt(e,t,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+i)}}var Dl,ch;function Ei(e){if(Dl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Dl=t&&t[1]||"",ch=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dl+e+ch}var Rl=!1;function Ol(e,t){if(!e||Rl)return"";Rl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(y){var g=y}Reflect.construct(e,[],f)}else{try{f.call()}catch(y){g=y}e.call(f.prototype)}}else{try{throw Error()}catch(y){g=y}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),m=l[0],n=l[1];if(m&&n){var c=m.split(`
`),p=n.split(`
`);for(r=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;r<p.length&&!p[r].includes("DetermineComponentFrameRoot");)r++;if(i===c.length||r===p.length)for(i=c.length-1,r=p.length-1;1<=i&&0<=r&&c[i]!==p[r];)r--;for(;1<=i&&0<=r;i--,r--)if(c[i]!==p[r]){if(i!==1||r!==1)do if(i--,r--,0>r||c[i]!==p[r]){var b=`
`+c[i].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=i&&0<=r);break}}}finally{Rl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ei(s):""}function u_(e){switch(e.tag){case 26:case 27:case 5:return Ei(e.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Ol(e.type,!1);case 11:return Ol(e.type.render,!1);case 1:return Ol(e.type,!0);case 31:return Ei("Activity");default:return""}}function uh(e){try{var t="";do t+=u_(e),e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function h_(e){var t=Tf(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){i=""+m,l.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=h_(e))}function Df(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),i="";return e&&(i=Tf(e)?e.checked?"true":"false":e.value),e=i,e!==s?(t.setValue(e),!0):!1}function Aa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var d_=/[\n"\\]/g;function Nt(e){return e.replace(d_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function No(e,t,s,i,r,l,m,n){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?ko(e,m,wt(t)):s!=null?ko(e,m,wt(s)):i!=null&&e.removeAttribute("value"),r==null&&l!=null&&(e.defaultChecked=!!l),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),n!=null&&typeof n!="function"&&typeof n!="symbol"&&typeof n!="boolean"?e.name=""+wt(n):e.removeAttribute("name")}function Rf(e,t,s,i,r,l,m,n){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||s!=null){if(!(l!=="submit"&&l!=="reset"||t!=null))return;s=s!=null?""+wt(s):"",t=t!=null?""+wt(t):s,n||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=n?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function ko(e,t,s){t==="number"&&Aa(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Fi(e,t,s,i){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&i&&(e[s].defaultSelected=!0)}else{for(s=""+wt(s),t=null,r=0;r<e.length;r++){if(e[r].value===s){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Of(e,t,s){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+wt(s):""}function Lf(e,t,s,i){if(t==null){if(i!=null){if(s!=null)throw Error(Z(92));if(Tr(i)){if(1<i.length)throw Error(Z(93));i=i[0]}s=i}s==null&&(s=""),t=s}s=wt(t),e.defaultValue=s,i=e.textContent,i===s&&i!==""&&i!==null&&(e.value=i)}function Zi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var f_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hh(e,t,s){var i=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,s):typeof s!="number"||s===0||f_.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Mf(e,t,s){if(t!=null&&typeof t!="object")throw Error(Z(62));if(e=e.style,s!=null){for(var i in s)!s.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&s[r]!==i&&hh(e,r,i)}else for(var l in t)t.hasOwnProperty(l)&&hh(e,l,t[l])}function zc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),p_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return p_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var To=null;function Uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,$i=null;function dh(e){var t=fr(e);if(t&&(e=t.stateNode)){var s=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(No(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var i=s[t];if(i!==e&&i.form===e.form){var r=i[ut]||null;if(!r)throw Error(Z(90));No(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<s.length;t++)i=s[t],i.form===e.form&&Df(i)}break e;case"textarea":Of(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Fi(e,!!s.multiple,t,!1)}}}var Ll=!1;function Bf(e,t,s){if(Ll)return e(t,s);Ll=!0;try{var i=e(t);return i}finally{if(Ll=!1,(Di!==null||$i!==null)&&(fl(),Di&&(t=Di,e=$i,$i=Di=null,dh(t),e)))for(t=0;t<e.length;t++)dh(e[t])}}function Zr(e,t){var s=e.stateNode;if(s===null)return null;var i=s[ut]||null;if(i===null)return null;s=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Z(231,t,typeof s));return s}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=!1;if(ds)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Do=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Do=!1}var Ds=null,Pc=null,ra=null;function Hf(){if(ra)return ra;var e,t=Pc,s=t.length,i,r="value"in Ds?Ds.value:Ds.textContent,l=r.length;for(e=0;e<s&&t[e]===r[e];e++);var m=s-e;for(i=1;i<=m&&t[s-i]===r[l-i];i++);return ra=r.slice(e,1<i?1-i:void 0)}function na(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qn(){return!0}function fh(){return!1}function ht(e){function t(s,i,r,l,m){this._reactName=s,this._targetInst=r,this.type=i,this.nativeEvent=l,this.target=m,this.currentTarget=null;for(var n in e)e.hasOwnProperty(n)&&(s=e[n],this[n]=s?s(l):l[n]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?qn:fh,this.isPropagationStopped=fh,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=ht(vi),xn=Oe({},vi,{view:0,detail:0}),v_=ht(xn),Ml,Bl,Cr,nl=Oe({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(Ml=e.screenX-Cr.screenX,Bl=e.screenY-Cr.screenY):Bl=Ml=0,Cr=e),Ml)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),mh=ht(nl),g_=Oe({},nl,{dataTransfer:0}),__=ht(g_),y_=Oe({},xn,{relatedTarget:0}),Hl=ht(y_),b_=Oe({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),S_=ht(b_),x_=Oe({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C_=ht(x_),w_=Oe({},vi,{data:0}),ph=ht(w_),E_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A_[e])?!!t[e]:!1}function Ic(){return N_}var k_=Oe({},xn,{key:function(e){if(e.key){var t=E_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ic,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T_=ht(k_),D_=Oe({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vh=ht(D_),R_=Oe({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ic}),O_=ht(R_),L_=Oe({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),M_=ht(L_),B_=Oe({},nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H_=ht(B_),z_=Oe({},vi,{newState:0,oldState:0}),U_=ht(z_),P_=[9,13,27,32],qc=ds&&"CompositionEvent"in window,Mr=null;ds&&"documentMode"in document&&(Mr=document.documentMode);var I_=ds&&"TextEvent"in window&&!Mr,zf=ds&&(!qc||Mr&&8<Mr&&11>=Mr),gh=" ",_h=!1;function Uf(e,t){switch(e){case"keyup":return P_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function q_(e,t){switch(e){case"compositionend":return Pf(t);case"keypress":return t.which!==32?null:(_h=!0,gh);case"textInput":return e=t.data,e===gh&&_h?null:e;default:return null}}function F_(e,t){if(Ri)return e==="compositionend"||!qc&&Uf(e,t)?(e=Hf(),ra=Pc=Ds=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zf&&t.locale!=="ko"?null:t.data;default:return null}}var $_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$_[e.type]:t==="textarea"}function If(e,t,s,i){Di?$i?$i.push(i):$i=[i]:Di=i,t=Ga(t,"onChange"),0<t.length&&(s=new rl("onChange","change",null,s,i),e.push({event:s,listeners:t}))}var Br=null,en=null;function G_(e){Op(e,0)}function al(e){var t=Dr(e);if(Df(t))return e}function bh(e,t){if(e==="change")return t}var qf=!1;if(ds){var zl;if(ds){var Ul="oninput"in document;if(!Ul){var Sh=document.createElement("div");Sh.setAttribute("oninput","return;"),Ul=typeof Sh.oninput=="function"}zl=Ul}else zl=!1;qf=zl&&(!document.documentMode||9<document.documentMode)}function xh(){Br&&(Br.detachEvent("onpropertychange",Ff),en=Br=null)}function Ff(e){if(e.propertyName==="value"&&al(en)){var t=[];If(t,en,e,Uc(e)),Bf(G_,t)}}function W_(e,t,s){e==="focusin"?(xh(),Br=t,en=s,Br.attachEvent("onpropertychange",Ff)):e==="focusout"&&xh()}function K_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(en)}function Y_(e,t){if(e==="click")return al(t)}function V_(e,t){if(e==="input"||e==="change")return al(t)}function X_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:X_;function tn(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var r=s[i];if(!jo.call(t,r)||!St(e[r],t[r]))return!1}return!0}function Ch(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wh(e,t){var s=Ch(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=t&&i>=t)return{node:s,offset:t-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ch(s)}}function $f(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$f(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Aa(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Aa(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Q_=ds&&"documentMode"in document&&11>=document.documentMode,Oi=null,Ro=null,Hr=null,Oo=!1;function Eh(e,t,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oo||Oi==null||Oi!==Aa(i)||(i=Oi,"selectionStart"in i&&Fc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Hr&&tn(Hr,i)||(Hr=i,i=Ga(Ro,"onSelect"),0<i.length&&(t=new rl("onSelect","select",null,t,s),e.push({event:t,listeners:i}),t.target=Oi)))}function Qs(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Li={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Pl={},Wf={};ds&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function gi(e){if(Pl[e])return Pl[e];if(!Li[e])return e;var t=Li[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Wf)return Pl[e]=t[s];return e}var Kf=gi("animationend"),Yf=gi("animationiteration"),Vf=gi("animationstart"),J_=gi("transitionrun"),Z_=gi("transitionstart"),e0=gi("transitioncancel"),Xf=gi("transitionend"),Qf=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function Pt(e,t){Qf.set(e,t),pi(t,[e])}var jh=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var s=jh.get(e);return s!==void 0?s:(t={value:e,source:t,stack:uh(t)},jh.set(e,t),t)}return{value:e,source:t,stack:uh(t)}}var Ct=[],Mi=0,$c=0;function ll(){for(var e=Mi,t=$c=Mi=0;t<e;){var s=Ct[t];Ct[t++]=null;var i=Ct[t];Ct[t++]=null;var r=Ct[t];Ct[t++]=null;var l=Ct[t];if(Ct[t++]=null,i!==null&&r!==null){var m=i.pending;m===null?r.next=r:(r.next=m.next,m.next=r),i.pending=r}l!==0&&Jf(s,r,l)}}function ol(e,t,s,i){Ct[Mi++]=e,Ct[Mi++]=t,Ct[Mi++]=s,Ct[Mi++]=i,$c|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Gc(e,t,s,i){return ol(e,t,s,i),Na(e)}function mr(e,t){return ol(e,null,null,t),Na(e)}function Jf(e,t,s){e.lanes|=s;var i=e.alternate;i!==null&&(i.lanes|=s);for(var r=!1,l=e.return;l!==null;)l.childLanes|=s,i=l.alternate,i!==null&&(i.childLanes|=s),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(r=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,r&&t!==null&&(r=31-_t(s),e=l.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=s|536870912),l):null}function Na(e){if(50<Kr)throw Kr=0,tc=null,Error(Z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bi={};function t0(e,t,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,s,i){return new t0(e,t,s,i)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function us(e,t){var s=e.alternate;return s===null?(s=vt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Zf(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function aa(e,t,s,i,r,l){var m=0;if(i=e,typeof e=="function")Wc(e)&&(m=1);else if(typeof e=="string")m=iy(e,s,Wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case xo:return e=vt(31,s,t,r),e.elementType=xo,e.lanes=l,e;case Ni:return ii(s.children,r,l,t);case _f:m=8,r|=24;break;case yo:return e=vt(12,s,t,r|2),e.elementType=yo,e.lanes=l,e;case bo:return e=vt(13,s,t,r),e.elementType=bo,e.lanes=l,e;case So:return e=vt(19,s,t,r),e.elementType=So,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gg:case ns:m=10;break e;case yf:m=9;break e;case Rc:m=11;break e;case Oc:m=14;break e;case ws:m=16,i=null;break e}m=29,s=Error(Z(130,e===null?"null":typeof e,"")),i=null}return t=vt(m,s,t,r),t.elementType=e,t.type=i,t.lanes=l,t}function ii(e,t,s,i){return e=vt(7,e,i,t),e.lanes=s,e}function Il(e,t,s){return e=vt(6,e,null,t),e.lanes=s,e}function ql(e,t,s){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hi=[],zi=0,ka=null,Ta=0,Et=[],jt=0,ri=null,as=1,ls="";function Zs(e,t){Hi[zi++]=Ta,Hi[zi++]=ka,ka=e,Ta=t}function em(e,t,s){Et[jt++]=as,Et[jt++]=ls,Et[jt++]=ri,ri=e;var i=as;e=ls;var r=32-_t(i)-1;i&=~(1<<r),s+=1;var l=32-_t(t)+r;if(30<l){var m=r-r%5;l=(i&(1<<m)-1).toString(32),i>>=m,r-=m,as=1<<32-_t(t)+r|s<<r|i,ls=l+e}else as=1<<l|s<<r|i,ls=e}function Kc(e){e.return!==null&&(Zs(e,1),em(e,1,0))}function Yc(e){for(;e===ka;)ka=Hi[--zi],Hi[zi]=null,Ta=Hi[--zi],Hi[zi]=null;for(;e===ri;)ri=Et[--jt],Et[jt]=null,ls=Et[--jt],Et[jt]=null,as=Et[--jt],Et[jt]=null}var nt=null,ze=null,be=!1,ni=null,Ft=!1,Mo=Error(Z(519));function ci(e){var t=Error(Z(418,""));throw sn(kt(t,e)),Mo}function Ah(e){var t=e.stateNode,s=e.type,i=e.memoizedProps;switch(t[st]=e,t[ut]=i,s){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(s=0;s<an.length;s++)pe(an[s],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),Rf(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ja(t);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Lf(t,i.value,i.defaultValue,i.children),ja(t)}s=i.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||i.suppressHydrationWarning===!0||Mp(t.textContent,s)?(i.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),i.onScroll!=null&&pe("scroll",t),i.onScrollEnd!=null&&pe("scrollend",t),i.onClick!=null&&(t.onclick=vl),t=!0):t=!1,t||ci(e)}function Nh(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:nt=nt.return}}function wr(e){if(e!==nt)return!1;if(!be)return Nh(e),be=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||lc(e.type,e.memoizedProps)),s=!s),s&&ze&&ci(e),Nh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(t===0){ze=zt(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++;e=e.nextSibling}ze=null}}else t===27?(t=ze,Xs(e.type)?(e=uc,uc=null,ze=e):ze=t):ze=nt?zt(e.stateNode.nextSibling):null;return!0}function Cn(){ze=nt=null,be=!1}function kh(){var e=ni;return e!==null&&(ct===null?ct=e:ct.push.apply(ct,e),ni=null),e}function sn(e){ni===null?ni=[e]:ni.push(e)}var Bo=Xt(null),_i=null,os=null;function js(e,t,s){Me(Bo,t._currentValue),t._currentValue=s}function hs(e){e._currentValue=Bo.current,Qe(Bo)}function Ho(e,t,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===s)break;e=e.return}}function zo(e,t,s,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){var m=r.child;l=l.firstContext;e:for(;l!==null;){var n=l;l=r;for(var c=0;c<t.length;c++)if(n.context===t[c]){l.lanes|=s,n=l.alternate,n!==null&&(n.lanes|=s),Ho(l.return,s,e),i||(m=null);break e}l=n.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(Z(341));m.lanes|=s,l=m.alternate,l!==null&&(l.lanes|=s),Ho(m,s,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function wn(e,t,s,i){e=null;for(var r=t,l=!1;r!==null;){if(!l){if(r.flags&524288)l=!0;else if(r.flags&262144)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(Z(387));if(m=m.memoizedProps,m!==null){var n=r.type;St(r.pendingProps.value,m.value)||(e!==null?e.push(n):e=[n])}}else if(r===xa.current){if(m=r.alternate,m===null)throw Error(Z(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(cn):e=[cn])}r=r.return}e!==null&&zo(t,e,s,i),t.flags|=262144}function Da(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ui(e){_i=e,os=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return tm(_i,e)}function Fn(e,t){return _i===null&&ui(e),tm(e,t)}function tm(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},os===null){if(e===null)throw Error(Z(308));os=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else os=os.next=t;return s}var s0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},i0=Ke.unstable_scheduleCallback,r0=Ke.unstable_NormalPriority,Ge={$$typeof:ns,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vc(){return{controller:new s0,data:new Map,refCount:0}}function En(e){e.refCount--,e.refCount===0&&i0(r0,function(){e.controller.abort()})}var zr=null,Uo=0,er=0,Gi=null;function n0(e,t){if(zr===null){var s=zr=[];Uo=0,er=_u(),Gi={status:"pending",value:void 0,then:function(i){s.push(i)}}}return Uo++,t.then(Th,Th),t}function Th(){if(--Uo===0&&zr!==null){Gi!==null&&(Gi.status="fulfilled");var e=zr;zr=null,er=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function a0(e,t){var s=[],i={status:"pending",value:null,reason:null,then:function(r){s.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<s.length;r++)(0,s[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<s.length;r++)(0,s[r])(void 0)}),i}var Dh=ce.S;ce.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&n0(e,t),Dh!==null&&Dh(e,t)};var ai=Xt(null);function Xc(){var e=ai.current;return e!==null?e:De.pooledCache}function la(e,t){t===null?Me(ai,ai.current):Me(ai,t.pool)}function sm(){var e=Xc();return e===null?null:{parent:Ge._currentValue,pool:e}}var jn=Error(Z(460)),im=Error(Z(474)),cl=Error(Z(542)),Po={then:function(){}};function Rh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $n(){}function rm(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then($n,$n),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e;default:if(typeof t.status=="string")t.then($n,$n);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(Z(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e}throw Ur=t,jn}}var Ur=null;function Oh(){if(Ur===null)throw Error(Z(459));var e=Ur;return Ur=null,e}function Lh(e){if(e===jn||e===cl)throw Error(Z(483))}var Es=!1;function Qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ee&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Na(e),Jf(e,null,s),t}return ol(e,i,t,s),Na(e)}function Pr(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,jf(e,s)}}function Fl(e,t){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var r=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};l===null?r=l=m:l=l.next=m,s=s.next}while(s!==null);l===null?r=l=t:l=l.next=t}else r=l=t;s={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var qo=!1;function Ir(){if(qo){var e=Gi;if(e!==null)throw e}}function qr(e,t,s,i){qo=!1;var r=e.updateQueue;Es=!1;var l=r.firstBaseUpdate,m=r.lastBaseUpdate,n=r.shared.pending;if(n!==null){r.shared.pending=null;var c=n,p=c.next;c.next=null,m===null?l=p:m.next=p,m=c;var b=e.alternate;b!==null&&(b=b.updateQueue,n=b.lastBaseUpdate,n!==m&&(n===null?b.firstBaseUpdate=p:n.next=p,b.lastBaseUpdate=c))}if(l!==null){var f=r.baseState;m=0,b=p=c=null,n=l;do{var g=n.lane&-536870913,y=g!==n.lane;if(y?(ge&g)===g:(i&g)===g){g!==0&&g===er&&(qo=!0),b!==null&&(b=b.next={lane:0,tag:n.tag,payload:n.payload,callback:null,next:null});e:{var C=e,x=n;g=t;var h=s;switch(x.tag){case 1:if(C=x.payload,typeof C=="function"){f=C.call(h,f,g);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=x.payload,g=typeof C=="function"?C.call(h,f,g):C,g==null)break e;f=Oe({},f,g);break e;case 2:Es=!0}}g=n.callback,g!==null&&(e.flags|=64,y&&(e.flags|=8192),y=r.callbacks,y===null?r.callbacks=[g]:y.push(g))}else y={lane:g,tag:n.tag,payload:n.payload,callback:n.callback,next:null},b===null?(p=b=y,c=f):b=b.next=y,m|=g;if(n=n.next,n===null){if(n=r.shared.pending,n===null)break;y=n,n=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);b===null&&(c=f),r.baseState=c,r.firstBaseUpdate=p,r.lastBaseUpdate=b,l===null&&(r.shared.lanes=0),Gs|=m,e.lanes=m,e.memoizedState=f}}function nm(e,t){if(typeof e!="function")throw Error(Z(191,e));e.call(t)}function am(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)nm(s[e],t)}var tr=Xt(null),Ra=Xt(0);function Mh(e,t){e=ps,Me(Ra,e),Me(tr,t),ps=e|t.baseLanes}function Fo(){Me(Ra,ps),Me(tr,tr.current)}function Jc(){ps=Ra.current,Qe(tr),Qe(Ra)}var Fs=0,me=null,Ae=null,qe=null,Oa=!1,Wi=!1,hi=!1,La=0,rn=0,Ki=null,l0=0;function Pe(){throw Error(Z(321))}function Zc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!St(e[s],t[s]))return!1;return!0}function eu(e,t,s,i,r,l){return Fs=l,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ce.H=e===null||e.memoizedState===null?Hm:zm,hi=!1,l=s(i,r),hi=!1,Wi&&(l=om(t,s,i,r)),lm(e),l}function lm(e){ce.H=Ma;var t=Ae!==null&&Ae.next!==null;if(Fs=0,qe=Ae=me=null,Oa=!1,rn=0,Ki=null,t)throw Error(Z(300));e===null||Xe||(e=e.dependencies,e!==null&&Da(e)&&(Xe=!0))}function om(e,t,s,i){me=e;var r=0;do{if(Wi&&(Ki=null),rn=0,Wi=!1,25<=r)throw Error(Z(301));if(r+=1,qe=Ae=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}ce.H=m0,l=t(s,i)}while(Wi);return l}function o0(){var e=ce.H,t=e.useState()[0];return t=typeof t.then=="function"?An(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(me.flags|=1024),t}function tu(){var e=La!==0;return La=0,e}function su(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function iu(e){if(Oa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Oa=!1}Fs=0,qe=Ae=me=null,Wi=!1,rn=La=0,Ki=null}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?me.memoizedState=qe=e:qe=qe.next=e,qe}function Fe(){if(Ae===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=qe===null?me.memoizedState:qe.next;if(t!==null)qe=t,Ae=e;else{if(e===null)throw me.alternate===null?Error(Z(467)):Error(Z(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},qe===null?me.memoizedState=qe=e:qe=qe.next=e}return qe}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function An(e){var t=rn;return rn+=1,Ki===null&&(Ki=[]),e=rm(Ki,e,t),t=me,(qe===null?t.memoizedState:qe.next)===null&&(t=t.alternate,ce.H=t===null||t.memoizedState===null?Hm:zm),e}function ul(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return An(e);if(e.$$typeof===ns)return it(e)}throw Error(Z(438,String(e)))}function nu(e){var t=null,s=me.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var i=me.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=ru(),me.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),i=0;i<e;i++)s[i]=Wg;return t.index++,s}function fs(e,t){return typeof t=="function"?t(e):t}function oa(e){var t=Fe();return au(t,Ae,e)}function au(e,t,s){var i=e.queue;if(i===null)throw Error(Z(311));i.lastRenderedReducer=s;var r=e.baseQueue,l=i.pending;if(l!==null){if(r!==null){var m=r.next;r.next=l.next,l.next=m}t.baseQueue=r=l,i.pending=null}if(l=e.baseState,r===null)e.memoizedState=l;else{t=r.next;var n=m=null,c=null,p=t,b=!1;do{var f=p.lane&-536870913;if(f!==p.lane?(ge&f)===f:(Fs&f)===f){var g=p.revertLane;if(g===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),f===er&&(b=!0);else if((Fs&g)===g){p=p.next,g===er&&(b=!0);continue}else f={lane:0,revertLane:p.revertLane,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},c===null?(n=c=f,m=l):c=c.next=f,me.lanes|=g,Gs|=g;f=p.action,hi&&s(l,f),l=p.hasEagerState?p.eagerState:s(l,f)}else g={lane:f,revertLane:p.revertLane,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},c===null?(n=c=g,m=l):c=c.next=g,me.lanes|=f,Gs|=f;p=p.next}while(p!==null&&p!==t);if(c===null?m=l:c.next=n,!St(l,e.memoizedState)&&(Xe=!0,b&&(s=Gi,s!==null)))throw s;e.memoizedState=l,e.baseState=m,e.baseQueue=c,i.lastRenderedState=l}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function $l(e){var t=Fe(),s=t.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=e;var i=s.dispatch,r=s.pending,l=t.memoizedState;if(r!==null){s.pending=null;var m=r=r.next;do l=e(l,m.action),m=m.next;while(m!==r);St(l,t.memoizedState)||(Xe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,i]}function cm(e,t,s){var i=me,r=Fe(),l=be;if(l){if(s===void 0)throw Error(Z(407));s=s()}else s=t();var m=!St((Ae||r).memoizedState,s);m&&(r.memoizedState=s,Xe=!0),r=r.queue;var n=dm.bind(null,i,r,e);if(Nn(2048,8,n,[e]),r.getSnapshot!==t||m||qe!==null&&qe.memoizedState.tag&1){if(i.flags|=2048,sr(9,hl(),hm.bind(null,i,r,s,t),null),De===null)throw Error(Z(349));l||Fs&124||um(i,t,s)}return s}function um(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=me.updateQueue,t===null?(t=ru(),me.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function hm(e,t,s,i){t.value=s,t.getSnapshot=i,fm(t)&&mm(e)}function dm(e,t,s){return s(function(){fm(t)&&mm(e)})}function fm(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!St(e,s)}catch{return!0}}function mm(e){var t=mr(e,2);t!==null&&bt(t,e,2)}function $o(e){var t=lt();if(typeof e=="function"){var s=e;if(e=s(),hi){Ts(!0);try{s()}finally{Ts(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function pm(e,t,s,i){return e.baseState=s,au(e,Ae,typeof i=="function"?i:fs)}function c0(e,t,s,i,r){if(dl(e))throw Error(Z(485));if(e=t.action,e!==null){var l={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){l.listeners.push(m)}};ce.T!==null?s(!0):l.isTransition=!1,i(l),s=t.pending,s===null?(l.next=t.pending=l,vm(t,l)):(l.next=s.next,t.pending=s.next=l)}}function vm(e,t){var s=t.action,i=t.payload,r=e.state;if(t.isTransition){var l=ce.T,m={};ce.T=m;try{var n=s(r,i),c=ce.S;c!==null&&c(m,n),Bh(e,t,n)}catch(p){Go(e,t,p)}finally{ce.T=l}}else try{l=s(r,i),Bh(e,t,l)}catch(p){Go(e,t,p)}}function Bh(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(i){Hh(e,t,i)},function(i){return Go(e,t,i)}):Hh(e,t,s)}function Hh(e,t,s){t.status="fulfilled",t.value=s,gm(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,vm(e,s)))}function Go(e,t,s){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=s,gm(t),t=t.next;while(t!==i)}e.action=null}function gm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _m(e,t){return t}function zh(e,t){if(be){var s=De.formState;if(s!==null){e:{var i=me;if(be){if(ze){t:{for(var r=ze,l=Ft;r.nodeType!==8;){if(!l){r=null;break t}if(r=zt(r.nextSibling),r===null){r=null;break t}}l=r.data,r=l==="F!"||l==="F"?r:null}if(r){ze=zt(r.nextSibling),i=r.data==="F!";break e}}ci(i)}i=!1}i&&(t=s[0])}}return s=lt(),s.memoizedState=s.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:t},s.queue=i,s=Lm.bind(null,me,i),i.dispatch=s,i=$o(!1),l=uu.bind(null,me,!1,i.queue),i=lt(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,s=c0.bind(null,me,r,l,s),r.dispatch=s,i.memoizedState=e,[t,s,!1]}function Uh(e){var t=Fe();return ym(t,Ae,e)}function ym(e,t,s){if(t=au(e,t,_m)[0],e=oa(fs)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=An(t)}catch(m){throw m===jn?cl:m}else i=t;t=Fe();var r=t.queue,l=r.dispatch;return s!==t.memoizedState&&(me.flags|=2048,sr(9,hl(),u0.bind(null,r,s),null)),[i,l,e]}function u0(e,t){e.action=t}function Ph(e){var t=Fe(),s=Ae;if(s!==null)return ym(t,s,e);Fe(),t=t.memoizedState,s=Fe();var i=s.queue.dispatch;return s.memoizedState=e,[t,i,!1]}function sr(e,t,s,i){return e={tag:e,create:s,deps:i,inst:t,next:null},t=me.updateQueue,t===null&&(t=ru(),me.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,t.lastEffect=e),e}function hl(){return{destroy:void 0,resource:void 0}}function bm(){return Fe().memoizedState}function ca(e,t,s,i){var r=lt();i=i===void 0?null:i,me.flags|=e,r.memoizedState=sr(1|t,hl(),s,i)}function Nn(e,t,s,i){var r=Fe();i=i===void 0?null:i;var l=r.memoizedState.inst;Ae!==null&&i!==null&&Zc(i,Ae.memoizedState.deps)?r.memoizedState=sr(t,l,s,i):(me.flags|=e,r.memoizedState=sr(1|t,l,s,i))}function Ih(e,t){ca(8390656,8,e,t)}function Sm(e,t){Nn(2048,8,e,t)}function xm(e,t){return Nn(4,2,e,t)}function Cm(e,t){return Nn(4,4,e,t)}function wm(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Em(e,t,s){s=s!=null?s.concat([e]):null,Nn(4,4,wm.bind(null,t,e),s)}function lu(){}function jm(e,t){var s=Fe();t=t===void 0?null:t;var i=s.memoizedState;return t!==null&&Zc(t,i[1])?i[0]:(s.memoizedState=[e,t],e)}function Am(e,t){var s=Fe();t=t===void 0?null:t;var i=s.memoizedState;if(t!==null&&Zc(t,i[1]))return i[0];if(i=e(),hi){Ts(!0);try{e()}finally{Ts(!1)}}return s.memoizedState=[i,t],i}function ou(e,t,s){return s===void 0||Fs&1073741824?e.memoizedState=t:(e.memoizedState=s,e=gp(),me.lanes|=e,Gs|=e,s)}function Nm(e,t,s,i){return St(s,t)?s:tr.current!==null?(e=ou(e,s,i),St(e,t)||(Xe=!0),e):Fs&42?(e=gp(),me.lanes|=e,Gs|=e,t):(Xe=!0,e.memoizedState=s)}function km(e,t,s,i,r){var l=Se.p;Se.p=l!==0&&8>l?l:8;var m=ce.T,n={};ce.T=n,uu(e,!1,t,s);try{var c=r(),p=ce.S;if(p!==null&&p(n,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var b=a0(c,i);Fr(e,t,b,yt(e))}else Fr(e,t,i,yt(e))}catch(f){Fr(e,t,{then:function(){},status:"rejected",reason:f},yt())}finally{Se.p=l,ce.T=m}}function h0(){}function Wo(e,t,s,i){if(e.tag!==5)throw Error(Z(476));var r=Tm(e).queue;km(e,r,t,si,s===null?h0:function(){return Dm(e),s(i)})}function Tm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:si,baseState:si,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:si},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dm(e){var t=Tm(e).next.queue;Fr(e,t,{},yt())}function cu(){return it(cn)}function Rm(){return Fe().memoizedState}function Om(){return Fe().memoizedState}function d0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=yt();e=Bs(s);var i=Hs(t,e,s);i!==null&&(bt(i,t,s),Pr(i,t,s)),t={cache:Vc()},e.payload=t;return}t=t.return}}function f0(e,t,s){var i=yt();s={lane:i,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},dl(e)?Mm(t,s):(s=Gc(e,t,s,i),s!==null&&(bt(s,e,i),Bm(s,t,i)))}function Lm(e,t,s){var i=yt();Fr(e,t,s,i)}function Fr(e,t,s,i){var r={lane:i,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(dl(e))Mm(t,r);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var m=t.lastRenderedState,n=l(m,s);if(r.hasEagerState=!0,r.eagerState=n,St(n,m))return ol(e,t,r,0),De===null&&ll(),!1}catch{}finally{}if(s=Gc(e,t,r,i),s!==null)return bt(s,e,i),Bm(s,t,i),!0}return!1}function uu(e,t,s,i){if(i={lane:2,revertLane:_u(),action:i,hasEagerState:!1,eagerState:null,next:null},dl(e)){if(t)throw Error(Z(479))}else t=Gc(e,s,i,2),t!==null&&bt(t,e,2)}function dl(e){var t=e.alternate;return e===me||t!==null&&t===me}function Mm(e,t){Wi=Oa=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Bm(e,t,s){if(s&4194048){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,jf(e,s)}}var Ma={readContext:it,use:ul,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},Hm={readContext:it,use:ul,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Ih,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,ca(4194308,4,wm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ca(4194308,4,e,t)},useInsertionEffect:function(e,t){ca(4,2,e,t)},useMemo:function(e,t){var s=lt();t=t===void 0?null:t;var i=e();if(hi){Ts(!0);try{e()}finally{Ts(!1)}}return s.memoizedState=[i,t],i},useReducer:function(e,t,s){var i=lt();if(s!==void 0){var r=s(t);if(hi){Ts(!0);try{s(t)}finally{Ts(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=f0.bind(null,me,e),[i.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:function(e){e=$o(e);var t=e.queue,s=Lm.bind(null,me,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:lu,useDeferredValue:function(e,t){var s=lt();return ou(s,e,t)},useTransition:function(){var e=$o(!1);return e=km.bind(null,me,e.queue,!0,!1),lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var i=me,r=lt();if(be){if(s===void 0)throw Error(Z(407));s=s()}else{if(s=t(),De===null)throw Error(Z(349));ge&124||um(i,t,s)}r.memoizedState=s;var l={value:s,getSnapshot:t};return r.queue=l,Ih(dm.bind(null,i,l,e),[e]),i.flags|=2048,sr(9,hl(),hm.bind(null,i,l,s,t),null),s},useId:function(){var e=lt(),t=De.identifierPrefix;if(be){var s=ls,i=as;s=(i&~(1<<32-_t(i)-1)).toString(32)+s,t=""+t+"R"+s,s=La++,0<s&&(t+="H"+s.toString(32)),t+=""}else s=l0++,t=""+t+"r"+s.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:cu,useFormState:zh,useActionState:zh,useOptimistic:function(e){var t=lt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=uu.bind(null,me,!0,s),s.dispatch=t,[e,t]},useMemoCache:nu,useCacheRefresh:function(){return lt().memoizedState=d0.bind(null,me)}},zm={readContext:it,use:ul,useCallback:jm,useContext:it,useEffect:Sm,useImperativeHandle:Em,useInsertionEffect:xm,useLayoutEffect:Cm,useMemo:Am,useReducer:oa,useRef:bm,useState:function(){return oa(fs)},useDebugValue:lu,useDeferredValue:function(e,t){var s=Fe();return Nm(s,Ae.memoizedState,e,t)},useTransition:function(){var e=oa(fs)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:An(e),t]},useSyncExternalStore:cm,useId:Rm,useHostTransitionStatus:cu,useFormState:Uh,useActionState:Uh,useOptimistic:function(e,t){var s=Fe();return pm(s,Ae,e,t)},useMemoCache:nu,useCacheRefresh:Om},m0={readContext:it,use:ul,useCallback:jm,useContext:it,useEffect:Sm,useImperativeHandle:Em,useInsertionEffect:xm,useLayoutEffect:Cm,useMemo:Am,useReducer:$l,useRef:bm,useState:function(){return $l(fs)},useDebugValue:lu,useDeferredValue:function(e,t){var s=Fe();return Ae===null?ou(s,e,t):Nm(s,Ae.memoizedState,e,t)},useTransition:function(){var e=$l(fs)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:An(e),t]},useSyncExternalStore:cm,useId:Rm,useHostTransitionStatus:cu,useFormState:Ph,useActionState:Ph,useOptimistic:function(e,t){var s=Fe();return Ae!==null?pm(s,Ae,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:nu,useCacheRefresh:Om},Yi=null,nn=0;function Gn(e){var t=nn;return nn+=1,Yi===null&&(Yi=[]),rm(Yi,e,t)}function Er(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wn(e,t){throw t.$$typeof===$g?Error(Z(525)):(e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qh(e){var t=e._init;return t(e._payload)}function Um(e){function t(u,o){if(e){var d=u.deletions;d===null?(u.deletions=[o],u.flags|=16):d.push(o)}}function s(u,o){if(!e)return null;for(;o!==null;)t(u,o),o=o.sibling;return null}function i(u){for(var o=new Map;u!==null;)u.key!==null?o.set(u.key,u):o.set(u.index,u),u=u.sibling;return o}function r(u,o){return u=us(u,o),u.index=0,u.sibling=null,u}function l(u,o,d){return u.index=d,e?(d=u.alternate,d!==null?(d=d.index,d<o?(u.flags|=67108866,o):d):(u.flags|=67108866,o)):(u.flags|=1048576,o)}function m(u){return e&&u.alternate===null&&(u.flags|=67108866),u}function n(u,o,d,_){return o===null||o.tag!==6?(o=Il(d,u.mode,_),o.return=u,o):(o=r(o,d),o.return=u,o)}function c(u,o,d,_){var v=d.type;return v===Ni?b(u,o,d.props.children,_,d.key):o!==null&&(o.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===ws&&qh(v)===o.type)?(o=r(o,d.props),Er(o,d),o.return=u,o):(o=aa(d.type,d.key,d.props,null,u.mode,_),Er(o,d),o.return=u,o)}function p(u,o,d,_){return o===null||o.tag!==4||o.stateNode.containerInfo!==d.containerInfo||o.stateNode.implementation!==d.implementation?(o=ql(d,u.mode,_),o.return=u,o):(o=r(o,d.children||[]),o.return=u,o)}function b(u,o,d,_,v){return o===null||o.tag!==7?(o=ii(d,u.mode,_,v),o.return=u,o):(o=r(o,d),o.return=u,o)}function f(u,o,d){if(typeof o=="string"&&o!==""||typeof o=="number"||typeof o=="bigint")return o=Il(""+o,u.mode,d),o.return=u,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case zn:return d=aa(o.type,o.key,o.props,null,u.mode,d),Er(d,o),d.return=u,d;case kr:return o=ql(o,u.mode,d),o.return=u,o;case ws:var _=o._init;return o=_(o._payload),f(u,o,d)}if(Tr(o)||Sr(o))return o=ii(o,u.mode,d,null),o.return=u,o;if(typeof o.then=="function")return f(u,Gn(o),d);if(o.$$typeof===ns)return f(u,Fn(u,o),d);Wn(u,o)}return null}function g(u,o,d,_){var v=o!==null?o.key:null;if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return v!==null?null:n(u,o,""+d,_);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case zn:return d.key===v?c(u,o,d,_):null;case kr:return d.key===v?p(u,o,d,_):null;case ws:return v=d._init,d=v(d._payload),g(u,o,d,_)}if(Tr(d)||Sr(d))return v!==null?null:b(u,o,d,_,null);if(typeof d.then=="function")return g(u,o,Gn(d),_);if(d.$$typeof===ns)return g(u,o,Fn(u,d),_);Wn(u,d)}return null}function y(u,o,d,_,v){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return u=u.get(d)||null,n(o,u,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zn:return u=u.get(_.key===null?d:_.key)||null,c(o,u,_,v);case kr:return u=u.get(_.key===null?d:_.key)||null,p(o,u,_,v);case ws:var w=_._init;return _=w(_._payload),y(u,o,d,_,v)}if(Tr(_)||Sr(_))return u=u.get(d)||null,b(o,u,_,v,null);if(typeof _.then=="function")return y(u,o,d,Gn(_),v);if(_.$$typeof===ns)return y(u,o,d,Fn(o,_),v);Wn(o,_)}return null}function C(u,o,d,_){for(var v=null,w=null,E=o,S=o=0,j=null;E!==null&&S<d.length;S++){E.index>S?(j=E,E=null):j=E.sibling;var T=g(u,E,d[S],_);if(T===null){E===null&&(E=j);break}e&&E&&T.alternate===null&&t(u,E),o=l(T,o,S),w===null?v=T:w.sibling=T,w=T,E=j}if(S===d.length)return s(u,E),be&&Zs(u,S),v;if(E===null){for(;S<d.length;S++)E=f(u,d[S],_),E!==null&&(o=l(E,o,S),w===null?v=E:w.sibling=E,w=E);return be&&Zs(u,S),v}for(E=i(E);S<d.length;S++)j=y(E,u,S,d[S],_),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?S:j.key),o=l(j,o,S),w===null?v=j:w.sibling=j,w=j);return e&&E.forEach(function(z){return t(u,z)}),be&&Zs(u,S),v}function x(u,o,d,_){if(d==null)throw Error(Z(151));for(var v=null,w=null,E=o,S=o=0,j=null,T=d.next();E!==null&&!T.done;S++,T=d.next()){E.index>S?(j=E,E=null):j=E.sibling;var z=g(u,E,T.value,_);if(z===null){E===null&&(E=j);break}e&&E&&z.alternate===null&&t(u,E),o=l(z,o,S),w===null?v=z:w.sibling=z,w=z,E=j}if(T.done)return s(u,E),be&&Zs(u,S),v;if(E===null){for(;!T.done;S++,T=d.next())T=f(u,T.value,_),T!==null&&(o=l(T,o,S),w===null?v=T:w.sibling=T,w=T);return be&&Zs(u,S),v}for(E=i(E);!T.done;S++,T=d.next())T=y(E,u,S,T.value,_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?S:T.key),o=l(T,o,S),w===null?v=T:w.sibling=T,w=T);return e&&E.forEach(function(k){return t(u,k)}),be&&Zs(u,S),v}function h(u,o,d,_){if(typeof d=="object"&&d!==null&&d.type===Ni&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case zn:e:{for(var v=d.key;o!==null;){if(o.key===v){if(v=d.type,v===Ni){if(o.tag===7){s(u,o.sibling),_=r(o,d.props.children),_.return=u,u=_;break e}}else if(o.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===ws&&qh(v)===o.type){s(u,o.sibling),_=r(o,d.props),Er(_,d),_.return=u,u=_;break e}s(u,o);break}else t(u,o);o=o.sibling}d.type===Ni?(_=ii(d.props.children,u.mode,_,d.key),_.return=u,u=_):(_=aa(d.type,d.key,d.props,null,u.mode,_),Er(_,d),_.return=u,u=_)}return m(u);case kr:e:{for(v=d.key;o!==null;){if(o.key===v)if(o.tag===4&&o.stateNode.containerInfo===d.containerInfo&&o.stateNode.implementation===d.implementation){s(u,o.sibling),_=r(o,d.children||[]),_.return=u,u=_;break e}else{s(u,o);break}else t(u,o);o=o.sibling}_=ql(d,u.mode,_),_.return=u,u=_}return m(u);case ws:return v=d._init,d=v(d._payload),h(u,o,d,_)}if(Tr(d))return C(u,o,d,_);if(Sr(d)){if(v=Sr(d),typeof v!="function")throw Error(Z(150));return d=v.call(d),x(u,o,d,_)}if(typeof d.then=="function")return h(u,o,Gn(d),_);if(d.$$typeof===ns)return h(u,o,Fn(u,d),_);Wn(u,d)}return typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint"?(d=""+d,o!==null&&o.tag===6?(s(u,o.sibling),_=r(o,d),_.return=u,u=_):(s(u,o),_=Il(d,u.mode,_),_.return=u,u=_),m(u)):s(u,o)}return function(u,o,d,_){try{nn=0;var v=h(u,o,d,_);return Yi=null,v}catch(E){if(E===jn||E===cl)throw E;var w=vt(29,E,null,u.mode);return w.lanes=_,w.return=u,w}finally{}}}var ir=Um(!0),Pm=Um(!1),Rt=Xt(null),Yt=null;function As(e){var t=e.alternate;Me(We,We.current&1),Me(Rt,e),Yt===null&&(t===null||tr.current!==null||t.memoizedState!==null)&&(Yt=e)}function Im(e){if(e.tag===22){if(Me(We,We.current),Me(Rt,e),Yt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Yt=e)}}else Ns()}function Ns(){Me(We,We.current),Me(Rt,Rt.current)}function cs(e){Qe(Rt),Yt===e&&(Yt=null),Qe(We)}var We=Xt(0);function Ba(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||cc(s)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Gl(e,t,s,i){t=e.memoizedState,s=s(i,t),s=s==null?t:Oe({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ko={enqueueSetState:function(e,t,s){e=e._reactInternals;var i=yt(),r=Bs(i);r.payload=t,s!=null&&(r.callback=s),t=Hs(e,r,i),t!==null&&(bt(t,e,i),Pr(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var i=yt(),r=Bs(i);r.tag=1,r.payload=t,s!=null&&(r.callback=s),t=Hs(e,r,i),t!==null&&(bt(t,e,i),Pr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=yt(),i=Bs(s);i.tag=2,t!=null&&(i.callback=t),t=Hs(e,i,s),t!==null&&(bt(t,e,s),Pr(t,e,s))}};function Fh(e,t,s,i,r,l,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,m):t.prototype&&t.prototype.isPureReactComponent?!tn(s,i)||!tn(r,l):!0}function $h(e,t,s,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,i),t.state!==e&&Ko.enqueueReplaceState(t,t.state,null)}function di(e,t){var s=t;if("ref"in t){s={};for(var i in t)i!=="ref"&&(s[i]=t[i])}if(e=e.defaultProps){s===t&&(s=Oe({},s));for(var r in e)s[r]===void 0&&(s[r]=e[r])}return s}var Ha=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qm(e){Ha(e)}function Fm(e){console.error(e)}function $m(e){Ha(e)}function za(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Gh(e,t,s){try{var i=e.onCaughtError;i(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Yo(e,t,s){return s=Bs(s),s.tag=3,s.payload={element:null},s.callback=function(){za(e,t)},s}function Gm(e){return e=Bs(e),e.tag=3,e}function Wm(e,t,s,i){var r=s.type.getDerivedStateFromError;if(typeof r=="function"){var l=i.value;e.payload=function(){return r(l)},e.callback=function(){Gh(t,s,i)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Gh(t,s,i),typeof r!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var n=i.stack;this.componentDidCatch(i.value,{componentStack:n!==null?n:""})})}function p0(e,t,s,i,r){if(s.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=s.alternate,t!==null&&wn(t,s,r,!0),s=Rt.current,s!==null){switch(s.tag){case 13:return Yt===null?sc():s.alternate===null&&Ue===0&&(Ue=3),s.flags&=-257,s.flags|=65536,s.lanes=r,i===Po?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([i]):t.add(i),so(e,i,r)),!1;case 22:return s.flags|=65536,i===Po?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([i]):s.add(i)),so(e,i,r)),!1}throw Error(Z(435,s.tag))}return so(e,i,r),sc(),!1}if(be)return t=Rt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Mo&&(e=Error(Z(422),{cause:i}),sn(kt(e,s)))):(i!==Mo&&(t=Error(Z(423),{cause:i}),sn(kt(t,s))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=kt(i,s),r=Yo(e.stateNode,i,r),Fl(e,r),Ue!==4&&(Ue=2)),!1;var l=Error(Z(520),{cause:i});if(l=kt(l,s),Wr===null?Wr=[l]:Wr.push(l),Ue!==4&&(Ue=2),t===null)return!0;i=kt(i,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=r&-r,s.lanes|=e,e=Yo(s.stateNode,i,e),Fl(s,e),!1;case 1:if(t=s.type,l=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))))return s.flags|=65536,r&=-r,s.lanes|=r,r=Gm(r),Wm(r,e,s,i),Fl(s,r),!1}s=s.return}while(s!==null);return!1}var Km=Error(Z(461)),Xe=!1;function Je(e,t,s,i){t.child=e===null?Pm(t,null,s,i):ir(t,e.child,s,i)}function Wh(e,t,s,i,r){s=s.render;var l=t.ref;if("ref"in i){var m={};for(var n in i)n!=="ref"&&(m[n]=i[n])}else m=i;return ui(t),i=eu(e,t,s,m,l,r),n=tu(),e!==null&&!Xe?(su(e,t,r),ms(e,t,r)):(be&&n&&Kc(t),t.flags|=1,Je(e,t,i,r),t.child)}function Kh(e,t,s,i,r){if(e===null){var l=s.type;return typeof l=="function"&&!Wc(l)&&l.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=l,Ym(e,t,l,i,r)):(e=aa(s.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!hu(e,r)){var m=l.memoizedProps;if(s=s.compare,s=s!==null?s:tn,s(m,i)&&e.ref===t.ref)return ms(e,t,r)}return t.flags|=1,e=us(l,i),e.ref=t.ref,e.return=t,t.child=e}function Ym(e,t,s,i,r){if(e!==null){var l=e.memoizedProps;if(tn(l,i)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=i=l,hu(e,r))e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,ms(e,t,r)}return Vo(e,t,s,i,r)}function Vm(e,t,s){var i=t.pendingProps,r=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=l!==null?l.baseLanes|s:s,e!==null){for(r=t.child=e.child,l=0;r!==null;)l=l|r.lanes|r.childLanes,r=r.sibling;t.childLanes=l&~i}else t.childLanes=0,t.child=null;return Yh(e,t,i,s)}if(s&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&la(t,l!==null?l.cachePool:null),l!==null?Mh(t,l):Fo(),Im(t);else return t.lanes=t.childLanes=536870912,Yh(e,t,l!==null?l.baseLanes|s:s,s)}else l!==null?(la(t,l.cachePool),Mh(t,l),Ns(),t.memoizedState=null):(e!==null&&la(t,null),Fo(),Ns());return Je(e,t,r,s),t.child}function Yh(e,t,s,i){var r=Xc();return r=r===null?null:{parent:Ge._currentValue,pool:r},t.memoizedState={baseLanes:s,cachePool:r},e!==null&&la(t,null),Fo(),Im(t),e!==null&&wn(e,t,i,!0),null}function ua(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(Z(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Vo(e,t,s,i,r){return ui(t),s=eu(e,t,s,i,void 0,r),i=tu(),e!==null&&!Xe?(su(e,t,r),ms(e,t,r)):(be&&i&&Kc(t),t.flags|=1,Je(e,t,s,r),t.child)}function Vh(e,t,s,i,r,l){return ui(t),t.updateQueue=null,s=om(t,i,s,r),lm(e),i=tu(),e!==null&&!Xe?(su(e,t,l),ms(e,t,l)):(be&&i&&Kc(t),t.flags|=1,Je(e,t,s,l),t.child)}function Xh(e,t,s,i,r){if(ui(t),t.stateNode===null){var l=Bi,m=s.contextType;typeof m=="object"&&m!==null&&(l=it(m)),l=new s(i,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ko,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=i,l.state=t.memoizedState,l.refs={},Qc(t),m=s.contextType,l.context=typeof m=="object"&&m!==null?it(m):Bi,l.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Gl(t,s,m,i),l.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(m=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),m!==l.state&&Ko.enqueueReplaceState(l,l.state,null),qr(t,i,l,r),Ir(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){l=t.stateNode;var n=t.memoizedProps,c=di(s,n);l.props=c;var p=l.context,b=s.contextType;m=Bi,typeof b=="object"&&b!==null&&(m=it(b));var f=s.getDerivedStateFromProps;b=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function",n=t.pendingProps!==n,b||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(n||p!==m)&&$h(t,l,i,m),Es=!1;var g=t.memoizedState;l.state=g,qr(t,i,l,r),Ir(),p=t.memoizedState,n||g!==p||Es?(typeof f=="function"&&(Gl(t,s,f,i),p=t.memoizedState),(c=Es||Fh(t,s,c,i,g,p,m))?(b||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=p),l.props=i,l.state=p,l.context=m,i=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,Io(e,t),m=t.memoizedProps,b=di(s,m),l.props=b,f=t.pendingProps,g=l.context,p=s.contextType,c=Bi,typeof p=="object"&&p!==null&&(c=it(p)),n=s.getDerivedStateFromProps,(p=typeof n=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(m!==f||g!==c)&&$h(t,l,i,c),Es=!1,g=t.memoizedState,l.state=g,qr(t,i,l,r),Ir();var y=t.memoizedState;m!==f||g!==y||Es||e!==null&&e.dependencies!==null&&Da(e.dependencies)?(typeof n=="function"&&(Gl(t,s,n,i),y=t.memoizedState),(b=Es||Fh(t,s,b,i,g,y,c)||e!==null&&e.dependencies!==null&&Da(e.dependencies))?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,y,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||m===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),l.props=i,l.state=y,l.context=c,i=b):(typeof l.componentDidUpdate!="function"||m===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return l=i,ua(e,t),i=(t.flags&128)!==0,l||i?(l=t.stateNode,s=i&&typeof s.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&i?(t.child=ir(t,e.child,null,r),t.child=ir(t,null,s,r)):Je(e,t,s,r),t.memoizedState=l.state,e=t.child):e=ms(e,t,r),e}function Qh(e,t,s,i){return Cn(),t.flags|=256,Je(e,t,s,i),t.child}var Wl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kl(e){return{baseLanes:e,cachePool:sm()}}function Yl(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Dt),e}function Xm(e,t,s){var i=t.pendingProps,r=!1,l=(t.flags&128)!==0,m;if((m=l)||(m=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(r?As(t):Ns(),be){var n=ze,c;if(c=n){e:{for(c=n,n=Ft;c.nodeType!==8;){if(!n){n=null;break e}if(c=zt(c.nextSibling),c===null){n=null;break e}}n=c}n!==null?(t.memoizedState={dehydrated:n,treeContext:ri!==null?{id:as,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},c=vt(18,null,null,0),c.stateNode=n,c.return=t,t.child=c,nt=t,ze=null,c=!0):c=!1}c||ci(t)}if(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null))return cc(n)?t.lanes=32:t.lanes=536870912,null;cs(t)}return n=i.children,i=i.fallback,r?(Ns(),r=t.mode,n=Ua({mode:"hidden",children:n},r),i=ii(i,r,s,null),n.return=t,i.return=t,n.sibling=i,t.child=n,r=t.child,r.memoizedState=Kl(s),r.childLanes=Yl(e,m,s),t.memoizedState=Wl,i):(As(t),Xo(t,n))}if(c=e.memoizedState,c!==null&&(n=c.dehydrated,n!==null)){if(l)t.flags&256?(As(t),t.flags&=-257,t=Vl(e,t,s)):t.memoizedState!==null?(Ns(),t.child=e.child,t.flags|=128,t=null):(Ns(),r=i.fallback,n=t.mode,i=Ua({mode:"visible",children:i.children},n),r=ii(r,n,s,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,ir(t,e.child,null,s),i=t.child,i.memoizedState=Kl(s),i.childLanes=Yl(e,m,s),t.memoizedState=Wl,t=r);else if(As(t),cc(n)){if(m=n.nextSibling&&n.nextSibling.dataset,m)var p=m.dgst;m=p,i=Error(Z(419)),i.stack="",i.digest=m,sn({value:i,source:null,stack:null}),t=Vl(e,t,s)}else if(Xe||wn(e,t,s,!1),m=(s&e.childLanes)!==0,Xe||m){if(m=De,m!==null&&(i=s&-s,i=i&42?1:Mc(i),i=i&(m.suspendedLanes|s)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,mr(e,i),bt(m,e,i),Km;n.data==="$?"||sc(),t=Vl(e,t,s)}else n.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ze=zt(n.nextSibling),nt=t,be=!0,ni=null,Ft=!1,e!==null&&(Et[jt++]=as,Et[jt++]=ls,Et[jt++]=ri,as=e.id,ls=e.overflow,ri=t),t=Xo(t,i.children),t.flags|=4096);return t}return r?(Ns(),r=i.fallback,n=t.mode,c=e.child,p=c.sibling,i=us(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,p!==null?r=us(p,r):(r=ii(r,n,s,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,n=e.child.memoizedState,n===null?n=Kl(s):(c=n.cachePool,c!==null?(p=Ge._currentValue,c=c.parent!==p?{parent:p,pool:p}:c):c=sm(),n={baseLanes:n.baseLanes|s,cachePool:c}),r.memoizedState=n,r.childLanes=Yl(e,m,s),t.memoizedState=Wl,i):(As(t),s=e.child,e=s.sibling,s=us(s,{mode:"visible",children:i.children}),s.return=t,s.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=s,t.memoizedState=null,s)}function Xo(e,t){return t=Ua({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ua(e,t){return e=vt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vl(e,t,s){return ir(t,e.child,null,s),e=Xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jh(e,t,s){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ho(e.return,t,s)}function Xl(e,t,s,i,r){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=s,l.tailMode=r)}function Qm(e,t,s){var i=t.pendingProps,r=i.revealOrder,l=i.tail;if(Je(e,t,i.children,s),i=We.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jh(e,s,t);else if(e.tag===19)Jh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Me(We,i),r){case"forwards":for(s=t.child,r=null;s!==null;)e=s.alternate,e!==null&&Ba(e)===null&&(r=s),s=s.sibling;s=r,s===null?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),Xl(t,!1,r,s,l);break;case"backwards":for(s=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ba(e)===null){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}Xl(t,!0,s,null,l);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ms(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Gs|=t.lanes,!(s&t.childLanes))if(e!==null){if(wn(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,s=us(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=us(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function hu(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Da(e)))}function v0(e,t,s){switch(t.tag){case 3:Ca(t,t.stateNode.containerInfo),js(t,Ge,e.memoizedState.cache),Cn();break;case 27:case 5:Eo(t);break;case 4:Ca(t,t.stateNode.containerInfo);break;case 10:js(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(As(t),t.flags|=128,null):s&t.child.childLanes?Xm(e,t,s):(As(t),e=ms(e,t,s),e!==null?e.sibling:null);As(t);break;case 19:var r=(e.flags&128)!==0;if(i=(s&t.childLanes)!==0,i||(wn(e,t,s,!1),i=(s&t.childLanes)!==0),r){if(i)return Qm(e,t,s);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Me(We,We.current),i)break;return null;case 22:case 23:return t.lanes=0,Vm(e,t,s);case 24:js(t,Ge,e.memoizedState.cache)}return ms(e,t,s)}function Jm(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!hu(e,s)&&!(t.flags&128))return Xe=!1,v0(e,t,s);Xe=!!(e.flags&131072)}else Xe=!1,be&&t.flags&1048576&&em(t,Ta,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Wc(i)?(e=di(i,e),t.tag=1,t=Xh(null,t,i,e,s)):(t.tag=0,t=Vo(null,t,i,e,s));else{if(i!=null){if(r=i.$$typeof,r===Rc){t.tag=11,t=Wh(null,t,i,e,s);break e}else if(r===Oc){t.tag=14,t=Kh(null,t,i,e,s);break e}}throw t=Co(i)||i,Error(Z(306,t,""))}}return t;case 0:return Vo(e,t,t.type,t.pendingProps,s);case 1:return i=t.type,r=di(i,t.pendingProps),Xh(e,t,i,r,s);case 3:e:{if(Ca(t,t.stateNode.containerInfo),e===null)throw Error(Z(387));i=t.pendingProps;var l=t.memoizedState;r=l.element,Io(e,t),qr(t,i,null,s);var m=t.memoizedState;if(i=m.cache,js(t,Ge,i),i!==l.cache&&zo(t,[Ge],s,!0),Ir(),i=m.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=Qh(e,t,i,s);break e}else if(i!==r){r=kt(Error(Z(424)),t),sn(r),t=Qh(e,t,i,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=zt(e.firstChild),nt=t,be=!0,ni=null,Ft=!0,s=Pm(t,null,i,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Cn(),i===r){t=ms(e,t,s);break e}Je(e,t,i,s)}t=t.child}return t;case 26:return ua(e,t),e===null?(s=pd(t.type,null,t.pendingProps,null))?t.memoizedState=s:be||(s=t.type,e=t.pendingProps,i=Wa(Ms.current).createElement(s),i[st]=t,i[ut]=e,et(i,s,e),Ve(i),t.stateNode=i):t.memoizedState=pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Eo(t),e===null&&be&&(i=t.stateNode=zp(t.type,t.pendingProps,Ms.current),nt=t,Ft=!0,r=ze,Xs(t.type)?(uc=r,ze=zt(i.firstChild)):ze=r),Je(e,t,t.pendingProps.children,s),ua(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((r=i=ze)&&(i=$0(i,t.type,t.pendingProps,Ft),i!==null?(t.stateNode=i,nt=t,ze=zt(i.firstChild),Ft=!1,r=!0):r=!1),r||ci(t)),Eo(t),r=t.type,l=t.pendingProps,m=e!==null?e.memoizedProps:null,i=l.children,lc(r,l)?i=null:m!==null&&lc(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=eu(e,t,o0,null,null,s),cn._currentValue=r),ua(e,t),Je(e,t,i,s),t.child;case 6:return e===null&&be&&((e=s=ze)&&(s=G0(s,t.pendingProps,Ft),s!==null?(t.stateNode=s,nt=t,ze=null,e=!0):e=!1),e||ci(t)),null;case 13:return Xm(e,t,s);case 4:return Ca(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ir(t,null,i,s):Je(e,t,i,s),t.child;case 11:return Wh(e,t,t.type,t.pendingProps,s);case 7:return Je(e,t,t.pendingProps,s),t.child;case 8:return Je(e,t,t.pendingProps.children,s),t.child;case 12:return Je(e,t,t.pendingProps.children,s),t.child;case 10:return i=t.pendingProps,js(t,t.type,i.value),Je(e,t,i.children,s),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ui(t),r=it(r),i=i(r),t.flags|=1,Je(e,t,i,s),t.child;case 14:return Kh(e,t,t.type,t.pendingProps,s);case 15:return Ym(e,t,t.type,t.pendingProps,s);case 19:return Qm(e,t,s);case 31:return i=t.pendingProps,s=t.mode,i={mode:i.mode,children:i.children},e===null?(s=Ua(i,s),s.ref=t.ref,t.child=s,s.return=t,t=s):(s=us(e.child,i),s.ref=t.ref,t.child=s,s.return=t,t=s),t;case 22:return Vm(e,t,s);case 24:return ui(t),i=it(Ge),e===null?(r=Xc(),r===null&&(r=De,l=Vc(),r.pooledCache=l,l.refCount++,l!==null&&(r.pooledCacheLanes|=s),r=l),t.memoizedState={parent:i,cache:r},Qc(t),js(t,Ge,r)):(e.lanes&s&&(Io(e,t),qr(t,null,null,s),Ir()),r=e.memoizedState,l=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),js(t,Ge,i)):(i=l.cache,js(t,Ge,i),i!==r.cache&&zo(t,[Ge],s,!0))),Je(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(Z(156,t.tag))}function es(e){e.flags|=4}function Zh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Ip(t)){if(t=Rt.current,t!==null&&((ge&4194048)===ge?Yt!==null:(ge&62914560)!==ge&&!(ge&536870912)||t!==Yt))throw Ur=Po,im;e.flags|=8192}}function Kn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wf():536870912,e.lanes|=t,rr|=t)}function jr(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(t)for(var r=e.child;r!==null;)s|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)s|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=s,t}function g0(e,t,s){var i=t.pendingProps;switch(Yc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return s=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),hs(Ge),Qi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wr(t)?es(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kh())),Be(t),null;case 26:return s=t.memoizedState,e===null?(es(t),s!==null?(Be(t),Zh(t,s)):(Be(t),t.flags&=-16777217)):s?s!==e.memoizedState?(es(t),Be(t),Zh(t,s)):(Be(t),t.flags&=-16777217):(e.memoizedProps!==i&&es(t),Be(t),t.flags&=-16777217),null;case 27:wa(t),s=Ms.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&es(t);else{if(!i){if(t.stateNode===null)throw Error(Z(166));return Be(t),null}e=Wt.current,wr(t)?Ah(t):(e=zp(r,i,s),t.stateNode=e,es(t))}return Be(t),null;case 5:if(wa(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&es(t);else{if(!i){if(t.stateNode===null)throw Error(Z(166));return Be(t),null}if(e=Wt.current,wr(t))Ah(t);else{switch(r=Wa(Ms.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}e[st]=t,e[ut]=i;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(et(e,s,i),s){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&es(t)}}return Be(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&es(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Z(166));if(e=Ms.current,wr(t)){if(e=t.stateNode,s=t.memoizedProps,i=null,r=nt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[st]=t,e=!!(e.nodeValue===s||i!==null&&i.suppressHydrationWarning===!0||Mp(e.nodeValue,s)),e||ci(t)}else e=Wa(e).createTextNode(i),e[st]=t,t.stateNode=e}return Be(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=wr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(Z(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Z(317));r[st]=t}else Cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),r=!1}else r=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(cs(t),t):(cs(t),null)}if(cs(t),t.flags&128)return t.lanes=s,t;if(s=i!==null,e=e!==null&&e.memoizedState!==null,s){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var l=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),Kn(t,t.updateQueue),Be(t),null;case 4:return Qi(),e===null&&yu(t.stateNode.containerInfo),Be(t),null;case 10:return hs(t.type),Be(t),null;case 19:if(Qe(We),r=t.memoizedState,r===null)return Be(t),null;if(i=(t.flags&128)!==0,l=r.rendering,l===null)if(i)jr(r,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ba(e),l!==null){for(t.flags|=128,jr(r,!1),e=l.updateQueue,t.updateQueue=e,Kn(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Zf(s,e),s=s.sibling;return Me(We,We.current&1|2),t.child}e=e.sibling}r.tail!==null&&Kt()>Ia&&(t.flags|=128,i=!0,jr(r,!1),t.lanes=4194304)}else{if(!i)if(e=Ba(l),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Kn(t,e),jr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!be)return Be(t),null}else 2*Kt()-r.renderingStartTime>Ia&&s!==536870912&&(t.flags|=128,i=!0,jr(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(e=r.last,e!==null?e.sibling=l:t.child=l,r.last=l)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Kt(),t.sibling=null,e=We.current,Me(We,i?e&1|2:e&1),t):(Be(t),null);case 22:case 23:return cs(t),Jc(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?s&536870912&&!(t.flags&128)&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),s=t.updateQueue,s!==null&&Kn(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==s&&(t.flags|=2048),e!==null&&Qe(ai),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),hs(Ge),Be(t),null;case 25:return null;case 30:return null}throw Error(Z(156,t.tag))}function _0(e,t){switch(Yc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(Ge),Qi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wa(t),null;case 13:if(cs(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(We),null;case 4:return Qi(),null;case 10:return hs(t.type),null;case 22:case 23:return cs(t),Jc(),e!==null&&Qe(ai),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hs(Ge),null;case 25:return null;default:return null}}function Zm(e,t){switch(Yc(t),t.tag){case 3:hs(Ge),Qi();break;case 26:case 27:case 5:wa(t);break;case 4:Qi();break;case 13:cs(t);break;case 19:Qe(We);break;case 10:hs(t.type);break;case 22:case 23:cs(t),Jc(),e!==null&&Qe(ai);break;case 24:hs(Ge)}}function kn(e,t){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var r=i.next;s=r;do{if((s.tag&e)===e){i=void 0;var l=s.create,m=s.inst;i=l(),m.destroy=i}s=s.next}while(s!==r)}}catch(n){Te(t,t.return,n)}}function $s(e,t,s){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var l=r.next;i=l;do{if((i.tag&e)===e){var m=i.inst,n=m.destroy;if(n!==void 0){m.destroy=void 0,r=t;var c=s,p=n;try{p()}catch(b){Te(r,c,b)}}}i=i.next}while(i!==l)}}catch(b){Te(t,t.return,b)}}function ep(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{am(t,s)}catch(i){Te(e,e.return,i)}}}function tp(e,t,s){s.props=di(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(i){Te(e,t,i)}}function $r(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof s=="function"?e.refCleanup=s(i):s.current=i}}catch(r){Te(e,t,r)}}function $t(e,t){var s=e.ref,i=e.refCleanup;if(s!==null)if(typeof i=="function")try{i()}catch(r){Te(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(r){Te(e,t,r)}else s.current=null}function sp(e){var t=e.type,s=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break e;case"img":s.src?i.src=s.src:s.srcSet&&(i.srcset=s.srcSet)}}catch(r){Te(e,e.return,r)}}function Ql(e,t,s){try{var i=e.stateNode;U0(i,e.type,s,t),i[ut]=t}catch(r){Te(e,e.return,r)}}function ip(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function Jl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=vl));else if(i!==4&&(i===27&&Xs(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Qo(e,t,s),e=e.sibling;e!==null;)Qo(e,t,s),e=e.sibling}function Pa(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(i!==4&&(i===27&&Xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Pa(e,t,s),e=e.sibling;e!==null;)Pa(e,t,s),e=e.sibling}function rp(e){var t=e.stateNode,s=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);et(t,i,s),t[st]=e,t[ut]=s}catch(l){Te(e,e.return,l)}}var rs=!1,Ie=!1,Zl=!1,ed=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function y0(e,t){if(e=e.containerInfo,nc=Xa,e=Gf(e),Fc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var r=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var m=0,n=-1,c=-1,p=0,b=0,f=e,g=null;t:for(;;){for(var y;f!==s||r!==0&&f.nodeType!==3||(n=m+r),f!==l||i!==0&&f.nodeType!==3||(c=m+i),f.nodeType===3&&(m+=f.nodeValue.length),(y=f.firstChild)!==null;)g=f,f=y;for(;;){if(f===e)break t;if(g===s&&++p===r&&(n=m),g===l&&++b===i&&(c=m),(y=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=y}s=n===-1||c===-1?null:{start:n,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(ac={focusedElem:e,selectionRange:s},Xa=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){switch(t=Ye,l=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,s=t,r=l.memoizedProps,l=l.memoizedState,i=s.stateNode;try{var C=di(s.type,r,s.elementType===s.type);e=i.getSnapshotBeforeUpdate(C,l),i.__reactInternalSnapshotBeforeUpdate=e}catch(x){Te(s,s.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)oc(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Z(163))}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}}function np(e,t,s){var i=s.flags;switch(s.tag){case 0:case 11:case 15:xs(e,s),i&4&&kn(5,s);break;case 1:if(xs(e,s),i&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(m){Te(s,s.return,m)}else{var r=di(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Te(s,s.return,m)}}i&64&&ep(s),i&512&&$r(s,s.return);break;case 3:if(xs(e,s),i&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{am(e,t)}catch(m){Te(s,s.return,m)}}break;case 27:t===null&&i&4&&rp(s);case 26:case 5:xs(e,s),t===null&&i&4&&sp(s),i&512&&$r(s,s.return);break;case 12:xs(e,s);break;case 13:xs(e,s),i&4&&op(e,s),i&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=N0.bind(null,s),W0(e,s))));break;case 22:if(i=s.memoizedState!==null||rs,!i){t=t!==null&&t.memoizedState!==null||Ie,r=rs;var l=Ie;rs=i,(Ie=t)&&!l?Cs(e,s,(s.subtreeFlags&8772)!==0):xs(e,s),rs=r,Ie=l}break;case 30:break;default:xs(e,s)}}function ap(e){var t=e.alternate;t!==null&&(e.alternate=null,ap(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,ot=!1;function ts(e,t,s){for(s=s.child;s!==null;)lp(e,t,s),s=s.sibling}function lp(e,t,s){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(_n,s)}catch{}switch(s.tag){case 26:Ie||$t(s,t),ts(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ie||$t(s,t);var i=Le,r=ot;Xs(s.type)&&(Le=s.stateNode,ot=!1),ts(e,t,s),Yr(s.stateNode),Le=i,ot=r;break;case 5:Ie||$t(s,t);case 6:if(i=Le,r=ot,Le=null,ts(e,t,s),Le=i,ot=r,Le!==null)if(ot)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(s.stateNode)}catch(l){Te(s,t,l)}else try{Le.removeChild(s.stateNode)}catch(l){Te(s,t,l)}break;case 18:Le!==null&&(ot?(e=Le,dd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),dn(e)):dd(Le,s.stateNode));break;case 4:i=Le,r=ot,Le=s.stateNode.containerInfo,ot=!0,ts(e,t,s),Le=i,ot=r;break;case 0:case 11:case 14:case 15:Ie||$s(2,s,t),Ie||$s(4,s,t),ts(e,t,s);break;case 1:Ie||($t(s,t),i=s.stateNode,typeof i.componentWillUnmount=="function"&&tp(s,t,i)),ts(e,t,s);break;case 21:ts(e,t,s);break;case 22:Ie=(i=Ie)||s.memoizedState!==null,ts(e,t,s),Ie=i;break;default:ts(e,t,s)}}function op(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dn(e)}catch(s){Te(t,t.return,s)}}function b0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ed),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ed),t;default:throw Error(Z(435,e.tag))}}function eo(e,t){var s=b0(e);t.forEach(function(i){var r=k0.bind(null,e,i);s.has(i)||(s.add(i),i.then(r,r))})}function ft(e,t){var s=t.deletions;if(s!==null)for(var i=0;i<s.length;i++){var r=s[i],l=e,m=t,n=m;e:for(;n!==null;){switch(n.tag){case 27:if(Xs(n.type)){Le=n.stateNode,ot=!1;break e}break;case 5:Le=n.stateNode,ot=!1;break e;case 3:case 4:Le=n.stateNode.containerInfo,ot=!0;break e}n=n.return}if(Le===null)throw Error(Z(160));lp(l,m,r),Le=null,ot=!1,l=r.alternate,l!==null&&(l.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)cp(t,e),t=t.sibling}var Bt=null;function cp(e,t){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ft(t,e),mt(e),i&4&&($s(3,e,e.return),kn(3,e),$s(5,e,e.return));break;case 1:ft(t,e),mt(e),i&512&&(Ie||s===null||$t(s,s.return)),i&64&&rs&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?i:s.concat(i))));break;case 26:var r=Bt;if(ft(t,e),mt(e),i&512&&(Ie||s===null||$t(s,s.return)),i&4){var l=s!==null?s.memoizedState:null;if(i=e.memoizedState,s===null)if(i===null)if(e.stateNode===null){e:{i=e.type,s=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":l=r.getElementsByTagName("title")[0],(!l||l[Sn]||l[st]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=r.createElement(i),r.head.insertBefore(l,r.querySelector("head > title"))),et(l,i,s),l[st]=e,Ve(l),i=l;break e;case"link":var m=gd("link","href",r).get(i+(s.href||""));if(m){for(var n=0;n<m.length;n++)if(l=m[n],l.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&l.getAttribute("rel")===(s.rel==null?null:s.rel)&&l.getAttribute("title")===(s.title==null?null:s.title)&&l.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(n,1);break t}}l=r.createElement(i),et(l,i,s),r.head.appendChild(l);break;case"meta":if(m=gd("meta","content",r).get(i+(s.content||""))){for(n=0;n<m.length;n++)if(l=m[n],l.getAttribute("content")===(s.content==null?null:""+s.content)&&l.getAttribute("name")===(s.name==null?null:s.name)&&l.getAttribute("property")===(s.property==null?null:s.property)&&l.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&l.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(n,1);break t}}l=r.createElement(i),et(l,i,s),r.head.appendChild(l);break;default:throw Error(Z(468,i))}l[st]=e,Ve(l),i=l}e.stateNode=i}else _d(r,e.type,e.stateNode);else e.stateNode=vd(r,i,e.memoizedProps);else l!==i?(l===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):l.count--,i===null?_d(r,e.type,e.stateNode):vd(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Ql(e,e.memoizedProps,s.memoizedProps)}break;case 27:ft(t,e),mt(e),i&512&&(Ie||s===null||$t(s,s.return)),s!==null&&i&4&&Ql(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ft(t,e),mt(e),i&512&&(Ie||s===null||$t(s,s.return)),e.flags&32){r=e.stateNode;try{Zi(r,"")}catch(y){Te(e,e.return,y)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Ql(e,r,s!==null?s.memoizedProps:r)),i&1024&&(Zl=!0);break;case 6:if(ft(t,e),mt(e),i&4){if(e.stateNode===null)throw Error(Z(162));i=e.memoizedProps,s=e.stateNode;try{s.nodeValue=i}catch(y){Te(e,e.return,y)}}break;case 3:if(fa=null,r=Bt,Bt=Ka(t.containerInfo),ft(t,e),Bt=r,mt(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{dn(t.containerInfo)}catch(y){Te(e,e.return,y)}Zl&&(Zl=!1,up(e));break;case 4:i=Bt,Bt=Ka(e.stateNode.containerInfo),ft(t,e),mt(e),Bt=i;break;case 12:ft(t,e),mt(e);break;case 13:ft(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vu=Kt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,eo(e,i)));break;case 22:r=e.memoizedState!==null;var c=s!==null&&s.memoizedState!==null,p=rs,b=Ie;if(rs=p||r,Ie=b||c,ft(t,e),Ie=b,rs=p,mt(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(s===null||c||rs||Ie||ei(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){c=s=t;try{if(l=c.stateNode,r)m=l.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{n=c.stateNode;var f=c.memoizedProps.style,g=f!=null&&f.hasOwnProperty("display")?f.display:null;n.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(y){Te(c,c.return,y)}}}else if(t.tag===6){if(s===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(y){Te(c,c.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(s=i.retryQueue,s!==null&&(i.retryQueue=null,eo(e,s))));break;case 19:ft(t,e),mt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,eo(e,i)));break;case 30:break;case 21:break;default:ft(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var s,i=e.return;i!==null;){if(ip(i)){s=i;break}i=i.return}if(s==null)throw Error(Z(160));switch(s.tag){case 27:var r=s.stateNode,l=Jl(e);Pa(e,l,r);break;case 5:var m=s.stateNode;s.flags&32&&(Zi(m,""),s.flags&=-33);var n=Jl(e);Pa(e,n,m);break;case 3:case 4:var c=s.stateNode.containerInfo,p=Jl(e);Qo(e,p,c);break;default:throw Error(Z(161))}}catch(b){Te(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;up(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xs(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)np(e,t.alternate,t),t=t.sibling}function ei(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$s(4,t,t.return),ei(t);break;case 1:$t(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&tp(t,t.return,s),ei(t);break;case 27:Yr(t.stateNode);case 26:case 5:$t(t,t.return),ei(t);break;case 22:t.memoizedState===null&&ei(t);break;case 30:ei(t);break;default:ei(t)}e=e.sibling}}function Cs(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,l=t,m=l.flags;switch(l.tag){case 0:case 11:case 15:Cs(r,l,s),kn(4,l);break;case 1:if(Cs(r,l,s),i=l,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(p){Te(i,i.return,p)}if(i=l,r=i.updateQueue,r!==null){var n=i.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)nm(c[r],n)}catch(p){Te(i,i.return,p)}}s&&m&64&&ep(l),$r(l,l.return);break;case 27:rp(l);case 26:case 5:Cs(r,l,s),s&&i===null&&m&4&&sp(l),$r(l,l.return);break;case 12:Cs(r,l,s);break;case 13:Cs(r,l,s),s&&m&4&&op(r,l);break;case 22:l.memoizedState===null&&Cs(r,l,s),$r(l,l.return);break;case 30:break;default:Cs(r,l,s)}t=t.sibling}}function du(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&En(s))}function fu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&En(e))}function qt(e,t,s,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hp(e,t,s,i),t=t.sibling}function hp(e,t,s,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,s,i),r&2048&&kn(9,t);break;case 1:qt(e,t,s,i);break;case 3:qt(e,t,s,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&En(e)));break;case 12:if(r&2048){qt(e,t,s,i),e=t.stateNode;try{var l=t.memoizedProps,m=l.id,n=l.onPostCommit;typeof n=="function"&&n(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Te(t,t.return,c)}}else qt(e,t,s,i);break;case 13:qt(e,t,s,i);break;case 23:break;case 22:l=t.stateNode,m=t.alternate,t.memoizedState!==null?l._visibility&2?qt(e,t,s,i):Gr(e,t):l._visibility&2?qt(e,t,s,i):(l._visibility|=2,ji(e,t,s,i,(t.subtreeFlags&10256)!==0)),r&2048&&du(m,t);break;case 24:qt(e,t,s,i),r&2048&&fu(t.alternate,t);break;default:qt(e,t,s,i)}}function ji(e,t,s,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var l=e,m=t,n=s,c=i,p=m.flags;switch(m.tag){case 0:case 11:case 15:ji(l,m,n,c,r),kn(8,m);break;case 23:break;case 22:var b=m.stateNode;m.memoizedState!==null?b._visibility&2?ji(l,m,n,c,r):Gr(l,m):(b._visibility|=2,ji(l,m,n,c,r)),r&&p&2048&&du(m.alternate,m);break;case 24:ji(l,m,n,c,r),r&&p&2048&&fu(m.alternate,m);break;default:ji(l,m,n,c,r)}t=t.sibling}}function Gr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,i=t,r=i.flags;switch(i.tag){case 22:Gr(s,i),r&2048&&du(i.alternate,i);break;case 24:Gr(s,i),r&2048&&fu(i.alternate,i);break;default:Gr(s,i)}t=t.sibling}}var Rr=8192;function Si(e){if(e.subtreeFlags&Rr)for(e=e.child;e!==null;)dp(e),e=e.sibling}function dp(e){switch(e.tag){case 26:Si(e),e.flags&Rr&&e.memoizedState!==null&&ny(Bt,e.memoizedState,e.memoizedProps);break;case 5:Si(e);break;case 3:case 4:var t=Bt;Bt=Ka(e.stateNode.containerInfo),Si(e),Bt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Rr,Rr=16777216,Si(e),Rr=t):Si(e));break;default:Si(e)}}function fp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ar(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];Ye=i,pp(i,e)}fp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mp(e),e=e.sibling}function mp(e){switch(e.tag){case 0:case 11:case 15:Ar(e),e.flags&2048&&$s(9,e,e.return);break;case 3:Ar(e);break;case 12:Ar(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ha(e)):Ar(e);break;default:Ar(e)}}function ha(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];Ye=i,pp(i,e)}fp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$s(8,t,t.return),ha(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,ha(t));break;default:ha(t)}e=e.sibling}}function pp(e,t){for(;Ye!==null;){var s=Ye;switch(s.tag){case 0:case 11:case 15:$s(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var i=s.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:En(s.memoizedState.cache)}if(i=s.child,i!==null)i.return=s,Ye=i;else e:for(s=e;Ye!==null;){i=Ye;var r=i.sibling,l=i.return;if(ap(i),i===s){Ye=null;break e}if(r!==null){r.return=l,Ye=r;break e}Ye=l}}}var S0={getCacheForType:function(e){var t=it(Ge),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s}},x0=typeof WeakMap=="function"?WeakMap:Map,Ee=0,De=null,ve=null,ge=0,we=0,pt=null,Rs=!1,pr=!1,mu=!1,ps=0,Ue=0,Gs=0,li=0,pu=0,Dt=0,rr=0,Wr=null,ct=null,Jo=!1,vu=0,Ia=1/0,qa=null,zs=null,Ze=0,Us=null,nr=null,Vi=0,Zo=0,ec=null,vp=null,Kr=0,tc=null;function yt(){if(Ee&2&&ge!==0)return ge&-ge;if(ce.T!==null){var e=er;return e!==0?e:_u()}return Af()}function gp(){Dt===0&&(Dt=!(ge&536870912)||be?Cf():536870912);var e=Rt.current;return e!==null&&(e.flags|=32),Dt}function bt(e,t,s){(e===De&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(ar(e,0),Os(e,ge,Dt,!1)),bn(e,s),(!(Ee&2)||e!==De)&&(e===De&&(!(Ee&2)&&(li|=s),Ue===4&&Os(e,ge,Dt,!1)),Qt(e))}function _p(e,t,s){if(Ee&6)throw Error(Z(327));var i=!s&&(t&124)===0&&(t&e.expiredLanes)===0||yn(e,t),r=i?E0(e,t):to(e,t,!0),l=i;do{if(r===0){pr&&!i&&Os(e,t,0,!1);break}else{if(s=e.current.alternate,l&&!C0(s)){r=to(e,t,!1),l=!1;continue}if(r===2){if(l=t,e.errorRecoveryDisabledLanes&l)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var n=e;r=Wr;var c=n.current.memoizedState.isDehydrated;if(c&&(ar(n,m).flags|=256),m=to(n,m,!1),m!==2){if(mu&&!c){n.errorRecoveryDisabledLanes|=l,li|=l,r=4;break e}l=ct,ct=r,l!==null&&(ct===null?ct=l:ct.push.apply(ct,l))}r=m}if(l=!1,r!==2)continue}}if(r===1){ar(e,0),Os(e,t,0,!0);break}e:{switch(i=e,l=r,l){case 0:case 1:throw Error(Z(345));case 4:if((t&4194048)!==t)break;case 6:Os(i,t,Dt,!Rs);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(Z(329))}if((t&62914560)===t&&(r=vu+300-Kt(),10<r)){if(Os(i,t,Dt,!Rs),il(i,0,!0)!==0)break e;i.timeoutHandle=Hp(td.bind(null,i,s,ct,qa,Jo,t,Dt,li,rr,Rs,l,2,-0,0),r);break e}td(i,s,ct,qa,Jo,t,Dt,li,rr,Rs,l,0,-0,0)}}break}while(!0);Qt(e)}function td(e,t,s,i,r,l,m,n,c,p,b,f,g,y){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(on={stylesheets:null,count:0,unsuspend:ry},dp(t),f=ay(),f!==null)){e.cancelPendingCommit=f(id.bind(null,e,t,l,s,i,r,m,n,c,b,1,g,y)),Os(e,l,m,!p);return}id(e,t,l,s,i,r,m,n,c)}function C0(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var i=0;i<s.length;i++){var r=s[i],l=r.getSnapshot;r=r.value;try{if(!St(l(),r))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Os(e,t,s,i){t&=~pu,t&=~li,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var l=31-_t(r),m=1<<l;i[l]=-1,r&=~m}s!==0&&Ef(e,s,t)}function fl(){return Ee&6?!0:(Tn(0),!1)}function gu(){if(ve!==null){if(we===0)var e=ve.return;else e=ve,os=_i=null,iu(e),Yi=null,nn=0,e=ve;for(;e!==null;)Zm(e.alternate,e),e=e.return;ve=null}}function ar(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,I0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),gu(),De=e,ve=s=us(e.current,null),ge=t,we=0,pt=null,Rs=!1,pr=yn(e,t),mu=!1,rr=Dt=pu=li=Gs=Ue=0,ct=Wr=null,Jo=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-_t(i),l=1<<r;t|=e[r],i&=~l}return ps=t,ll(),s}function yp(e,t){me=null,ce.H=Ma,t===jn||t===cl?(t=Oh(),we=3):t===im?(t=Oh(),we=4):we=t===Km?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pt=t,ve===null&&(Ue=1,za(e,kt(t,e.current)))}function bp(){var e=ce.H;return ce.H=Ma,e===null?Ma:e}function Sp(){var e=ce.A;return ce.A=S0,e}function sc(){Ue=4,Rs||(ge&4194048)!==ge&&Rt.current!==null||(pr=!0),!(Gs&134217727)&&!(li&134217727)||De===null||Os(De,ge,Dt,!1)}function to(e,t,s){var i=Ee;Ee|=2;var r=bp(),l=Sp();(De!==e||ge!==t)&&(qa=null,ar(e,t)),t=!1;var m=Ue;e:do try{if(we!==0&&ve!==null){var n=ve,c=pt;switch(we){case 8:gu(),m=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var p=we;if(we=0,pt=null,Ui(e,n,c,p),s&&pr){m=0;break e}break;default:p=we,we=0,pt=null,Ui(e,n,c,p)}}w0(),m=Ue;break}catch(b){yp(e,b)}while(!0);return t&&e.shellSuspendCounter++,os=_i=null,Ee=i,ce.H=r,ce.A=l,ve===null&&(De=null,ge=0,ll()),m}function w0(){for(;ve!==null;)xp(ve)}function E0(e,t){var s=Ee;Ee|=2;var i=bp(),r=Sp();De!==e||ge!==t?(qa=null,Ia=Kt()+500,ar(e,t)):pr=yn(e,t);e:do try{if(we!==0&&ve!==null){t=ve;var l=pt;t:switch(we){case 1:we=0,pt=null,Ui(e,t,l,1);break;case 2:case 9:if(Rh(l)){we=0,pt=null,sd(t);break}t=function(){we!==2&&we!==9||De!==e||(we=7),Qt(e)},l.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:Rh(l)?(we=0,pt=null,sd(t)):(we=0,pt=null,Ui(e,t,l,7));break;case 5:var m=null;switch(ve.tag){case 26:m=ve.memoizedState;case 5:case 27:var n=ve;if(!m||Ip(m)){we=0,pt=null;var c=n.sibling;if(c!==null)ve=c;else{var p=n.return;p!==null?(ve=p,ml(p)):ve=null}break t}}we=0,pt=null,Ui(e,t,l,5);break;case 6:we=0,pt=null,Ui(e,t,l,6);break;case 8:gu(),Ue=6;break e;default:throw Error(Z(462))}}j0();break}catch(b){yp(e,b)}while(!0);return os=_i=null,ce.H=i,ce.A=r,Ee=s,ve!==null?0:(De=null,ge=0,ll(),Ue)}function j0(){for(;ve!==null&&!Yg();)xp(ve)}function xp(e){var t=Jm(e.alternate,e,ps);e.memoizedProps=e.pendingProps,t===null?ml(e):ve=t}function sd(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Vh(s,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=Vh(s,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:iu(t);default:Zm(s,t),t=ve=Zf(t,ps),t=Jm(s,t,ps)}e.memoizedProps=e.pendingProps,t===null?ml(e):ve=t}function Ui(e,t,s,i){os=_i=null,iu(t),Yi=null,nn=0;var r=t.return;try{if(p0(e,r,t,s,ge)){Ue=1,za(e,kt(s,e.current)),ve=null;return}}catch(l){if(r!==null)throw ve=r,l;Ue=1,za(e,kt(s,e.current)),ve=null;return}t.flags&32768?(be||i===1?e=!0:pr||ge&536870912?e=!1:(Rs=e=!0,(i===2||i===9||i===3||i===6)&&(i=Rt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Cp(t,e)):ml(t)}function ml(e){var t=e;do{if(t.flags&32768){Cp(t,Rs);return}e=t.return;var s=g0(t.alternate,t,ps);if(s!==null){ve=s;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ue===0&&(Ue=5)}function Cp(e,t){do{var s=_0(e.alternate,e);if(s!==null){s.flags&=32767,ve=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=s}while(e!==null);Ue=6,ve=null}function id(e,t,s,i,r,l,m,n,c){e.cancelPendingCommit=null;do pl();while(Ze!==0);if(Ee&6)throw Error(Z(327));if(t!==null){if(t===e.current)throw Error(Z(177));if(l=t.lanes|t.childLanes,l|=$c,r_(e,s,l,m,n,c),e===De&&(ve=De=null,ge=0),nr=t,Us=e,Vi=s,Zo=l,ec=r,vp=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,T0(Ea,function(){return Np(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=ce.T,ce.T=null,r=Se.p,Se.p=2,m=Ee,Ee|=4;try{y0(e,t,s)}finally{Ee=m,Se.p=r,ce.T=i}}Ze=1,wp(),Ep(),jp()}}function wp(){if(Ze===1){Ze=0;var e=Us,t=nr,s=(t.flags&13878)!==0;if(t.subtreeFlags&13878||s){s=ce.T,ce.T=null;var i=Se.p;Se.p=2;var r=Ee;Ee|=4;try{cp(t,e);var l=ac,m=Gf(e.containerInfo),n=l.focusedElem,c=l.selectionRange;if(m!==n&&n&&n.ownerDocument&&$f(n.ownerDocument.documentElement,n)){if(c!==null&&Fc(n)){var p=c.start,b=c.end;if(b===void 0&&(b=p),"selectionStart"in n)n.selectionStart=p,n.selectionEnd=Math.min(b,n.value.length);else{var f=n.ownerDocument||document,g=f&&f.defaultView||window;if(g.getSelection){var y=g.getSelection(),C=n.textContent.length,x=Math.min(c.start,C),h=c.end===void 0?x:Math.min(c.end,C);!y.extend&&x>h&&(m=h,h=x,x=m);var u=wh(n,x),o=wh(n,h);if(u&&o&&(y.rangeCount!==1||y.anchorNode!==u.node||y.anchorOffset!==u.offset||y.focusNode!==o.node||y.focusOffset!==o.offset)){var d=f.createRange();d.setStart(u.node,u.offset),y.removeAllRanges(),x>h?(y.addRange(d),y.extend(o.node,o.offset)):(d.setEnd(o.node,o.offset),y.addRange(d))}}}}for(f=[],y=n;y=y.parentNode;)y.nodeType===1&&f.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<f.length;n++){var _=f[n];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}Xa=!!nc,ac=nc=null}finally{Ee=r,Se.p=i,ce.T=s}}e.current=t,Ze=2}}function Ep(){if(Ze===2){Ze=0;var e=Us,t=nr,s=(t.flags&8772)!==0;if(t.subtreeFlags&8772||s){s=ce.T,ce.T=null;var i=Se.p;Se.p=2;var r=Ee;Ee|=4;try{np(e,t.alternate,t)}finally{Ee=r,Se.p=i,ce.T=s}}Ze=3}}function jp(){if(Ze===4||Ze===3){Ze=0,Vg();var e=Us,t=nr,s=Vi,i=vp;t.subtreeFlags&10256||t.flags&10256?Ze=5:(Ze=0,nr=Us=null,Ap(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(zs=null),Bc(s),t=t.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=ce.T,r=Se.p,Se.p=2,ce.T=null;try{for(var l=e.onRecoverableError,m=0;m<i.length;m++){var n=i[m];l(n.value,{componentStack:n.stack})}}finally{ce.T=t,Se.p=r}}Vi&3&&pl(),Qt(e),r=e.pendingLanes,s&4194090&&r&42?e===tc?Kr++:(Kr=0,tc=e):Kr=0,Tn(0)}}function Ap(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,En(t)))}function pl(e){return wp(),Ep(),jp(),Np()}function Np(){if(Ze!==5)return!1;var e=Us,t=Zo;Zo=0;var s=Bc(Vi),i=ce.T,r=Se.p;try{Se.p=32>s?32:s,ce.T=null,s=ec,ec=null;var l=Us,m=Vi;if(Ze=0,nr=Us=null,Vi=0,Ee&6)throw Error(Z(331));var n=Ee;if(Ee|=4,mp(l.current),hp(l,l.current,m,s),Ee=n,Tn(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(_n,l)}catch{}return!0}finally{Se.p=r,ce.T=i,Ap(e,t)}}function rd(e,t,s){t=kt(s,t),t=Yo(e.stateNode,t,2),e=Hs(e,t,2),e!==null&&(bn(e,2),Qt(e))}function Te(e,t,s){if(e.tag===3)rd(e,e,s);else for(;t!==null;){if(t.tag===3){rd(t,e,s);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zs===null||!zs.has(i))){e=kt(s,e),s=Gm(2),i=Hs(t,s,2),i!==null&&(Wm(s,i,t,e),bn(i,2),Qt(i));break}}t=t.return}}function so(e,t,s){var i=e.pingCache;if(i===null){i=e.pingCache=new x0;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(s)||(mu=!0,r.add(s),e=A0.bind(null,e,t,s),t.then(e,e))}function A0(e,t,s){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,De===e&&(ge&s)===s&&(Ue===4||Ue===3&&(ge&62914560)===ge&&300>Kt()-vu?!(Ee&2)&&ar(e,0):pu|=s,rr===ge&&(rr=0)),Qt(e)}function kp(e,t){t===0&&(t=wf()),e=mr(e,t),e!==null&&(bn(e,t),Qt(e))}function N0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),kp(e,s)}function k0(e,t){var s=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(s=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(Z(314))}i!==null&&i.delete(t),kp(e,s)}function T0(e,t){return Lc(e,t)}var Fa=null,Ai=null,ic=!1,$a=!1,io=!1,oi=0;function Qt(e){e!==Ai&&e.next===null&&(Ai===null?Fa=Ai=e:Ai=Ai.next=e),$a=!0,ic||(ic=!0,R0())}function Tn(e,t){if(!io&&$a){io=!0;do for(var s=!1,i=Fa;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var l=0;else{var m=i.suspendedLanes,n=i.pingedLanes;l=(1<<31-_t(42|e)+1)-1,l&=r&~(m&~n),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(s=!0,nd(i,l))}else l=ge,l=il(i,i===De?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(l&3)||yn(i,l)||(s=!0,nd(i,l));i=i.next}while(s);io=!1}}function D0(){Tp()}function Tp(){$a=ic=!1;var e=0;oi!==0&&(P0()&&(e=oi),oi=0);for(var t=Kt(),s=null,i=Fa;i!==null;){var r=i.next,l=Dp(i,t);l===0?(i.next=null,s===null?Fa=r:s.next=r,r===null&&(Ai=s)):(s=i,(e!==0||l&3)&&($a=!0)),i=r}Tn(e)}function Dp(e,t){for(var s=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var m=31-_t(l),n=1<<m,c=r[m];c===-1?(!(n&s)||n&i)&&(r[m]=i_(n,t)):c<=t&&(e.expiredLanes|=n),l&=~n}if(t=De,s=ge,s=il(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,s===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&kl(i),e.callbackNode=null,e.callbackPriority=0;if(!(s&3)||yn(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(i!==null&&kl(i),Bc(s)){case 2:case 8:s=Sf;break;case 32:s=Ea;break;case 268435456:s=xf;break;default:s=Ea}return i=Rp.bind(null,e),s=Lc(s,i),e.callbackPriority=t,e.callbackNode=s,t}return i!==null&&i!==null&&kl(i),e.callbackPriority=2,e.callbackNode=null,2}function Rp(e,t){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(pl()&&e.callbackNode!==s)return null;var i=ge;return i=il(e,e===De?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(_p(e,i,t),Dp(e,Kt()),e.callbackNode!=null&&e.callbackNode===s?Rp.bind(null,e):null)}function nd(e,t){if(pl())return null;_p(e,t,!0)}function R0(){q0(function(){Ee&6?Lc(bf,D0):Tp()})}function _u(){return oi===0&&(oi=Cf()),oi}function ad(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function ld(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function O0(e,t,s,i,r){if(t==="submit"&&s&&s.stateNode===r){var l=ad((r[ut]||null).action),m=i.submitter;m&&(t=(t=m[ut]||null)?ad(t.formAction):m.getAttribute("formAction"),t!==null&&(l=t,m=null));var n=new rl("action","action",null,i,r);e.push({event:n,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(oi!==0){var c=m?ld(r,m):new FormData(r);Wo(s,{pending:!0,data:c,method:r.method,action:l},null,c)}}else typeof l=="function"&&(n.preventDefault(),c=m?ld(r,m):new FormData(r),Wo(s,{pending:!0,data:c,method:r.method,action:l},l,c))},currentTarget:r}]})}}for(var ro=0;ro<Lo.length;ro++){var no=Lo[ro],L0=no.toLowerCase(),M0=no[0].toUpperCase()+no.slice(1);Pt(L0,"on"+M0)}Pt(Kf,"onAnimationEnd");Pt(Yf,"onAnimationIteration");Pt(Vf,"onAnimationStart");Pt("dblclick","onDoubleClick");Pt("focusin","onFocus");Pt("focusout","onBlur");Pt(J_,"onTransitionRun");Pt(Z_,"onTransitionStart");Pt(e0,"onTransitionCancel");Pt(Xf,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var an="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(an));function Op(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],r=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var m=i.length-1;0<=m;m--){var n=i[m],c=n.instance,p=n.currentTarget;if(n=n.listener,c!==l&&r.isPropagationStopped())break e;l=n,r.currentTarget=p;try{l(r)}catch(b){Ha(b)}r.currentTarget=null,l=c}else for(m=0;m<i.length;m++){if(n=i[m],c=n.instance,p=n.currentTarget,n=n.listener,c!==l&&r.isPropagationStopped())break e;l=n,r.currentTarget=p;try{l(r)}catch(b){Ha(b)}r.currentTarget=null,l=c}}}}function pe(e,t){var s=t[Ao];s===void 0&&(s=t[Ao]=new Set);var i=e+"__bubble";s.has(i)||(Lp(t,e,2,!1),s.add(i))}function ao(e,t,s){var i=0;t&&(i|=4),Lp(s,e,i,t)}var Yn="_reactListening"+Math.random().toString(36).slice(2);function yu(e){if(!e[Yn]){e[Yn]=!0,Nf.forEach(function(s){s!=="selectionchange"&&(B0.has(s)||ao(s,!1,e),ao(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yn]||(t[Yn]=!0,ao("selectionchange",!1,t))}}function Lp(e,t,s,i){switch(Wp(t)){case 2:var r=cy;break;case 8:r=uy;break;default:r=Cu}s=r.bind(null,t,s,e),r=void 0,!Do||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):r!==void 0?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function lo(e,t,s,i,r){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var n=i.stateNode.containerInfo;if(n===r)break;if(m===4)for(m=i.return;m!==null;){var c=m.tag;if((c===3||c===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;n!==null;){if(m=Ti(n),m===null)return;if(c=m.tag,c===5||c===6||c===26||c===27){i=l=m;continue e}n=n.parentNode}}i=i.return}Bf(function(){var p=l,b=Uc(s),f=[];e:{var g=Qf.get(e);if(g!==void 0){var y=rl,C=e;switch(e){case"keypress":if(na(s)===0)break e;case"keydown":case"keyup":y=T_;break;case"focusin":C="focus",y=Hl;break;case"focusout":C="blur",y=Hl;break;case"beforeblur":case"afterblur":y=Hl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=__;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=O_;break;case Kf:case Yf:case Vf:y=S_;break;case Xf:y=M_;break;case"scroll":case"scrollend":y=v_;break;case"wheel":y=H_;break;case"copy":case"cut":case"paste":y=C_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vh;break;case"toggle":case"beforetoggle":y=U_}var x=(t&4)!==0,h=!x&&(e==="scroll"||e==="scrollend"),u=x?g!==null?g+"Capture":null:g;x=[];for(var o=p,d;o!==null;){var _=o;if(d=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||d===null||u===null||(_=Zr(o,u),_!=null&&x.push(ln(o,_,d))),h)break;o=o.return}0<x.length&&(g=new y(g,C,null,s,b),f.push({event:g,listeners:x}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&s!==To&&(C=s.relatedTarget||s.fromElement)&&(Ti(C)||C[dr]))break e;if((y||g)&&(g=b.window===b?b:(g=b.ownerDocument)?g.defaultView||g.parentWindow:window,y?(C=s.relatedTarget||s.toElement,y=p,C=C?Ti(C):null,C!==null&&(h=gn(C),x=C.tag,C!==h||x!==5&&x!==27&&x!==6)&&(C=null)):(y=null,C=p),y!==C)){if(x=mh,_="onMouseLeave",u="onMouseEnter",o="mouse",(e==="pointerout"||e==="pointerover")&&(x=vh,_="onPointerLeave",u="onPointerEnter",o="pointer"),h=y==null?g:Dr(y),d=C==null?g:Dr(C),g=new x(_,o+"leave",y,s,b),g.target=h,g.relatedTarget=d,_=null,Ti(b)===p&&(x=new x(u,o+"enter",C,s,b),x.target=d,x.relatedTarget=h,_=x),h=_,y&&C)t:{for(x=y,u=C,o=0,d=x;d;d=xi(d))o++;for(d=0,_=u;_;_=xi(_))d++;for(;0<o-d;)x=xi(x),o--;for(;0<d-o;)u=xi(u),d--;for(;o--;){if(x===u||u!==null&&x===u.alternate)break t;x=xi(x),u=xi(u)}x=null}else x=null;y!==null&&od(f,g,y,x,!1),C!==null&&h!==null&&od(f,h,C,x,!0)}}e:{if(g=p?Dr(p):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var v=bh;else if(yh(g))if(qf)v=V_;else{v=K_;var w=W_}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?p&&zc(p.elementType)&&(v=bh):v=Y_;if(v&&(v=v(e,p))){If(f,v,s,b);break e}w&&w(e,g,p),e==="focusout"&&p&&g.type==="number"&&p.memoizedProps.value!=null&&ko(g,"number",g.value)}switch(w=p?Dr(p):window,e){case"focusin":(yh(w)||w.contentEditable==="true")&&(Oi=w,Ro=p,Hr=null);break;case"focusout":Hr=Ro=Oi=null;break;case"mousedown":Oo=!0;break;case"contextmenu":case"mouseup":case"dragend":Oo=!1,Eh(f,s,b);break;case"selectionchange":if(Q_)break;case"keydown":case"keyup":Eh(f,s,b)}var E;if(qc)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ri?Uf(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(zf&&s.locale!=="ko"&&(Ri||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ri&&(E=Hf()):(Ds=b,Pc="value"in Ds?Ds.value:Ds.textContent,Ri=!0)),w=Ga(p,S),0<w.length&&(S=new ph(S,e,null,s,b),f.push({event:S,listeners:w}),E?S.data=E:(E=Pf(s),E!==null&&(S.data=E)))),(E=I_?q_(e,s):F_(e,s))&&(S=Ga(p,"onBeforeInput"),0<S.length&&(w=new ph("onBeforeInput","beforeinput",null,s,b),f.push({event:w,listeners:S}),w.data=E)),O0(f,e,p,s,b)}Op(f,t)})}function ln(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ga(e,t){for(var s=t+"Capture",i=[];e!==null;){var r=e,l=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||l===null||(r=Zr(e,s),r!=null&&i.unshift(ln(e,r,l)),r=Zr(e,t),r!=null&&i.push(ln(e,r,l))),e.tag===3)return i;e=e.return}return[]}function xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function od(e,t,s,i,r){for(var l=t._reactName,m=[];s!==null&&s!==i;){var n=s,c=n.alternate,p=n.stateNode;if(n=n.tag,c!==null&&c===i)break;n!==5&&n!==26&&n!==27||p===null||(c=p,r?(p=Zr(s,l),p!=null&&m.unshift(ln(s,p,c))):r||(p=Zr(s,l),p!=null&&m.push(ln(s,p,c)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var H0=/\r\n?/g,z0=/\u0000|\uFFFD/g;function cd(e){return(typeof e=="string"?e:""+e).replace(H0,`
`).replace(z0,"")}function Mp(e,t){return t=cd(t),cd(e)===t}function vl(){}function je(e,t,s,i,r,l){switch(s){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Zi(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Zi(e,""+i);break;case"className":In(e,"class",i);break;case"tabIndex":In(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":In(e,s,i);break;case"style":Mf(e,i,l);break;case"data":if(t!=="object"){In(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=ia(""+i),e.setAttribute(s,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(s==="formAction"?(t!=="input"&&je(e,t,"name",r.name,r,null),je(e,t,"formEncType",r.formEncType,r,null),je(e,t,"formMethod",r.formMethod,r,null),je(e,t,"formTarget",r.formTarget,r,null)):(je(e,t,"encType",r.encType,r,null),je(e,t,"method",r.method,r,null),je(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=ia(""+i),e.setAttribute(s,i);break;case"onClick":i!=null&&(e.onclick=vl);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(Z(61));if(s=i.__html,s!=null){if(r.children!=null)throw Error(Z(60));e.innerHTML=s}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}s=ia(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""+i):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":i===!0?e.setAttribute(s,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,i):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(s,i):e.removeAttribute(s);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(s):e.setAttribute(s,i);break;case"popover":pe("beforetoggle",e),pe("toggle",e),sa(e,"popover",i);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":sa(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=m_.get(s)||s,sa(e,s,i))}}function rc(e,t,s,i,r,l){switch(s){case"style":Mf(e,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(Z(61));if(s=i.__html,s!=null){if(r.children!=null)throw Error(Z(60));e.innerHTML=s}}break;case"children":typeof i=="string"?Zi(e,i):(typeof i=="number"||typeof i=="bigint")&&Zi(e,""+i);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kf.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(r=s.endsWith("Capture"),t=s.slice(2,r?s.length-7:void 0),l=e[ut]||null,l=l!=null?l[s]:null,typeof l=="function"&&e.removeEventListener(t,l,r),typeof i=="function")){typeof l!="function"&&l!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,i,r);break e}s in e?e[s]=i:i===!0?e.setAttribute(s,""):sa(e,s,i)}}}function et(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var i=!1,r=!1,l;for(l in s)if(s.hasOwnProperty(l)){var m=s[l];if(m!=null)switch(l){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Z(137,t));default:je(e,t,l,m,s,null)}}r&&je(e,t,"srcSet",s.srcSet,s,null),i&&je(e,t,"src",s.src,s,null);return;case"input":pe("invalid",e);var n=l=m=r=null,c=null,p=null;for(i in s)if(s.hasOwnProperty(i)){var b=s[i];if(b!=null)switch(i){case"name":r=b;break;case"type":m=b;break;case"checked":c=b;break;case"defaultChecked":p=b;break;case"value":l=b;break;case"defaultValue":n=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(Z(137,t));break;default:je(e,t,i,b,s,null)}}Rf(e,l,n,c,p,m,r,!1),ja(e);return;case"select":pe("invalid",e),i=m=l=null;for(r in s)if(s.hasOwnProperty(r)&&(n=s[r],n!=null))switch(r){case"value":l=n;break;case"defaultValue":m=n;break;case"multiple":i=n;default:je(e,t,r,n,s,null)}t=l,s=m,e.multiple=!!i,t!=null?Fi(e,!!i,t,!1):s!=null&&Fi(e,!!i,s,!0);return;case"textarea":pe("invalid",e),l=r=i=null;for(m in s)if(s.hasOwnProperty(m)&&(n=s[m],n!=null))switch(m){case"value":i=n;break;case"defaultValue":r=n;break;case"children":l=n;break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(Z(91));break;default:je(e,t,m,n,s,null)}Lf(e,i,r,l),ja(e);return;case"option":for(c in s)if(s.hasOwnProperty(c)&&(i=s[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:je(e,t,c,i,s,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(i=0;i<an.length;i++)pe(an[i],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(p in s)if(s.hasOwnProperty(p)&&(i=s[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Z(137,t));default:je(e,t,p,i,s,null)}return;default:if(zc(t)){for(b in s)s.hasOwnProperty(b)&&(i=s[b],i!==void 0&&rc(e,t,b,i,s,void 0));return}}for(n in s)s.hasOwnProperty(n)&&(i=s[n],i!=null&&je(e,t,n,i,s,null))}function U0(e,t,s,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,m=null,n=null,c=null,p=null,b=null;for(y in s){var f=s[y];if(s.hasOwnProperty(y)&&f!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":c=f;default:i.hasOwnProperty(y)||je(e,t,y,null,i,f)}}for(var g in i){var y=i[g];if(f=s[g],i.hasOwnProperty(g)&&(y!=null||f!=null))switch(g){case"type":l=y;break;case"name":r=y;break;case"checked":p=y;break;case"defaultChecked":b=y;break;case"value":m=y;break;case"defaultValue":n=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(Z(137,t));break;default:y!==f&&je(e,t,g,y,i,f)}}No(e,m,n,c,p,b,l,r);return;case"select":y=m=n=g=null;for(l in s)if(c=s[l],s.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":y=c;default:i.hasOwnProperty(l)||je(e,t,l,null,i,c)}for(r in i)if(l=i[r],c=s[r],i.hasOwnProperty(r)&&(l!=null||c!=null))switch(r){case"value":g=l;break;case"defaultValue":n=l;break;case"multiple":m=l;default:l!==c&&je(e,t,r,l,i,c)}t=n,s=m,i=y,g!=null?Fi(e,!!s,g,!1):!!i!=!!s&&(t!=null?Fi(e,!!s,t,!0):Fi(e,!!s,s?[]:"",!1));return;case"textarea":y=g=null;for(n in s)if(r=s[n],s.hasOwnProperty(n)&&r!=null&&!i.hasOwnProperty(n))switch(n){case"value":break;case"children":break;default:je(e,t,n,null,i,r)}for(m in i)if(r=i[m],l=s[m],i.hasOwnProperty(m)&&(r!=null||l!=null))switch(m){case"value":g=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Z(91));break;default:r!==l&&je(e,t,m,r,i,l)}Of(e,g,y);return;case"option":for(var C in s)if(g=s[C],s.hasOwnProperty(C)&&g!=null&&!i.hasOwnProperty(C))switch(C){case"selected":e.selected=!1;break;default:je(e,t,C,null,i,g)}for(c in i)if(g=i[c],y=s[c],i.hasOwnProperty(c)&&g!==y&&(g!=null||y!=null))switch(c){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:je(e,t,c,g,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in s)g=s[x],s.hasOwnProperty(x)&&g!=null&&!i.hasOwnProperty(x)&&je(e,t,x,null,i,g);for(p in i)if(g=i[p],y=s[p],i.hasOwnProperty(p)&&g!==y&&(g!=null||y!=null))switch(p){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Z(137,t));break;default:je(e,t,p,g,i,y)}return;default:if(zc(t)){for(var h in s)g=s[h],s.hasOwnProperty(h)&&g!==void 0&&!i.hasOwnProperty(h)&&rc(e,t,h,void 0,i,g);for(b in i)g=i[b],y=s[b],!i.hasOwnProperty(b)||g===y||g===void 0&&y===void 0||rc(e,t,b,g,i,y);return}}for(var u in s)g=s[u],s.hasOwnProperty(u)&&g!=null&&!i.hasOwnProperty(u)&&je(e,t,u,null,i,g);for(f in i)g=i[f],y=s[f],!i.hasOwnProperty(f)||g===y||g==null&&y==null||je(e,t,f,g,i,y)}var nc=null,ac=null;function Wa(e){return e.nodeType===9?e:e.ownerDocument}function ud(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oo=null;function P0(){var e=window.event;return e&&e.type==="popstate"?e===oo?!1:(oo=e,!0):(oo=null,!1)}var Hp=typeof setTimeout=="function"?setTimeout:void 0,I0=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(F0)}:Hp;function F0(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function dd(e,t){var s=t,i=0,r=0;do{var l=s.nextSibling;if(e.removeChild(s),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(0<i&&8>i){s=i;var m=e.ownerDocument;if(s&1&&Yr(m.documentElement),s&2&&Yr(m.body),s&4)for(s=m.head,Yr(s),m=s.firstChild;m;){var n=m.nextSibling,c=m.nodeName;m[Sn]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=n}}if(r===0){e.removeChild(l),dn(t);return}r--}else s==="$"||s==="$?"||s==="$!"?r++:i=s.charCodeAt(0)-48;else i=0;s=l}while(s);dn(t)}function oc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":oc(s),Hc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function $0(e,t,s,i){for(;e.nodeType===1;){var r=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Sn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=zt(e.nextSibling),e===null)break}return null}function G0(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zt(e.nextSibling),e===null))return null;return e}function cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function W0(e,t){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")t();else{var i=function(){t(),s.removeEventListener("DOMContentLoaded",i)};s.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var uc=null;function fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}function zp(e,t,s){switch(t=Wa(s),e){case"html":if(e=t.documentElement,!e)throw Error(Z(452));return e;case"head":if(e=t.head,!e)throw Error(Z(453));return e;case"body":if(e=t.body,!e)throw Error(Z(454));return e;default:throw Error(Z(451))}}function Yr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hc(e)}var Ot=new Map,md=new Set;function Ka(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ys=Se.d;Se.d={f:K0,r:Y0,D:V0,C:X0,L:Q0,m:J0,X:ey,S:Z0,M:ty};function K0(){var e=ys.f(),t=fl();return e||t}function Y0(e){var t=fr(e);t!==null&&t.tag===5&&t.type==="form"?Dm(t):ys.r(e)}var vr=typeof document>"u"?null:document;function Up(e,t,s){var i=vr;if(i&&typeof t=="string"&&t){var r=Nt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof s=="string"&&(r+='[crossorigin="'+s+'"]'),md.has(r)||(md.add(r),e={rel:e,crossOrigin:s,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),et(t,"link",e),Ve(t),i.head.appendChild(t)))}}function V0(e){ys.D(e),Up("dns-prefetch",e,null)}function X0(e,t){ys.C(e,t),Up("preconnect",e,t)}function Q0(e,t,s){ys.L(e,t,s);var i=vr;if(i&&e&&t){var r='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(r+='[imagesrcset="'+Nt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(r+='[imagesizes="'+Nt(s.imageSizes)+'"]')):r+='[href="'+Nt(e)+'"]';var l=r;switch(t){case"style":l=lr(e);break;case"script":l=gr(e)}Ot.has(l)||(e=Oe({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Ot.set(l,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Dn(l))||t==="script"&&i.querySelector(Rn(l))||(t=i.createElement("link"),et(t,"link",e),Ve(t),i.head.appendChild(t)))}}function J0(e,t){ys.m(e,t);var s=vr;if(s&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Nt(i)+'"][href="'+Nt(e)+'"]',l=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=gr(e)}if(!Ot.has(l)&&(e=Oe({rel:"modulepreload",href:e},t),Ot.set(l,e),s.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Rn(l)))return}i=s.createElement("link"),et(i,"link",e),Ve(i),s.head.appendChild(i)}}}function Z0(e,t,s){ys.S(e,t,s);var i=vr;if(i&&e){var r=qi(i).hoistableStyles,l=lr(e);t=t||"default";var m=r.get(l);if(!m){var n={loading:0,preload:null};if(m=i.querySelector(Dn(l)))n.loading=5;else{e=Oe({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Ot.get(l))&&bu(e,s);var c=m=i.createElement("link");Ve(c),et(c,"link",e),c._p=new Promise(function(p,b){c.onload=p,c.onerror=b}),c.addEventListener("load",function(){n.loading|=1}),c.addEventListener("error",function(){n.loading|=2}),n.loading|=4,da(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:n},r.set(l,m)}}}function ey(e,t){ys.X(e,t);var s=vr;if(s&&e){var i=qi(s).hoistableScripts,r=gr(e),l=i.get(r);l||(l=s.querySelector(Rn(r)),l||(e=Oe({src:e,async:!0},t),(t=Ot.get(r))&&Su(e,t),l=s.createElement("script"),Ve(l),et(l,"link",e),s.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(r,l))}}function ty(e,t){ys.M(e,t);var s=vr;if(s&&e){var i=qi(s).hoistableScripts,r=gr(e),l=i.get(r);l||(l=s.querySelector(Rn(r)),l||(e=Oe({src:e,async:!0,type:"module"},t),(t=Ot.get(r))&&Su(e,t),l=s.createElement("script"),Ve(l),et(l,"link",e),s.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(r,l))}}function pd(e,t,s,i){var r=(r=Ms.current)?Ka(r):null;if(!r)throw Error(Z(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=lr(s.href),s=qi(r).hoistableStyles,i=s.get(t),i||(i={type:"style",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=lr(s.href);var l=qi(r).hoistableStyles,m=l.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,m),(l=r.querySelector(Dn(e)))&&!l._p&&(m.instance=l,m.state.loading=5),Ot.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ot.set(e,s),l||sy(r,e,s,m.state))),t&&i===null)throw Error(Z(528,""));return m}if(t&&i!==null)throw Error(Z(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gr(s),s=qi(r).hoistableScripts,i=s.get(t),i||(i={type:"script",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(Z(444,e))}}function lr(e){return'href="'+Nt(e)+'"'}function Dn(e){return'link[rel="stylesheet"]['+e+"]"}function Pp(e){return Oe({},e,{"data-precedence":e.precedence,precedence:null})}function sy(e,t,s,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),et(t,"link",s),Ve(t),e.head.appendChild(t))}function gr(e){return'[src="'+Nt(e)+'"]'}function Rn(e){return"script[async]"+e}function vd(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Nt(s.href)+'"]');if(i)return t.instance=i,Ve(i),i;var r=Oe({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ve(i),et(i,"style",r),da(i,s.precedence,e),t.instance=i;case"stylesheet":r=lr(s.href);var l=e.querySelector(Dn(r));if(l)return t.state.loading|=4,t.instance=l,Ve(l),l;i=Pp(s),(r=Ot.get(r))&&bu(i,r),l=(e.ownerDocument||e).createElement("link"),Ve(l);var m=l;return m._p=new Promise(function(n,c){m.onload=n,m.onerror=c}),et(l,"link",i),t.state.loading|=4,da(l,s.precedence,e),t.instance=l;case"script":return l=gr(s.src),(r=e.querySelector(Rn(l)))?(t.instance=r,Ve(r),r):(i=s,(r=Ot.get(l))&&(i=Oe({},s),Su(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ve(r),et(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(Z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,da(i,s.precedence,e));return t.instance}function da(e,t,s){for(var i=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,l=r,m=0;m<i.length;m++){var n=i[m];if(n.dataset.precedence===t)l=n;else if(l!==r)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var fa=null;function gd(e,t,s){if(fa===null){var i=new Map,r=fa=new Map;r.set(s,i)}else r=fa,i=r.get(s),i||(i=new Map,r.set(s,i));if(i.has(e))return i;for(i.set(e,null),s=s.getElementsByTagName(e),r=0;r<s.length;r++){var l=s[r];if(!(l[Sn]||l[st]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var m=l.getAttribute(t)||"";m=e+m;var n=i.get(m);n?n.push(l):i.set(m,[l])}}return i}function _d(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function iy(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ip(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var on=null;function ry(){}function ny(e,t,s){if(on===null)throw Error(Z(475));var i=on;if(t.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=lr(s.href),l=e.querySelector(Dn(r));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Ya.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=l,Ve(l);return}l=e.ownerDocument||e,s=Pp(s),(r=Ot.get(r))&&bu(s,r),l=l.createElement("link"),Ve(l);var m=l;m._p=new Promise(function(n,c){m.onload=n,m.onerror=c}),et(l,"link",s),t.instance=l}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=Ya.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function ay(){if(on===null)throw Error(Z(475));var e=on;return e.stylesheets&&e.count===0&&hc(e,e.stylesheets),0<e.count?function(t){var s=setTimeout(function(){if(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Ya(){if(this.count--,this.count===0){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Va=null;function hc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Va=new Map,t.forEach(ly,e),Va=null,Ya.call(e))}function ly(e,t){if(!(t.state.loading&4)){var s=Va.get(e);if(s)var i=s.get(null);else{s=new Map,Va.set(e,s);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var m=r[l];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),i=m)}i&&s.set(null,i)}r=t.instance,m=r.getAttribute("data-precedence"),l=s.get(m)||i,l===i&&s.set(null,r),s.set(m,r),this.count++,i=Ya.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),l?l.parentNode.insertBefore(r,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var cn={$$typeof:ns,Provider:null,Consumer:null,_currentValue:si,_currentValue2:si,_threadCount:0};function oy(e,t,s,i,r,l,m,n){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.hiddenUpdates=Tl(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=n,this.incompleteTransitions=new Map}function qp(e,t,s,i,r,l,m,n,c,p,b,f){return e=new oy(e,t,s,m,n,c,p,f),t=1,l===!0&&(t|=24),l=vt(3,null,null,t),e.current=l,l.stateNode=e,t=Vc(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:i,isDehydrated:s,cache:t},Qc(l),e}function Fp(e){return e?(e=Bi,e):Bi}function $p(e,t,s,i,r,l){r=Fp(r),i.context===null?i.context=r:i.pendingContext=r,i=Bs(t),i.payload={element:s},l=l===void 0?null:l,l!==null&&(i.callback=l),s=Hs(e,i,t),s!==null&&(bt(s,e,t),Pr(s,e,t))}function yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function xu(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function Gp(e){if(e.tag===13){var t=mr(e,67108864);t!==null&&bt(t,e,67108864),xu(e,67108864)}}var Xa=!0;function cy(e,t,s,i){var r=ce.T;ce.T=null;var l=Se.p;try{Se.p=2,Cu(e,t,s,i)}finally{Se.p=l,ce.T=r}}function uy(e,t,s,i){var r=ce.T;ce.T=null;var l=Se.p;try{Se.p=8,Cu(e,t,s,i)}finally{Se.p=l,ce.T=r}}function Cu(e,t,s,i){if(Xa){var r=dc(i);if(r===null)lo(e,t,i,Qa,s),bd(e,i);else if(dy(r,e,t,s,i))i.stopPropagation();else if(bd(e,i),t&4&&-1<hy.indexOf(e)){for(;r!==null;){var l=fr(r);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var m=Js(l.pendingLanes);if(m!==0){var n=l;for(n.pendingLanes|=2,n.entangledLanes|=2;m;){var c=1<<31-_t(m);n.entanglements[1]|=c,m&=~c}Qt(l),!(Ee&6)&&(Ia=Kt()+500,Tn(0))}}break;case 13:n=mr(l,2),n!==null&&bt(n,l,2),fl(),xu(l,2)}if(l=dc(i),l===null&&lo(e,t,i,Qa,s),l===r)break;r=l}r!==null&&i.stopPropagation()}else lo(e,t,i,null,s)}}function dc(e){return e=Uc(e),wu(e)}var Qa=null;function wu(e){if(Qa=null,e=Ti(e),e!==null){var t=gn(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=vf(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qa=e,null}function Wp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xg()){case bf:return 2;case Sf:return 8;case Ea:case Qg:return 32;case xf:return 268435456;default:return 32}default:return 32}}var fc=!1,Ps=null,Is=null,qs=null,un=new Map,hn=new Map,ks=[],hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bd(e,t){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(t.pointerId)}}function Nr(e,t,s,i,r,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:i,nativeEvent:l,targetContainers:[r]},t!==null&&(t=fr(t),t!==null&&Gp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function dy(e,t,s,i,r){switch(t){case"focusin":return Ps=Nr(Ps,e,t,s,i,r),!0;case"dragenter":return Is=Nr(Is,e,t,s,i,r),!0;case"mouseover":return qs=Nr(qs,e,t,s,i,r),!0;case"pointerover":var l=r.pointerId;return un.set(l,Nr(un.get(l)||null,e,t,s,i,r)),!0;case"gotpointercapture":return l=r.pointerId,hn.set(l,Nr(hn.get(l)||null,e,t,s,i,r)),!0}return!1}function Kp(e){var t=Ti(e.target);if(t!==null){var s=gn(t);if(s!==null){if(t=s.tag,t===13){if(t=vf(s),t!==null){e.blockedOn=t,n_(e.priority,function(){if(s.tag===13){var i=yt();i=Mc(i);var r=mr(s,i);r!==null&&bt(r,s,i),xu(s,i)}});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=dc(e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);To=i,s.target.dispatchEvent(i),To=null}else return t=fr(s),t!==null&&Gp(t),e.blockedOn=s,!1;t.shift()}return!0}function Sd(e,t,s){ma(e)&&s.delete(t)}function fy(){fc=!1,Ps!==null&&ma(Ps)&&(Ps=null),Is!==null&&ma(Is)&&(Is=null),qs!==null&&ma(qs)&&(qs=null),un.forEach(Sd),hn.forEach(Sd)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,fc||(fc=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,fy)))}var Xn=null;function xd(e){Xn!==e&&(Xn=e,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,function(){Xn===e&&(Xn=null);for(var t=0;t<e.length;t+=3){var s=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(wu(i||s)===null)continue;break}var l=fr(s);l!==null&&(e.splice(t,3),t-=3,Wo(l,{pending:!0,data:r,method:s.method,action:i},i,r))}}))}function dn(e){function t(c){return Vn(c,e)}Ps!==null&&Vn(Ps,e),Is!==null&&Vn(Is,e),qs!==null&&Vn(qs,e),un.forEach(t),hn.forEach(t);for(var s=0;s<ks.length;s++){var i=ks[s];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)Kp(s),s.blockedOn===null&&ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(i=0;i<s.length;i+=3){var r=s[i],l=s[i+1],m=r[ut]||null;if(typeof l=="function")m||xd(s);else if(m){var n=null;if(l&&l.hasAttribute("formAction")){if(r=l,m=l[ut]||null)n=m.formAction;else if(wu(r)!==null)continue}else n=m.action;typeof n=="function"?s[i+1]=n:(s.splice(i,3),i-=3),xd(s)}}}function Eu(e){this._internalRoot=e}gl.prototype.render=Eu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));var s=t.current,i=yt();$p(s,i,e,t,null,null)};gl.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$p(e.current,2,null,e,null,null),fl(),t[dr]=null}};function gl(e){this._internalRoot=e}gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Af();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ks.length&&t!==0&&t<ks[s].priority;s++);ks.splice(s,0,e),s===0&&Kp(e)}};var Cd=mf.version;if(Cd!=="19.1.0")throw Error(Z(527,Cd,"19.1.0"));Se.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=Fg(t),e=e!==null?gf(e):null,e=e===null?null:e.stateNode,e};var my={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qn.isDisabled&&Qn.supportsFiber)try{_n=Qn.inject(my),gt=Qn}catch{}}sl.createRoot=function(e,t){if(!pf(e))throw Error(Z(299));var s=!1,i="",r=qm,l=Fm,m=$m,n=null;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(n=t.unstable_transitionCallbacks)),t=qp(e,1,!1,null,null,s,i,r,l,m,n,null),e[dr]=t.current,yu(e),new Eu(t)};sl.hydrateRoot=function(e,t,s){if(!pf(e))throw Error(Z(299));var i=!1,r="",l=qm,m=Fm,n=$m,c=null,p=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(l=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(n=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(c=s.unstable_transitionCallbacks),s.formState!==void 0&&(p=s.formState)),t=qp(e,1,!0,t,s??null,i,r,l,m,n,c,p),t.context=Fp(null),s=t.current,i=yt(),i=Mc(i),r=Bs(i),r.callback=null,Hs(s,r,i),s=i,t.current.lanes=s,bn(t,s),Qt(t),e[dr]=t.current,yu(e),new gl(t)};sl.version="19.1.0";function Yp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yp)}catch(e){console.error(e)}}Yp(),hf.exports=sl;var py=hf.exports;const vy=Sg(py);function gy({children:e}){return he.useEffect(()=>{let t,s=!1,i=null;const r={current:!1};try{r.current=localStorage.getItem("unicon_ws_paused")==="1"}catch{}const l=()=>{var o,d,_,v;if(r.current){window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!1,paused:!0}}));return}const c=location.protocol==="https:"?"wss":"ws",p=`${c}://${location.host}/ws`,b=((d=(o=import.meta)==null?void 0:o.env)==null?void 0:d.VITE_WS_URL)||null,f=((v=(_=import.meta)==null?void 0:_.env)==null?void 0:v.VITE_WS_PORT)||8080,g=`${c}://localhost:${f}`,y=`${c}://127.0.0.1:${f}`,C=`${c}://${location.hostname}:${f}`,x=[b,p,C,g,y].filter(Boolean);let h=0;const u=()=>{if(h>=x.length){const j=Date.now()+1500;window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!1,nextRetryTs:j,paused:r.current}})),!s&&!r.current&&(i=setTimeout(l,1500));return}const w=x[h++];try{t=new WebSocket(w)}catch{return u()}let E=!1;const S=setTimeout(()=>{if(!E)try{t.close()}catch{}},800);t.onopen=()=>{E=!0,clearTimeout(S),window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!0,url:t.url,paused:!1}}))},t.onmessage=j=>{try{const T=JSON.parse(j.data);window.dispatchEvent(new CustomEvent("unicon-ws",{detail:T}))}catch{}},t.onclose=()=>{if(!E)return u();const j=Date.now()+1500;window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!1,url:t.url,nextRetryTs:j,paused:r.current}})),!s&&!r.current&&(i=setTimeout(l,1500))},t.onerror=()=>{try{t.close()}catch{}}};u()},m=()=>{if(!r.current){try{i&&(clearTimeout(i),i=null)}catch{}try{t&&t.close()}catch{}l()}},n=c=>{const p=!!(c!=null&&c.detail&&c.detail.paused);r.current=p;try{localStorage.setItem("unicon_ws_paused",p?"1":"0")}catch{}if(p){try{i&&(clearTimeout(i),i=null)}catch{}try{t&&t.close()}catch{}window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!1,paused:!0}}))}else l()};return window.addEventListener("unicon-ws-reconnect",m),window.addEventListener("unicon-ws-toggle-pause",n),l(),()=>{s=!0,window.removeEventListener("unicon-ws-reconnect",m),window.removeEventListener("unicon-ws-toggle-pause",n);try{t&&t.close()}catch{}try{i&&clearTimeout(i)}catch{}}},[]),e}const _y="modulepreload",yy=function(e){return"/unicon/"+e},wd={},Or=function(t,s,i){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),n=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=yy(c),c in wd)return;wd[c]=!0;const p=c.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${b}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":_y,p||(f.as="script"),f.crossOrigin="",f.href=c,n&&f.setAttribute("nonce",n),document.head.appendChild(f),p)return new Promise((g,y)=>{f.addEventListener("load",g),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(m){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=m,window.dispatchEvent(n),!n.defaultPrevented)throw m}return r.then(m=>{for(const n of m||[])n.status==="rejected"&&l(n.reason);return t().catch(l)})};/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function mc(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,i=Array(t);s<t;s++)i[s]=e[s];return i}function by(e){if(Array.isArray(e))return e}function Sy(e){if(Array.isArray(e))return mc(e)}function xy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cy(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Vp(i.key),i)}}function wy(e,t,s){return t&&Cy(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pa(e,t){var s=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=ju(e))||t){s&&(e=s);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,m=!0,n=!1;return{s:function(){s=s.call(e)},n:function(){var c=s.next();return m=c.done,c},e:function(c){n=!0,l=c},f:function(){try{m||s.return==null||s.return()}finally{if(n)throw l}}}}function fe(e,t,s){return(t=Vp(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ey(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jy(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var i,r,l,m,n=[],c=!0,p=!1;try{if(l=(s=s.call(e)).next,t===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(i=l.call(s)).done)&&(n.push(i.value),n.length!==t);c=!0);}catch(b){p=!0,r=b}finally{try{if(!c&&s.return!=null&&(m=s.return(),Object(m)!==m))return}finally{if(p)throw r}}return n}}function Ay(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ny(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ed(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,i)}return s}function te(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Ed(Object(s),!0).forEach(function(i){fe(e,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ed(Object(s)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(s,i))})}return e}function _l(e,t){return by(e)||jy(e,t)||ju(e,t)||Ay()}function Ut(e){return Sy(e)||Ey(e)||ju(e)||Ny()}function ky(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var i=s.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vp(e){var t=ky(e,"string");return typeof t=="symbol"?t:t+""}function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function ju(e,t){if(e){if(typeof e=="string")return mc(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?mc(e,t):void 0}}var jd=function(){},Au={},Xp={},Qp=null,Jp={mark:jd,measure:jd};try{typeof window<"u"&&(Au=window),typeof document<"u"&&(Xp=document),typeof MutationObserver<"u"&&(Qp=MutationObserver),typeof performance<"u"&&(Jp=performance)}catch{}var Ty=Au.navigator||{},Ad=Ty.userAgent,Nd=Ad===void 0?"":Ad,Ws=Au,Re=Xp,kd=Qp,Jn=Jp;Ws.document;var bs=!!Re.documentElement&&!!Re.head&&typeof Re.addEventListener=="function"&&typeof Re.createElement=="function",Zp=~Nd.indexOf("MSIE")||~Nd.indexOf("Trident/"),co,Dy=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Ry=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,ev={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},Oy={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},tv=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],tt="classic",On="duotone",sv="sharp",iv="sharp-duotone",rv="chisel",nv="etch",av="jelly",lv="jelly-duo",ov="jelly-fill",cv="notdog",uv="notdog-duo",hv="slab",dv="slab-press",fv="thumbprint",mv="utility",pv="utility-duo",vv="utility-fill",gv="whiteboard",Ly="Classic",My="Duotone",By="Sharp",Hy="Sharp Duotone",zy="Chisel",Uy="Etch",Py="Jelly",Iy="Jelly Duo",qy="Jelly Fill",Fy="Notdog",$y="Notdog Duo",Gy="Slab",Wy="Slab Press",Ky="Thumbprint",Yy="Utility",Vy="Utility Duo",Xy="Utility Fill",Qy="Whiteboard",_v=[tt,On,sv,iv,rv,nv,av,lv,ov,cv,uv,hv,dv,fv,mv,pv,vv,gv];co={},fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(co,tt,Ly),On,My),sv,By),iv,Hy),rv,zy),nv,Uy),av,Py),lv,Iy),ov,qy),cv,Fy),fe(fe(fe(fe(fe(fe(fe(fe(co,uv,$y),hv,Gy),dv,Wy),fv,Ky),mv,Yy),pv,Vy),vv,Xy),gv,Qy);var Jy={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},Zy={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},e1=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),t1={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},yv=["fak","fa-kit","fakd","fa-kit-duotone"],Td={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},s1=["kit"],i1="kit",r1="kit-duotone",n1="Kit",a1="Kit Duotone";fe(fe({},i1,n1),r1,a1);var l1={kit:{"fa-kit":"fak"}},o1={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},c1={kit:{fak:"fa-kit"}},Dd={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},uo,Zn={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},u1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],h1="classic",d1="duotone",f1="sharp",m1="sharp-duotone",p1="chisel",v1="etch",g1="jelly",_1="jelly-duo",y1="jelly-fill",b1="notdog",S1="notdog-duo",x1="slab",C1="slab-press",w1="thumbprint",E1="utility",j1="utility-duo",A1="utility-fill",N1="whiteboard",k1="Classic",T1="Duotone",D1="Sharp",R1="Sharp Duotone",O1="Chisel",L1="Etch",M1="Jelly",B1="Jelly Duo",H1="Jelly Fill",z1="Notdog",U1="Notdog Duo",P1="Slab",I1="Slab Press",q1="Thumbprint",F1="Utility",$1="Utility Duo",G1="Utility Fill",W1="Whiteboard";uo={},fe(fe(fe(fe(fe(fe(fe(fe(fe(fe(uo,h1,k1),d1,T1),f1,D1),m1,R1),p1,O1),v1,L1),g1,M1),_1,B1),y1,H1),b1,z1),fe(fe(fe(fe(fe(fe(fe(fe(uo,S1,U1),x1,P1),C1,I1),w1,q1),E1,F1),j1,$1),A1,G1),N1,W1);var K1="kit",Y1="kit-duotone",V1="Kit",X1="Kit Duotone";fe(fe({},K1,V1),Y1,X1);var Q1={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},J1={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},pc={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},Z1=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],bv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(u1,Z1),eb=["solid","regular","light","thin","duotone","brands","semibold"],Sv=[1,2,3,4,5,6,7,8,9,10],tb=Sv.concat([11,12,13,14,15,16,17,18,19,20]),sb=["aw","fw","pull-left","pull-right"],ib=[].concat(Ut(Object.keys(J1)),eb,sb,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Zn.GROUP,Zn.SWAP_OPACITY,Zn.PRIMARY,Zn.SECONDARY]).concat(Sv.map(function(e){return"".concat(e,"x")})).concat(tb.map(function(e){return"w-".concat(e)})),rb={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},vs="___FONT_AWESOME___",vc=16,xv="fa",Cv="svg-inline--fa",fi="data-fa-i2svg",gc="data-fa-pseudo-element",nb="data-fa-pseudo-element-pending",Nu="data-prefix",ku="data-icon",Rd="fontawesome-i2svg",ab="async",lb=["HTML","HEAD","STYLE","SCRIPT"],wv=["::before","::after",":before",":after"],Ev=function(){try{return!0}catch{return!1}}();function Ln(e){return new Proxy(e,{get:function(s,i){return i in s?s[i]:s[tt]}})}var jv=te({},ev);jv[tt]=te(te(te(te({},{"fa-duotone":"duotone"}),ev[tt]),Td.kit),Td["kit-duotone"]);var ob=Ln(jv),_c=te({},t1);_c[tt]=te(te(te(te({},{duotone:"fad"}),_c[tt]),Dd.kit),Dd["kit-duotone"]);var Od=Ln(_c),yc=te({},pc);yc[tt]=te(te({},yc[tt]),c1.kit);var Tu=Ln(yc),bc=te({},Q1);bc[tt]=te(te({},bc[tt]),l1.kit);Ln(bc);var cb=Dy,Av="fa-layers-text",ub=Ry,hb=te({},Jy);Ln(hb);var db=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ho=Oy,fb=[].concat(Ut(s1),Ut(ib)),Vr=Ws.FontAwesomeConfig||{};function mb(e){var t=Re.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function pb(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(Re&&typeof Re.querySelector=="function"){var vb=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];vb.forEach(function(e){var t=_l(e,2),s=t[0],i=t[1],r=pb(mb(s));r!=null&&(Vr[i]=r)})}var Nv={styleDefault:"solid",familyDefault:tt,cssPrefix:xv,replacementClass:Cv,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Vr.familyPrefix&&(Vr.cssPrefix=Vr.familyPrefix);var or=te(te({},Nv),Vr);or.autoReplaceSvg||(or.observeMutations=!1);var oe={};Object.keys(Nv).forEach(function(e){Object.defineProperty(oe,e,{enumerable:!0,set:function(s){or[e]=s,Xr.forEach(function(i){return i(oe)})},get:function(){return or[e]}})});Object.defineProperty(oe,"familyPrefix",{enumerable:!0,set:function(t){or.cssPrefix=t,Xr.forEach(function(s){return s(oe)})},get:function(){return or.cssPrefix}});Ws.FontAwesomeConfig=oe;var Xr=[];function gb(e){return Xr.push(e),function(){Xr.splice(Xr.indexOf(e),1)}}var Ci=vc,Gt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function _b(e){if(!(!e||!bs)){var t=Re.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var s=Re.head.childNodes,i=null,r=s.length-1;r>-1;r--){var l=s[r],m=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(m)>-1&&(i=l)}return Re.head.insertBefore(t,i),e}}var yb="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ld(){for(var e=12,t="";e-- >0;)t+=yb[Math.random()*62|0];return t}function _r(e){for(var t=[],s=(e||[]).length>>>0;s--;)t[s]=e[s];return t}function Du(e){return e.classList?_r(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function kv(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function bb(e){return Object.keys(e||{}).reduce(function(t,s){return t+"".concat(s,'="').concat(kv(e[s]),'" ')},"").trim()}function yl(e){return Object.keys(e||{}).reduce(function(t,s){return t+"".concat(s,": ").concat(e[s].trim(),";")},"")}function Ru(e){return e.size!==Gt.size||e.x!==Gt.x||e.y!==Gt.y||e.rotate!==Gt.rotate||e.flipX||e.flipY}function Sb(e){var t=e.transform,s=e.containerWidth,i=e.iconWidth,r={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(t.x*32,", ").concat(t.y*32,") "),m="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),n="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(l," ").concat(m," ").concat(n)},p={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:c,path:p}}function xb(e){var t=e.transform,s=e.width,i=s===void 0?vc:s,r=e.height,l=r===void 0?vc:r,m="";return Zp?m+="translate(".concat(t.x/Ci-i/2,"em, ").concat(t.y/Ci-l/2,"em) "):m+="translate(calc(-50% + ".concat(t.x/Ci,"em), calc(-50% + ").concat(t.y/Ci,"em)) "),m+="scale(".concat(t.size/Ci*(t.flipX?-1:1),", ").concat(t.size/Ci*(t.flipY?-1:1),") "),m+="rotate(".concat(t.rotate,"deg) "),m}var Cb=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function Tv(){var e=xv,t=Cv,s=oe.cssPrefix,i=oe.replacementClass,r=Cb;if(s!==e||i!==t){var l=new RegExp("\\.".concat(e,"\\-"),"g"),m=new RegExp("\\--".concat(e,"\\-"),"g"),n=new RegExp("\\.".concat(t),"g");r=r.replace(l,".".concat(s,"-")).replace(m,"--".concat(s,"-")).replace(n,".".concat(i))}return r}var Md=!1;function fo(){oe.autoAddCss&&!Md&&(_b(Tv()),Md=!0)}var wb={mixout:function(){return{dom:{css:Tv,insertCss:fo}}},hooks:function(){return{beforeDOMElementCreation:function(){fo()},beforeI2svg:function(){fo()}}}},gs=Ws||{};gs[vs]||(gs[vs]={});gs[vs].styles||(gs[vs].styles={});gs[vs].hooks||(gs[vs].hooks={});gs[vs].shims||(gs[vs].shims=[]);var Ht=gs[vs],Dv=[],Rv=function(){Re.removeEventListener("DOMContentLoaded",Rv),Za=1,Dv.map(function(t){return t()})},Za=!1;bs&&(Za=(Re.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Re.readyState),Za||Re.addEventListener("DOMContentLoaded",Rv));function Eb(e){bs&&(Za?setTimeout(e,0):Dv.push(e))}function Mn(e){var t=e.tag,s=e.attributes,i=s===void 0?{}:s,r=e.children,l=r===void 0?[]:r;return typeof e=="string"?kv(e):"<".concat(t," ").concat(bb(i),">").concat(l.map(Mn).join(""),"</").concat(t,">")}function Bd(e,t,s){if(e&&e[t]&&e[t][s])return{prefix:t,iconName:s,icon:e[t][s]}}var mo=function(t,s,i,r){var l=Object.keys(t),m=l.length,n=s,c,p,b;for(i===void 0?(c=1,b=t[l[0]]):(c=0,b=i);c<m;c++)p=l[c],b=n(b,t[p],p,t);return b};function Ov(e){return Ut(e).length!==1?null:e.codePointAt(0).toString(16)}function Hd(e){return Object.keys(e).reduce(function(t,s){var i=e[s],r=!!i.icon;return r?t[i.iconName]=i.icon:t[s]=i,t},{})}function Sc(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.skipHooks,r=i===void 0?!1:i,l=Hd(t);typeof Ht.hooks.addPack=="function"&&!r?Ht.hooks.addPack(e,Hd(t)):Ht.styles[e]=te(te({},Ht.styles[e]||{}),l),e==="fas"&&Sc("fa",t)}var fn=Ht.styles,jb=Ht.shims,Lv=Object.keys(Tu),Ab=Lv.reduce(function(e,t){return e[t]=Object.keys(Tu[t]),e},{}),Ou=null,Mv={},Bv={},Hv={},zv={},Uv={};function Nb(e){return~fb.indexOf(e)}function kb(e,t){var s=t.split("-"),i=s[0],r=s.slice(1).join("-");return i===e&&r!==""&&!Nb(r)?r:null}var Pv=function(){var t=function(l){return mo(fn,function(m,n,c){return m[c]=mo(n,l,{}),m},{})};Mv=t(function(r,l,m){if(l[3]&&(r[l[3]]=m),l[2]){var n=l[2].filter(function(c){return typeof c=="number"});n.forEach(function(c){r[c.toString(16)]=m})}return r}),Bv=t(function(r,l,m){if(r[m]=m,l[2]){var n=l[2].filter(function(c){return typeof c=="string"});n.forEach(function(c){r[c]=m})}return r}),Uv=t(function(r,l,m){var n=l[2];return r[m]=m,n.forEach(function(c){r[c]=m}),r});var s="far"in fn||oe.autoFetchSvg,i=mo(jb,function(r,l){var m=l[0],n=l[1],c=l[2];return n==="far"&&!s&&(n="fas"),typeof m=="string"&&(r.names[m]={prefix:n,iconName:c}),typeof m=="number"&&(r.unicodes[m.toString(16)]={prefix:n,iconName:c}),r},{names:{},unicodes:{}});Hv=i.names,zv=i.unicodes,Ou=bl(oe.styleDefault,{family:oe.familyDefault})};gb(function(e){Ou=bl(e.styleDefault,{family:oe.familyDefault})});Pv();function Lu(e,t){return(Mv[e]||{})[t]}function Tb(e,t){return(Bv[e]||{})[t]}function ti(e,t){return(Uv[e]||{})[t]}function Iv(e){return Hv[e]||{prefix:null,iconName:null}}function Db(e){var t=zv[e],s=Lu("fas",e);return t||(s?{prefix:"fas",iconName:s}:null)||{prefix:null,iconName:null}}function Ks(){return Ou}var qv=function(){return{prefix:null,iconName:null,rest:[]}};function Rb(e){var t=tt,s=Lv.reduce(function(i,r){return i[r]="".concat(oe.cssPrefix,"-").concat(r),i},{});return _v.forEach(function(i){(e.includes(s[i])||e.some(function(r){return Ab[i].includes(r)}))&&(t=i)}),t}function bl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.family,i=s===void 0?tt:s,r=ob[i][e];if(i===On&&!e)return"fad";var l=Od[i][e]||Od[i][r],m=e in Ht.styles?e:null,n=l||m||null;return n}function Ob(e){var t=[],s=null;return e.forEach(function(i){var r=kb(oe.cssPrefix,i);r?s=r:i&&t.push(i)}),{iconName:s,rest:t}}function zd(e){return e.sort().filter(function(t,s,i){return i.indexOf(t)===s})}var Ud=bv.concat(yv);function Sl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.skipLookups,i=s===void 0?!1:s,r=null,l=zd(e.filter(function(y){return Ud.includes(y)})),m=zd(e.filter(function(y){return!Ud.includes(y)})),n=l.filter(function(y){return r=y,!tv.includes(y)}),c=_l(n,1),p=c[0],b=p===void 0?null:p,f=Rb(l),g=te(te({},Ob(m)),{},{prefix:bl(b,{family:f})});return te(te(te({},g),Hb({values:e,family:f,styles:fn,config:oe,canonical:g,givenPrefix:r})),Lb(i,r,g))}function Lb(e,t,s){var i=s.prefix,r=s.iconName;if(e||!i||!r)return{prefix:i,iconName:r};var l=t==="fa"?Iv(r):{},m=ti(i,r);return r=l.iconName||m||r,i=l.prefix||i,i==="far"&&!fn.far&&fn.fas&&!oe.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}var Mb=_v.filter(function(e){return e!==tt||e!==On}),Bb=Object.keys(pc).filter(function(e){return e!==tt}).map(function(e){return Object.keys(pc[e])}).flat();function Hb(e){var t=e.values,s=e.family,i=e.canonical,r=e.givenPrefix,l=r===void 0?"":r,m=e.styles,n=m===void 0?{}:m,c=e.config,p=c===void 0?{}:c,b=s===On,f=t.includes("fa-duotone")||t.includes("fad"),g=p.familyDefault==="duotone",y=i.prefix==="fad"||i.prefix==="fa-duotone";if(!b&&(f||g||y)&&(i.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(i.prefix="fab"),!i.prefix&&Mb.includes(s)){var C=Object.keys(n).find(function(h){return Bb.includes(h)});if(C||p.autoFetchSvg){var x=e1.get(s).defaultShortPrefixId;i.prefix=x,i.iconName=ti(i.prefix,i.iconName)||i.iconName}}return(i.prefix==="fa"||l==="fa")&&(i.prefix=Ks()||"fas"),i}var zb=function(){function e(){xy(this,e),this.definitions={}}return wy(e,[{key:"add",value:function(){for(var s=this,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];var m=r.reduce(this._pullDefinitions,{});Object.keys(m).forEach(function(n){s.definitions[n]=te(te({},s.definitions[n]||{}),m[n]),Sc(n,m[n]);var c=Tu[tt][n];c&&Sc(c,m[n]),Pv()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(s,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(l){var m=r[l],n=m.prefix,c=m.iconName,p=m.icon,b=p[2];s[n]||(s[n]={}),b.length>0&&b.forEach(function(f){typeof f=="string"&&(s[n][f]=p)}),s[n][c]=p}),s}}])}(),Pd=[],Pi={},Xi={},Ub=Object.keys(Xi);function Pb(e,t){var s=t.mixoutsTo;return Pd=e,Pi={},Object.keys(Xi).forEach(function(i){Ub.indexOf(i)===-1&&delete Xi[i]}),Pd.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(m){typeof r[m]=="function"&&(s[m]=r[m]),Ja(r[m])==="object"&&Object.keys(r[m]).forEach(function(n){s[m]||(s[m]={}),s[m][n]=r[m][n]})}),i.hooks){var l=i.hooks();Object.keys(l).forEach(function(m){Pi[m]||(Pi[m]=[]),Pi[m].push(l[m])})}i.provides&&i.provides(Xi)}),s}function xc(e,t){for(var s=arguments.length,i=new Array(s>2?s-2:0),r=2;r<s;r++)i[r-2]=arguments[r];var l=Pi[e]||[];return l.forEach(function(m){t=m.apply(null,[t].concat(i))}),t}function mi(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];var r=Pi[e]||[];r.forEach(function(l){l.apply(null,s)})}function Ys(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Xi[e]?Xi[e].apply(null,t):void 0}function Cc(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,s=e.prefix||Ks();if(t)return t=ti(s,t)||t,Bd(Fv.definitions,s,t)||Bd(Ht.styles,s,t)}var Fv=new zb,Ib=function(){oe.autoReplaceSvg=!1,oe.observeMutations=!1,mi("noAuto")},qb={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return bs?(mi("beforeI2svg",t),Ys("pseudoElements2svg",t),Ys("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.autoReplaceSvgRoot;oe.autoReplaceSvg===!1&&(oe.autoReplaceSvg=!0),oe.observeMutations=!0,Eb(function(){$b({autoReplaceSvgRoot:s}),mi("watch",t)})}},Fb={icon:function(t){if(t===null)return null;if(Ja(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ti(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var s=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=bl(t[0]);return{prefix:i,iconName:ti(i,s)||s}}if(typeof t=="string"&&(t.indexOf("".concat(oe.cssPrefix,"-"))>-1||t.match(cb))){var r=Sl(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||Ks(),iconName:ti(r.prefix,r.iconName)||r.iconName}}if(typeof t=="string"){var l=Ks();return{prefix:l,iconName:ti(l,t)||t}}}},xt={noAuto:Ib,config:oe,dom:qb,parse:Fb,library:Fv,findIconDefinition:Cc,toHtml:Mn},$b=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.autoReplaceSvgRoot,i=s===void 0?Re:s;(Object.keys(Ht.styles).length>0||oe.autoFetchSvg)&&bs&&oe.autoReplaceSvg&&xt.dom.i2svg({node:i})};function xl(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return Mn(i)})}}),Object.defineProperty(e,"node",{get:function(){if(bs){var i=Re.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function Gb(e){var t=e.children,s=e.main,i=e.mask,r=e.attributes,l=e.styles,m=e.transform;if(Ru(m)&&s.found&&!i.found){var n=s.width,c=s.height,p={x:n/c/2,y:.5};r.style=yl(te(te({},l),{},{"transform-origin":"".concat(p.x+m.x/16,"em ").concat(p.y+m.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}function Wb(e){var t=e.prefix,s=e.iconName,i=e.children,r=e.attributes,l=e.symbol,m=l===!0?"".concat(t,"-").concat(oe.cssPrefix,"-").concat(s):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:te(te({},r),{},{id:m}),children:i}]}]}function Kb(e){var t=["aria-label","aria-labelledby","title","role"];return t.some(function(s){return s in e})}function Mu(e){var t=e.icons,s=t.main,i=t.mask,r=e.prefix,l=e.iconName,m=e.transform,n=e.symbol,c=e.maskId,p=e.extra,b=e.watchable,f=b===void 0?!1:b,g=i.found?i:s,y=g.width,C=g.height,x=[oe.replacementClass,l?"".concat(oe.cssPrefix,"-").concat(l):""].filter(function(v){return p.classes.indexOf(v)===-1}).filter(function(v){return v!==""||!!v}).concat(p.classes).join(" "),h={children:[],attributes:te(te({},p.attributes),{},{"data-prefix":r,"data-icon":l,class:x,role:p.attributes.role||"img",viewBox:"0 0 ".concat(y," ").concat(C)})};!Kb(p.attributes)&&!p.attributes["aria-hidden"]&&(h.attributes["aria-hidden"]="true"),f&&(h.attributes[fi]="");var u=te(te({},h),{},{prefix:r,iconName:l,main:s,mask:i,maskId:c,transform:m,symbol:n,styles:te({},p.styles)}),o=i.found&&s.found?Ys("generateAbstractMask",u)||{children:[],attributes:{}}:Ys("generateAbstractIcon",u)||{children:[],attributes:{}},d=o.children,_=o.attributes;return u.children=d,u.attributes=_,n?Wb(u):Gb(u)}function Id(e){var t=e.content,s=e.width,i=e.height,r=e.transform,l=e.extra,m=e.watchable,n=m===void 0?!1:m,c=te(te({},l.attributes),{},{class:l.classes.join(" ")});n&&(c[fi]="");var p=te({},l.styles);Ru(r)&&(p.transform=xb({transform:r,width:s,height:i}),p["-webkit-transform"]=p.transform);var b=yl(p);b.length>0&&(c.style=b);var f=[];return f.push({tag:"span",attributes:c,children:[t]}),f}function Yb(e){var t=e.content,s=e.extra,i=te(te({},s.attributes),{},{class:s.classes.join(" ")}),r=yl(s.styles);r.length>0&&(i.style=r);var l=[];return l.push({tag:"span",attributes:i,children:[t]}),l}var po=Ht.styles;function wc(e){var t=e[0],s=e[1],i=e.slice(4),r=_l(i,1),l=r[0],m=null;return Array.isArray(l)?m={tag:"g",attributes:{class:"".concat(oe.cssPrefix,"-").concat(ho.GROUP)},children:[{tag:"path",attributes:{class:"".concat(oe.cssPrefix,"-").concat(ho.SECONDARY),fill:"currentColor",d:l[0]}},{tag:"path",attributes:{class:"".concat(oe.cssPrefix,"-").concat(ho.PRIMARY),fill:"currentColor",d:l[1]}}]}:m={tag:"path",attributes:{fill:"currentColor",d:l}},{found:!0,width:t,height:s,icon:m}}var Vb={found:!1,width:512,height:512};function Xb(e,t){!Ev&&!oe.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Ec(e,t){var s=t;return t==="fa"&&oe.styleDefault!==null&&(t=Ks()),new Promise(function(i,r){if(s==="fa"){var l=Iv(e)||{};e=l.iconName||e,t=l.prefix||t}if(e&&t&&po[t]&&po[t][e]){var m=po[t][e];return i(wc(m))}Xb(e,t),i(te(te({},Vb),{},{icon:oe.showMissingIcons&&e?Ys("missingIconAbstract")||{}:{}}))})}var qd=function(){},jc=oe.measurePerformance&&Jn&&Jn.mark&&Jn.measure?Jn:{mark:qd,measure:qd},Lr='FA "7.1.0"',Qb=function(t){return jc.mark("".concat(Lr," ").concat(t," begins")),function(){return $v(t)}},$v=function(t){jc.mark("".concat(Lr," ").concat(t," ends")),jc.measure("".concat(Lr," ").concat(t),"".concat(Lr," ").concat(t," begins"),"".concat(Lr," ").concat(t," ends"))},Bu={begin:Qb,end:$v},va=function(){};function Fd(e){var t=e.getAttribute?e.getAttribute(fi):null;return typeof t=="string"}function Jb(e){var t=e.getAttribute?e.getAttribute(Nu):null,s=e.getAttribute?e.getAttribute(ku):null;return t&&s}function Zb(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(oe.replacementClass)}function eS(){if(oe.autoReplaceSvg===!0)return ga.replace;var e=ga[oe.autoReplaceSvg];return e||ga.replace}function tS(e){return Re.createElementNS("http://www.w3.org/2000/svg",e)}function sS(e){return Re.createElement(e)}function Gv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.ceFn,i=s===void 0?e.tag==="svg"?tS:sS:s;if(typeof e=="string")return Re.createTextNode(e);var r=i(e.tag);Object.keys(e.attributes||[]).forEach(function(m){r.setAttribute(m,e.attributes[m])});var l=e.children||[];return l.forEach(function(m){r.appendChild(Gv(m,{ceFn:i}))}),r}function iS(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var ga={replace:function(t){var s=t[0];if(s.parentNode)if(t[1].forEach(function(r){s.parentNode.insertBefore(Gv(r),s)}),s.getAttribute(fi)===null&&oe.keepOriginalSource){var i=Re.createComment(iS(s));s.parentNode.replaceChild(i,s)}else s.remove()},nest:function(t){var s=t[0],i=t[1];if(~Du(s).indexOf(oe.replacementClass))return ga.replace(t);var r=new RegExp("".concat(oe.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var l=i[0].attributes.class.split(" ").reduce(function(n,c){return c===oe.replacementClass||c.match(r)?n.toSvg.push(c):n.toNode.push(c),n},{toNode:[],toSvg:[]});i[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?s.removeAttribute("class"):s.setAttribute("class",l.toNode.join(" "))}var m=i.map(function(n){return Mn(n)}).join(`
`);s.setAttribute(fi,""),s.innerHTML=m}};function $d(e){e()}function Wv(e,t){var s=typeof t=="function"?t:va;if(e.length===0)s();else{var i=$d;oe.mutateApproach===ab&&(i=Ws.requestAnimationFrame||$d),i(function(){var r=eS(),l=Bu.begin("mutate");e.map(r),l(),s()})}}var Hu=!1;function Kv(){Hu=!0}function Ac(){Hu=!1}var el=null;function Gd(e){if(kd&&oe.observeMutations){var t=e.treeCallback,s=t===void 0?va:t,i=e.nodeCallback,r=i===void 0?va:i,l=e.pseudoElementsCallback,m=l===void 0?va:l,n=e.observeMutationsRoot,c=n===void 0?Re:n;el=new kd(function(p){if(!Hu){var b=Ks();_r(p).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!Fd(f.addedNodes[0])&&(oe.searchPseudoElements&&m(f.target),s(f.target)),f.type==="attributes"&&f.target.parentNode&&oe.searchPseudoElements&&m([f.target],!0),f.type==="attributes"&&Fd(f.target)&&~db.indexOf(f.attributeName))if(f.attributeName==="class"&&Jb(f.target)){var g=Sl(Du(f.target)),y=g.prefix,C=g.iconName;f.target.setAttribute(Nu,y||b),C&&f.target.setAttribute(ku,C)}else Zb(f.target)&&r(f.target)})}}),bs&&el.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function rS(){el&&el.disconnect()}function nS(e){var t=e.getAttribute("style"),s=[];return t&&(s=t.split(";").reduce(function(i,r){var l=r.split(":"),m=l[0],n=l.slice(1);return m&&n.length>0&&(i[m]=n.join(":").trim()),i},{})),s}function aS(e){var t=e.getAttribute("data-prefix"),s=e.getAttribute("data-icon"),i=e.innerText!==void 0?e.innerText.trim():"",r=Sl(Du(e));return r.prefix||(r.prefix=Ks()),t&&s&&(r.prefix=t,r.iconName=s),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=Tb(r.prefix,e.innerText)||Lu(r.prefix,Ov(e.innerText))),!r.iconName&&oe.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=e.firstChild.data)),r}function lS(e){var t=_r(e.attributes).reduce(function(s,i){return s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s},{});return t}function oS(){return{iconName:null,prefix:null,transform:Gt,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Wd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},s=aS(e),i=s.iconName,r=s.prefix,l=s.rest,m=lS(e),n=xc("parseNodeAttributes",{},e),c=t.styleParser?nS(e):[];return te({iconName:i,prefix:r,transform:Gt,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:l,styles:c,attributes:m}},n)}var cS=Ht.styles;function Yv(e){var t=oe.autoReplaceSvg==="nest"?Wd(e,{styleParser:!1}):Wd(e);return~t.extra.classes.indexOf(Av)?Ys("generateLayersText",e,t):Ys("generateSvgReplacementMutation",e,t)}function uS(){return[].concat(Ut(yv),Ut(bv))}function Kd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!bs)return Promise.resolve();var s=Re.documentElement.classList,i=function(f){return s.add("".concat(Rd,"-").concat(f))},r=function(f){return s.remove("".concat(Rd,"-").concat(f))},l=oe.autoFetchSvg?uS():tv.concat(Object.keys(cS));l.includes("fa")||l.push("fa");var m=[".".concat(Av,":not([").concat(fi,"])")].concat(l.map(function(b){return".".concat(b,":not([").concat(fi,"])")})).join(", ");if(m.length===0)return Promise.resolve();var n=[];try{n=_r(e.querySelectorAll(m))}catch{}if(n.length>0)i("pending"),r("complete");else return Promise.resolve();var c=Bu.begin("onTree"),p=n.reduce(function(b,f){try{var g=Yv(f);g&&b.push(g)}catch(y){Ev||y.name==="MissingIcon"&&console.error(y)}return b},[]);return new Promise(function(b,f){Promise.all(p).then(function(g){Wv(g,function(){i("active"),i("complete"),r("pending"),typeof t=="function"&&t(),c(),b()})}).catch(function(g){c(),f(g)})})}function hS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Yv(e).then(function(s){s&&Wv([s],t)})}function dS(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:Cc(t||{}),r=s.mask;return r&&(r=(r||{}).icon?r:Cc(r||{})),e(i,te(te({},s),{},{mask:r}))}}var fS=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.transform,r=i===void 0?Gt:i,l=s.symbol,m=l===void 0?!1:l,n=s.mask,c=n===void 0?null:n,p=s.maskId,b=p===void 0?null:p,f=s.classes,g=f===void 0?[]:f,y=s.attributes,C=y===void 0?{}:y,x=s.styles,h=x===void 0?{}:x;if(t){var u=t.prefix,o=t.iconName,d=t.icon;return xl(te({type:"icon"},t),function(){return mi("beforeDOMElementCreation",{iconDefinition:t,params:s}),Mu({icons:{main:wc(d),mask:c?wc(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u,iconName:o,transform:te(te({},Gt),r),symbol:m,maskId:b,extra:{attributes:C,styles:h,classes:g}})})}},mS={mixout:function(){return{icon:dS(fS)}},hooks:function(){return{mutationObserverCallbacks:function(s){return s.treeCallback=Kd,s.nodeCallback=hS,s}}},provides:function(t){t.i2svg=function(s){var i=s.node,r=i===void 0?Re:i,l=s.callback,m=l===void 0?function(){}:l;return Kd(r,m)},t.generateSvgReplacementMutation=function(s,i){var r=i.iconName,l=i.prefix,m=i.transform,n=i.symbol,c=i.mask,p=i.maskId,b=i.extra;return new Promise(function(f,g){Promise.all([Ec(r,l),c.iconName?Ec(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(y){var C=_l(y,2),x=C[0],h=C[1];f([s,Mu({icons:{main:x,mask:h},prefix:l,iconName:r,transform:m,symbol:n,maskId:p,extra:b,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(s){var i=s.children,r=s.attributes,l=s.main,m=s.transform,n=s.styles,c=yl(n);c.length>0&&(r.style=c);var p;return Ru(m)&&(p=Ys("generateAbstractTransformGrouping",{main:l,transform:m,containerWidth:l.width,iconWidth:l.width})),i.push(p||l.icon),{children:i,attributes:r}}}},pS={mixout:function(){return{layer:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.classes,l=r===void 0?[]:r;return xl({type:"layer"},function(){mi("beforeDOMElementCreation",{assembler:s,params:i});var m=[];return s(function(n){Array.isArray(n)?n.map(function(c){m=m.concat(c.abstract)}):m=m.concat(n.abstract)}),[{tag:"span",attributes:{class:["".concat(oe.cssPrefix,"-layers")].concat(Ut(l)).join(" ")},children:m}]})}}}},vS={mixout:function(){return{counter:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.title;var r=i.classes,l=r===void 0?[]:r,m=i.attributes,n=m===void 0?{}:m,c=i.styles,p=c===void 0?{}:c;return xl({type:"counter",content:s},function(){return mi("beforeDOMElementCreation",{content:s,params:i}),Yb({content:s.toString(),extra:{attributes:n,styles:p,classes:["".concat(oe.cssPrefix,"-layers-counter")].concat(Ut(l))}})})}}}},gS={mixout:function(){return{text:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.transform,l=r===void 0?Gt:r,m=i.classes,n=m===void 0?[]:m,c=i.attributes,p=c===void 0?{}:c,b=i.styles,f=b===void 0?{}:b;return xl({type:"text",content:s},function(){return mi("beforeDOMElementCreation",{content:s,params:i}),Id({content:s,transform:te(te({},Gt),l),extra:{attributes:p,styles:f,classes:["".concat(oe.cssPrefix,"-layers-text")].concat(Ut(n))}})})}}},provides:function(t){t.generateLayersText=function(s,i){var r=i.transform,l=i.extra,m=null,n=null;if(Zp){var c=parseInt(getComputedStyle(s).fontSize,10),p=s.getBoundingClientRect();m=p.width/c,n=p.height/c}return Promise.resolve([s,Id({content:s.innerHTML,width:m,height:n,transform:r,extra:l,watchable:!0})])}}},Vv=new RegExp('"',"ug"),Yd=[1105920,1112319],Vd=te(te(te(te({},{FontAwesome:{normal:"fas",400:"fas"}}),Zy),rb),o1),Nc=Object.keys(Vd).reduce(function(e,t){return e[t.toLowerCase()]=Vd[t],e},{}),_S=Object.keys(Nc).reduce(function(e,t){var s=Nc[t];return e[t]=s[900]||Ut(Object.entries(s))[0][1],e},{});function yS(e){var t=e.replace(Vv,"");return Ov(Ut(t)[0]||"")}function bS(e){var t=e.getPropertyValue("font-feature-settings").includes("ss01"),s=e.getPropertyValue("content"),i=s.replace(Vv,""),r=i.codePointAt(0),l=r>=Yd[0]&&r<=Yd[1],m=i.length===2?i[0]===i[1]:!1;return l||m||t}function SS(e,t){var s=e.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(t),r=isNaN(i)?"normal":i;return(Nc[s]||{})[r]||_S[s]}function Xd(e,t){var s="".concat(nb).concat(t.replace(":","-"));return new Promise(function(i,r){if(e.getAttribute(s)!==null)return i();var l=_r(e.children),m=l.filter(function(w){return w.getAttribute(gc)===t})[0],n=Ws.getComputedStyle(e,t),c=n.getPropertyValue("font-family"),p=c.match(ub),b=n.getPropertyValue("font-weight"),f=n.getPropertyValue("content");if(m&&!p)return e.removeChild(m),i();if(p&&f!=="none"&&f!==""){var g=n.getPropertyValue("content"),y=SS(c,b),C=yS(g),x=p[0].startsWith("FontAwesome"),h=bS(n),u=Lu(y,C),o=u;if(x){var d=Db(C);d.iconName&&d.prefix&&(u=d.iconName,y=d.prefix)}if(u&&!h&&(!m||m.getAttribute(Nu)!==y||m.getAttribute(ku)!==o)){e.setAttribute(s,o),m&&e.removeChild(m);var _=oS(),v=_.extra;v.attributes[gc]=t,Ec(u,y).then(function(w){var E=Mu(te(te({},_),{},{icons:{main:w,mask:qv()},prefix:y,iconName:o,extra:v,watchable:!0})),S=Re.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(S,e.firstChild):e.appendChild(S),S.outerHTML=E.map(function(j){return Mn(j)}).join(`
`),e.removeAttribute(s),i()}).catch(r)}else i()}else i()})}function xS(e){return Promise.all([Xd(e,"::before"),Xd(e,"::after")])}function CS(e){return e.parentNode!==document.head&&!~lb.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(gc)&&(!e.parentNode||e.parentNode.tagName!=="svg")}var wS=function(t){return!!t&&wv.some(function(s){return t.includes(s)})},ES=function(t){if(!t)return[];var s=new Set,i=t.split(/,(?![^()]*\))/).map(function(c){return c.trim()});i=i.flatMap(function(c){return c.includes("(")?c:c.split(",").map(function(p){return p.trim()})});var r=pa(i),l;try{for(r.s();!(l=r.n()).done;){var m=l.value;if(wS(m)){var n=wv.reduce(function(c,p){return c.replace(p,"")},m);n!==""&&n!=="*"&&s.add(n)}}}catch(c){r.e(c)}finally{r.f()}return s};function Qd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(bs){var s;if(t)s=e;else if(oe.searchPseudoElementsFullScan)s=e.querySelectorAll("*");else{var i=new Set,r=pa(document.styleSheets),l;try{for(r.s();!(l=r.n()).done;){var m=l.value;try{var n=pa(m.cssRules),c;try{for(n.s();!(c=n.n()).done;){var p=c.value,b=ES(p.selectorText),f=pa(b),g;try{for(f.s();!(g=f.n()).done;){var y=g.value;i.add(y)}}catch(x){f.e(x)}finally{f.f()}}}catch(x){n.e(x)}finally{n.f()}}catch(x){oe.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(m.href," (").concat(x.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(x){r.e(x)}finally{r.f()}if(!i.size)return;var C=Array.from(i).join(", ");try{s=e.querySelectorAll(C)}catch{}}return new Promise(function(x,h){var u=_r(s).filter(CS).map(xS),o=Bu.begin("searchPseudoElements");Kv(),Promise.all(u).then(function(){o(),Ac(),x()}).catch(function(){o(),Ac(),h()})})}}var jS={hooks:function(){return{mutationObserverCallbacks:function(s){return s.pseudoElementsCallback=Qd,s}}},provides:function(t){t.pseudoElements2svg=function(s){var i=s.node,r=i===void 0?Re:i;oe.searchPseudoElements&&Qd(r)}}},Jd=!1,AS={mixout:function(){return{dom:{unwatch:function(){Kv(),Jd=!0}}}},hooks:function(){return{bootstrap:function(){Gd(xc("mutationObserverCallbacks",{}))},noAuto:function(){rS()},watch:function(s){var i=s.observeMutationsRoot;Jd?Ac():Gd(xc("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},Zd=function(t){var s={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,r){var l=r.toLowerCase().split("-"),m=l[0],n=l.slice(1).join("-");if(m&&n==="h")return i.flipX=!0,i;if(m&&n==="v")return i.flipY=!0,i;if(n=parseFloat(n),isNaN(n))return i;switch(m){case"grow":i.size=i.size+n;break;case"shrink":i.size=i.size-n;break;case"left":i.x=i.x-n;break;case"right":i.x=i.x+n;break;case"up":i.y=i.y-n;break;case"down":i.y=i.y+n;break;case"rotate":i.rotate=i.rotate+n;break}return i},s)},NS={mixout:function(){return{parse:{transform:function(s){return Zd(s)}}}},hooks:function(){return{parseNodeAttributes:function(s,i){var r=i.getAttribute("data-fa-transform");return r&&(s.transform=Zd(r)),s}}},provides:function(t){t.generateAbstractTransformGrouping=function(s){var i=s.main,r=s.transform,l=s.containerWidth,m=s.iconWidth,n={transform:"translate(".concat(l/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),p="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),b="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(c," ").concat(p," ").concat(b)},g={transform:"translate(".concat(m/2*-1," -256)")},y={outer:n,inner:f,path:g};return{tag:"g",attributes:te({},y.outer),children:[{tag:"g",attributes:te({},y.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:te(te({},i.icon.attributes),y.path)}]}]}}}},vo={x:0,y:0,width:"100%",height:"100%"};function ef(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function kS(e){return e.tag==="g"?e.children:[e]}var TS={hooks:function(){return{parseNodeAttributes:function(s,i){var r=i.getAttribute("data-fa-mask"),l=r?Sl(r.split(" ").map(function(m){return m.trim()})):qv();return l.prefix||(l.prefix=Ks()),s.mask=l,s.maskId=i.getAttribute("data-fa-mask-id"),s}}},provides:function(t){t.generateAbstractMask=function(s){var i=s.children,r=s.attributes,l=s.main,m=s.mask,n=s.maskId,c=s.transform,p=l.width,b=l.icon,f=m.width,g=m.icon,y=Sb({transform:c,containerWidth:f,iconWidth:p}),C={tag:"rect",attributes:te(te({},vo),{},{fill:"white"})},x=b.children?{children:b.children.map(ef)}:{},h={tag:"g",attributes:te({},y.inner),children:[ef(te({tag:b.tag,attributes:te(te({},b.attributes),y.path)},x))]},u={tag:"g",attributes:te({},y.outer),children:[h]},o="mask-".concat(n||Ld()),d="clip-".concat(n||Ld()),_={tag:"mask",attributes:te(te({},vo),{},{id:o,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[C,u]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:d},children:kS(g)},_]};return i.push(v,{tag:"rect",attributes:te({fill:"currentColor","clip-path":"url(#".concat(d,")"),mask:"url(#".concat(o,")")},vo)}),{children:i,attributes:r}}}},DS={provides:function(t){var s=!1;Ws.matchMedia&&(s=Ws.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},l={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:te(te({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var m=te(te({},l),{},{attributeName:"opacity"}),n={tag:"circle",attributes:te(te({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return s||n.children.push({tag:"animate",attributes:te(te({},l),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:te(te({},m),{},{values:"1;0;1;1;0;1;"})}),i.push(n),i.push({tag:"path",attributes:te(te({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:s?[]:[{tag:"animate",attributes:te(te({},m),{},{values:"1;0;0;0;0;1;"})}]}),s||i.push({tag:"path",attributes:te(te({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:te(te({},m),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},RS={hooks:function(){return{parseNodeAttributes:function(s,i){var r=i.getAttribute("data-fa-symbol"),l=r===null?!1:r===""?!0:r;return s.symbol=l,s}}}},OS=[wb,mS,pS,vS,gS,jS,AS,NS,TS,DS,RS];Pb(OS,{mixoutsTo:xt});xt.noAuto;var mn=xt.config;xt.library;xt.dom;var Xv=xt.parse;xt.findIconDefinition;xt.toHtml;var LS=xt.icon;xt.layer;xt.text;xt.counter;function MS(e){return e=e-0,e===e}function Qv(e){return MS(e)?e:(e=e.replace(/[_-]+(.)?/g,(t,s)=>s?s.toUpperCase():""),e.charAt(0).toLowerCase()+e.slice(1))}function BS(e){return e.charAt(0).toUpperCase()+e.slice(1)}var wi=new Map,HS=1e3;function zS(e){if(wi.has(e))return wi.get(e);const t={};let s=0;const i=e.length;for(;s<i;){const r=e.indexOf(";",s),l=r===-1?i:r,m=e.slice(s,l).trim();if(m){const n=m.indexOf(":");if(n>0){const c=m.slice(0,n).trim(),p=m.slice(n+1).trim();if(c&&p){const b=Qv(c);t[b.startsWith("webkit")?BS(b):b]=p}}}s=l+1}if(wi.size===HS){const r=wi.keys().next().value;r&&wi.delete(r)}return wi.set(e,t),t}function Jv(e,t,s={}){if(typeof t=="string")return t;const i=(t.children||[]).map(b=>Jv(e,b)),r=t.attributes||{},l={};for(const[b,f]of Object.entries(r))switch(!0){case b==="class":{l.className=f;break}case b==="style":{l.style=zS(String(f));break}case b.startsWith("aria-"):case b.startsWith("data-"):{l[b.toLowerCase()]=f;break}default:l[Qv(b)]=f}const{style:m,role:n,"aria-label":c,...p}=s;return m&&(l.style=l.style?{...l.style,...m}:m),n&&(l.role=n),c&&(l["aria-label"]=c,l["aria-hidden"]="false"),e(t.tag,{...p,...l},...i)}var US=Jv.bind(null,he.createElement),tf=(e,t)=>{const s=$.useId();return e||(t?s:void 0)},PS=class{constructor(e="react-fontawesome"){this.enabled=!1;let t=!1;try{t=typeof process<"u"&&!1}catch{}this.scope=e,this.enabled=t}log(...e){this.enabled&&console.log(`[${this.scope}]`,...e)}warn(...e){this.enabled&&console.warn(`[${this.scope}]`,...e)}error(...e){this.enabled&&console.error(`[${this.scope}]`,...e)}},IS="searchPseudoElementsFullScan"in mn?"7.0.0":"6.0.0",qS=Number.parseInt(IS)>=7,Qr="fa",ss={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},FS={left:"fa-pull-left",right:"fa-pull-right"},$S={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},GS={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},is={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function WS(e){const t=mn.cssPrefix||mn.familyPrefix||Qr;return t===Qr?e:e.replace(new RegExp(String.raw`(?<=^|\s)${Qr}-`,"g"),`${t}-`)}function KS(e){const{beat:t,fade:s,beatFade:i,bounce:r,shake:l,spin:m,spinPulse:n,spinReverse:c,pulse:p,fixedWidth:b,inverse:f,border:g,flip:y,size:C,rotation:x,pull:h,swapOpacity:u,rotateBy:o,widthAuto:d,className:_}=e,v=[];return _&&v.push(..._.split(" ")),t&&v.push(ss.beat),s&&v.push(ss.fade),i&&v.push(ss.beatFade),r&&v.push(ss.bounce),l&&v.push(ss.shake),m&&v.push(ss.spin),c&&v.push(ss.spinReverse),n&&v.push(ss.spinPulse),p&&v.push(ss.pulse),b&&v.push(is.fixedWidth),f&&v.push(is.inverse),g&&v.push(is.border),y===!0&&v.push(is.flip),(y==="horizontal"||y==="both")&&v.push(is.flipHorizontal),(y==="vertical"||y==="both")&&v.push(is.flipVertical),C!=null&&v.push(GS[C]),x!=null&&x!==0&&v.push($S[x]),h!=null&&v.push(FS[h]),u&&v.push(is.swapOpacity),qS?(o&&v.push(is.rotateBy),d&&v.push(is.widthAuto),(mn.cssPrefix||mn.familyPrefix||Qr)===Qr?v:v.map(WS)):v}var YS=e=>typeof e=="object"&&"icon"in e&&!!e.icon;function sf(e){if(e)return YS(e)?e:Xv.icon(e)}function VS(e){return Object.keys(e)}var rf=new PS("FontAwesomeIcon"),Zv={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},XS=new Set(Object.keys(Zv)),eg=he.forwardRef((e,t)=>{const s={...Zv,...e},{icon:i,mask:r,symbol:l,title:m,titleId:n,maskId:c,transform:p}=s,b=tf(c,!!r),f=tf(n,!!m),g=sf(i);if(!g)return rf.error("Icon lookup is undefined",i),null;const y=KS(s),C=typeof p=="string"?Xv.transform(p):p,x=sf(r),h=LS(g,{...y.length>0&&{classes:y},...C&&{transform:C},...x&&{mask:x},symbol:l,title:m,titleId:f,maskId:b});if(!h)return rf.error("Could not find icon",g),null;const{abstract:u}=h,o={ref:t};for(const d of VS(s))XS.has(d)||(o[d]=s[d]);return US(u[0],o)});eg.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var QS={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M0 352L0 128C0 75 43 32 96 32l320 0c53 0 96 43 96 96l0 224c0 53-43 96-96 96l-120 0c-5.2 0-10.2 1.7-14.4 4.8L166.4 539.2c-4.2 3.1-9.2 4.8-14.4 4.8-13.3 0-24-10.7-24-24l0-72-32 0c-53 0-96-43-96-96z"]},JS={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},ZS={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]},ex={prefix:"fas",iconName:"paper-plane",icon:[576,512,[61913],"f1d8","M536.4-26.3c9.8-3.5 20.6-1 28 6.3s9.8 18.2 6.3 28l-178 496.9c-5 13.9-18.1 23.1-32.8 23.1-14.2 0-27-8.6-32.3-21.7l-64.2-158c-4.5-11-2.5-23.6 5.2-32.6l94.5-112.4c5.1-6.1 4.7-15-.9-20.6s-14.6-6-20.6-.9L229.2 276.1c-9.1 7.6-21.6 9.6-32.6 5.2L38.1 216.8c-13.1-5.3-21.7-18.1-21.7-32.3 0-14.7 9.2-27.8 23.1-32.8l496.9-178z"]},tx={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 205.8c-14.8 9.8-31.8 17.7-49.5 24-47 16.8-108.7 26.2-174.5 26.2S96.4 246.5 49.5 229.8c-17.6-6.3-34.7-14.2-49.5-24L0 288c0 44.2 100.3 80 224 80s224-35.8 224-80l0-82.2zm0-77.8l0-48C448 35.8 347.7 0 224 0S0 35.8 0 80l0 48c0 44.2 100.3 80 224 80s224-35.8 224-80zM398.5 389.8C351.6 406.5 289.9 416 224 416S96.4 406.5 49.5 389.8c-17.6-6.3-34.7-14.2-49.5-24L0 432c0 44.2 100.3 80 224 80s224-35.8 224-80l0-66.2c-14.8 9.8-31.8 17.7-49.5 24z"]},sx={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]},tg={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm0-336c-17.7 0-32 14.3-32 32 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-44.2 35.8-80 80-80s80 35.8 80 80c0 47.2-36 67.2-56 74.5l0 3.8c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-8.1c0-20.5 14.8-35.2 30.1-40.2 6.4-2.1 13.2-5.5 18.2-10.3 4.3-4.2 7.7-10 7.7-19.6 0-17.7-14.3-32-32-32zM224 368a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},ix={prefix:"fas",iconName:"play",icon:[448,512,[9654],"f04b","M91.2 36.9c-12.4-6.8-27.4-6.5-39.6 .7S32 57.9 32 72l0 368c0 14.1 7.5 27.2 19.6 34.4s27.2 7.5 39.6 .7l336-184c12.8-7 20.8-20.5 20.8-35.1s-8-28.1-20.8-35.1l-336-184z"]},rx={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z"]},nx={prefix:"fas",iconName:"server",icon:[448,512,[],"f233","M64 32C28.7 32 0 60.7 0 96l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 32zm216 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 288zm216 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},ax={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]},lx={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},ox={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},cx={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]},ux={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]},hx={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M338.8-9.9c11.9 8.6 16.3 24.2 10.9 37.8L271.3 224 416 224c13.5 0 25.5 8.4 30.1 21.1s.7 26.9-9.6 35.5l-288 240c-11.3 9.4-27.4 9.9-39.3 1.3s-16.3-24.2-10.9-37.8L176.7 288 32 288c-13.5 0-25.5-8.4-30.1-21.1s-.7-26.9 9.6-35.5l288-240c11.3-9.4 27.4-9.9 39.3-1.3z"]},dx={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z"]},fx={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M65.9 228.5c13.3-93 93.4-164.5 190.1-164.5 53 0 101 21.5 135.8 56.2 .2 .2 .4 .4 .6 .6l7.6 7.2-47.9 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.4-11.3-10.7C390.5 28.6 326.5 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1zm443.5 64c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-53 0-101-21.5-135.8-56.2-.2-.2-.4-.4-.6-.6l-7.6-7.2 47.9 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 320c-8.5 0-16.7 3.4-22.7 9.5S-.1 343.7 0 352.3l1 127c.1 17.7 14.6 31.9 32.3 31.7S65.2 496.4 65 478.7l-.4-51.5 10.7 10.1c46.3 46.1 110.2 74.7 180.7 74.7 129 0 235.7-95.4 253.4-219.5z"]},mx={prefix:"fas",iconName:"layer-group",icon:[512,512,[],"f5fd","M232.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 149.8C5.4 145.8 0 137.3 0 128s5.4-17.9 13.9-21.8L232.5 5.2zM48.1 218.4l164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 277.8C5.4 273.8 0 265.3 0 256s5.4-17.9 13.9-21.8l34.1-15.8zM13.9 362.2l34.1-15.8 164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 405.8C5.4 401.8 0 393.3 0 384s5.4-17.9 13.9-21.8z"]};const px={plus:ox,"circle-question":tg,"magnifying-glass":JS,"arrows-rotate":fx,"paper-plane":ex,eye:ZS,"eye-slash":ux,copy:cx,"trash-can":rx,play:ix,square:dx,gear:sx,database:tx,globe:lx,server:nx,bolt:hx,"message-square":QS,layers:mx,list:ax};function _a({name:e,size:t=16,className:s=""}){const i=px[e]||tg;return a.jsx(eg,{icon:i,className:s,style:{fontSize:`${t}px`}})}function vx({onOpenWorkspace:e,activeTabKind:t}){const s=({iconName:i,label:r,onClick:l,active:m=!1})=>a.jsxs("button",{onClick:l,className:`w-full flex items-center gap-3 px-4 py-2 rounded-md text-sm hover:bg-gray-100 transition ${m?"bg-gray-100 font-medium":""}`,children:[a.jsx(_a,{name:i,size:18,className:"text-gray-700"}),a.jsx("span",{children:r})]});return a.jsxs("aside",{className:"w-64 border-r border-gray-200 bg-white p-4 space-y-4",children:[a.jsx("div",{className:"px-2 text-xs uppercase text-gray-500 tracking-wide",children:"General"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(s,{iconName:"list",label:"Connections",onClick:()=>e("connections")}),a.jsx(s,{iconName:"globe",label:"Examples",onClick:()=>e("examples")})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200"}),a.jsx("div",{className:"px-2 text-xs uppercase text-gray-500 tracking-wide",children:"Workspaces"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(s,{iconName:"globe",label:"REST",onClick:()=>e("rest"),active:t==="rest"}),a.jsx(s,{iconName:"server",label:"OPC UA",onClick:()=>e("opcua")}),a.jsx(s,{iconName:"bolt",label:"WebSocket",onClick:()=>e("ws")}),a.jsx(s,{iconName:"layers",label:"SSH",onClick:()=>e("ssh")}),a.jsx(s,{iconName:"server",label:"Kubernetes",onClick:()=>e("k8s")}),a.jsx(s,{iconName:"message-square",label:"gRPC",onClick:()=>e("grpc")}),a.jsx(s,{iconName:"layers",label:"CPD",onClick:()=>e("cpd")}),a.jsx(s,{iconName:"database",label:"SQL",onClick:()=>e("sql")})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200"}),a.jsx("div",{className:"px-2 text-xs uppercase text-gray-500 tracking-wide",children:"Tools"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(s,{iconName:"activity",label:"Network Tools",onClick:()=>e("helpers-network")}),a.jsx(s,{iconName:"braces",label:"JSON/YAML Tools",onClick:()=>e("helpers-format")})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200"}),a.jsx("div",{className:"px-2 text-xs uppercase text-gray-500 tracking-wide",children:"System"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(s,{iconName:"gear",label:"Settings",onClick:()=>{}}),a.jsx(s,{iconName:"list",label:"Templates",onClick:()=>e("templates")})]})]})}const gx={sm:"h-8 px-3 text-[12px] leading-4",md:"h-10 px-4 text-base leading-6",lg:"h-12 px-5 text-base leading-6"},_x="inline-flex items-center justify-center rounded-[4px] font-semibold select-none disabled:opacity-50 disabled:cursor-not-allowed transition-colors",yx={primary:"bg-swarco-blue-800 text-white hover:bg-swarco-blue-600 active:bg-swarco-blue-400 focus:outline-none focus:ring-2 focus:ring-swarco-blue-200",secondary:"border border-gray-300 text-swarco-blue-800 bg-white hover:bg-gray-50 active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-swarco-blue-200"};function _e({variant:e="primary",size:t="md",className:s="",children:i,leftIcon:r,rightIcon:l,leftEl:m=null,rightEl:n=null,...c}){return a.jsxs("button",{className:[_x,yx[e],gx[t],s].join(" "),...c,children:[m||(r?a.jsx(r,{size:16,className:"mr-2"}):null),i,n||(l?a.jsx(l,{size:16,className:"ml-2"}):null)]})}function bx({text:e,children:t}){return a.jsxs("span",{className:"relative group inline-flex items-center",children:[t,a.jsx("span",{className:"pointer-events-none absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block bg-swarco-grey-900 text-white text-[12px] leading-4 px-2 py-1 rounded",children:e})]})}const zu="unicon_token_v1",sg="unicon_roles_v1";function ig(e,t=[]){try{localStorage.setItem(zu,e)}catch{}try{localStorage.setItem(sg,JSON.stringify(t))}catch{}}function Lt(){try{return localStorage.getItem(zu)||null}catch{return null}}function Sx(){try{localStorage.removeItem(zu)}catch{}try{localStorage.removeItem(sg)}catch{}}const It="/unicon/api";async function Vt(e,t){const s=Lt(),i=await fetch(`${It}${e}`,{method:"POST",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}},body:JSON.stringify(t??{})}),r=await i.json().catch(()=>({}));if(!i.ok||(r==null?void 0:r.success)===!1){const l=(r==null?void 0:r.error)||i.statusText;throw new Error(l)}return r}async function pn(e){const t=Lt(),s=await fetch(`${It}${e}`,{headers:t?{Authorization:`Bearer ${t}`}:void 0}),i=await s.json().catch(()=>({}));if(!s.ok||(i==null?void 0:i.success)===!1){const r=(i==null?void 0:i.error)||s.statusText;throw new Error(r)}return i}function rg(){try{return localStorage.getItem("unicon_current_workspace_v1")||null}catch{return null}}async function Bn(){const e=rg();return pn(e?`/connections?workspaceId=${encodeURIComponent(e)}`:"/connections")}async function _s(e){const t=rg(),s=t?{...e,workspaceId:t}:e;return Vt("/connections",s)}async function ng(e){return fetch(`${It}/connections/${e}`,{method:"DELETE"}).then(t=>t.json())}async function kc(e,t){const s=Lt(),i=await fetch(`${It}/connections/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}},body:JSON.stringify(t||{})}),r=await i.json().catch(()=>({}));if(!i.ok||(r==null?void 0:r.success)===!1){const l=(r==null?void 0:r.error)||i.statusText;throw new Error(l)}return r}async function cr(e){return Vt("/connect",{connectionId:e})}async function ur(e){return Vt("/disconnect",{connectionId:e})}async function $e(e,t,s={}){return Vt("/operation",{connectionId:e,operation:t,params:s})}async function hr(){return pn("/workspaces")}async function Uu(e){return Vt("/workspaces",{name:e})}async function ag(e,t){const s=Lt(),i=await fetch(`${It}/workspaces/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}},body:JSON.stringify({name:t})}),r=await i.json().catch(()=>({}));if(!i.ok||(r==null?void 0:r.success)===!1)throw new Error((r==null?void 0:r.error)||i.statusText);return r}async function lg(e){const t=Lt(),s=await fetch(`${It}/workspaces/${e}`,{method:"DELETE",headers:t?{Authorization:`Bearer ${t}`}:void 0}),i=await s.json().catch(()=>({}));if(!s.ok||(i==null?void 0:i.success)===!1)throw new Error((i==null?void 0:i.error)||s.statusText);return i}async function ya(e){const t=Lt(),s=await fetch(`${It}/workspaces/${e}/members`,{headers:t?{Authorization:`Bearer ${t}`}:void 0}),i=await s.json().catch(()=>({}));if(!s.ok||(i==null?void 0:i.success)===!1){const r=new Error((i==null?void 0:i.error)||s.statusText);throw r.status=s.status,r}return i}async function og(e,t,s){const i=Lt(),r=await fetch(`${It}/workspaces/${e}/members`,{method:"POST",headers:{"Content-Type":"application/json",...i?{Authorization:`Bearer ${i}`}:{}},body:JSON.stringify({userId:t,role:s})}),l=await r.json().catch(()=>({}));if(!r.ok||(l==null?void 0:l.success)===!1)throw new Error((l==null?void 0:l.error)||r.statusText);return l}async function cg(e,t,s){const i=Lt(),r=await fetch(`${It}/workspaces/${e}/members/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json",...i?{Authorization:`Bearer ${i}`}:{}},body:JSON.stringify({role:s})}),l=await r.json().catch(()=>({}));if(!r.ok||(l==null?void 0:l.success)===!1)throw new Error((l==null?void 0:l.error)||r.statusText);return l}async function ug(e,t){const s=Lt(),i=await fetch(`${It}/workspaces/${e}/members/${encodeURIComponent(t)}`,{method:"DELETE",headers:s?{Authorization:`Bearer ${s}`}:void 0}),r=await i.json().catch(()=>({}));if(!i.ok||(r==null?void 0:r.success)===!1)throw new Error((r==null?void 0:r.error)||i.statusText);return r}async function hg(e,t){const s=Lt(),i=await fetch(`${It}/workspaces/${e}/owner-transfer`,{method:"POST",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}},body:JSON.stringify({toUserId:t})}),r=await i.json().catch(()=>({}));if(!i.ok||(r==null?void 0:r.success)===!1)throw new Error((r==null?void 0:r.error)||i.statusText);return r}const xx=Object.freeze(Object.defineProperty({__proto__:null,addWorkspaceMember:og,apiGet:pn,apiPost:Vt,connectConnection:cr,createConnection:_s,createWorkspace:Uu,deleteConnection:ng,deleteWorkspace:lg,disconnectConnection:ur,listConnections:Bn,listWorkspaceMembers:ya,listWorkspaces:hr,op:$e,removeWorkspaceMember:ug,transferWorkspaceOwner:hg,updateConnection:kc,updateWorkspace:ag,updateWorkspaceMember:cg},Symbol.toStringTag,{value:"Module"}));function Cl({open:e,title:t,onClose:s,children:i,footer:r}){return e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:s}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg max-w-[600px] w-[90%] p-6",children:[t?a.jsx("h3",{className:"text-[24px] leading-8 font-bold text-swarco-grey-900 mb-4",children:t}):null,a.jsx("div",{children:i}),r?a.jsx("div",{className:"mt-6 flex items-center justify-end gap-2",children:r}):null]})]}):null}function Cx({open:e,onClose:t}){const[s,i]=he.useState([]),[r,l]=he.useState(!1),[m,n]=he.useState(""),[c,p]=he.useState(null),[b,f]=he.useState(""),[g,y]=he.useState(()=>{try{return localStorage.getItem("unicon_current_workspace_v1")||""}catch{return""}}),[C,x]=he.useState([]),[h,u]=he.useState(!0),[o,d]=he.useState(""),[_,v]=he.useState("member"),w=async()=>{l(!0);try{const D=await hr();i(D.workspaces||[])}finally{l(!1)}};he.useEffect(()=>{e&&w()},[e]);const E=async D=>{if(!D){x([]);return}try{const P=await ya(D);x(P.members||[]),u(!0)}catch(P){P&&(P.status===501||String(P.message||"").includes("workspace_members_unsupported"))?(u(!1),x([])):x([])}},S=D=>{y(D||"");try{localStorage.setItem("unicon_current_workspace_v1",D||"")}catch{}E(D)};he.useEffect(()=>{e&&E(g)},[e]);const j=async()=>{const D=m.trim();if(!D)return;const P=await Uu(D);i(W=>[...W,P.workspace]),n("")},T=D=>{p(D.id),f(D.name)},z=async D=>{const P=b.trim();P&&(await ag(D.id,P),i(W=>W.map(H=>H.id===D.id?{...H,name:P}:H)),p(null),f(""))},k=async D=>{confirm(`Delete workspace "${D.name}"? Connections will be detached but not deleted.`)&&(await lg(D.id),i(P=>P.filter(W=>W.id!==D.id)),g===D.id&&S(""))};return a.jsx(Cl,{open:e,title:"Manage Workspaces",onClose:t,footer:a.jsx(a.Fragment,{children:a.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:t,children:"Close"})}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm text-gray-600",children:r?"Loading":"Create, rename, delete and select the active workspace."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{className:"flex-1 border rounded px-2 py-1",placeholder:"New workspace name",value:m,onChange:D=>n(D.target.value)}),a.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:j,children:"Add"})]}),a.jsxs("div",{className:"border rounded divide-y",children:[s.map(D=>a.jsxs("div",{className:"p-2 flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"active-ws",checked:g===D.id,onChange:()=>S(D.id)}),c===D.id?a.jsx("input",{className:"border rounded px-2 py-1 text-sm",value:b,onChange:P=>f(P.target.value)}):a.jsx("div",{className:"text-sm",children:D.name})]}),a.jsx("div",{className:"flex items-center gap-2",children:c===D.id?a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>z(D),children:"Save"}),a.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>{p(null),f("")},children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>T(D),children:"Rename"}),a.jsx("button",{className:"px-2 py-1 border rounded text-xs text-red-600 hover:bg-red-50",onClick:()=>k(D),children:"Delete"})]})})]},D.id)),s.length===0&&a.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No workspaces yet."})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"font-semibold mb-1",children:["Members ",g?"":"(select a workspace)"]}),!h&&a.jsx("div",{className:"text-xs text-gray-600 border rounded p-2 bg-gray-50",children:"Members are not available in this mode."}),h&&g&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"flex-1 border rounded px-2 py-1",placeholder:"User email or ID",value:o,onChange:D=>d(D.target.value)}),a.jsxs("select",{className:"border rounded px-2 py-1",value:_,onChange:D=>v(D.target.value),children:[a.jsx("option",{value:"viewer",children:"viewer"}),a.jsx("option",{value:"member",children:"member"}),a.jsx("option",{value:"admin",children:"admin"})]}),a.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:async()=>{if(o.trim())try{await og(g,o.trim(),_),d("");const D=await ya(g);x(D.members||[])}catch(D){alert("Add failed: "+(D.message||"error"))}},children:"Add"})]}),a.jsxs("div",{className:"border rounded divide-y",children:[C.map(D=>a.jsxs("div",{className:"p-2 flex items-center justify-between gap-2",children:[a.jsx("div",{className:"text-sm",children:D.userId}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border rounded px-2 py-1 text-xs",value:D.role,onChange:async P=>{try{await cg(g,D.userId,P.target.value),x(W=>W.map(H=>H.userId===D.userId?{...H,role:P.target.value}:H))}catch(W){alert("Update failed: "+(W.message||"error"))}},children:[a.jsx("option",{value:"viewer",children:"viewer"}),a.jsx("option",{value:"member",children:"member"}),a.jsx("option",{value:"admin",children:"admin"})]}),a.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:async()=>{if(confirm("Transfer ownership to this user?"))try{await hg(g,D.userId);const P=await ya(g);x(P.members||[]),alert("Ownership transferred.")}catch(P){alert("Transfer failed: "+(P.message||"error"))}},children:"Make owner"}),a.jsx("button",{className:"px-2 py-1 border rounded text-xs text-red-600 hover:bg-red-50",onClick:async()=>{if(confirm("Remove member?"))try{await ug(g,D.userId),x(P=>P.filter(W=>W.userId!==D.userId))}catch(P){alert("Remove failed: "+(P.message||"error"))}},children:"Remove"})]})]},D.userId)),C.length===0&&a.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No members yet."})]})]})]})]})})}function wx({status:e="disconnected"}){const t=e==="connected"?"bg-green-500":e==="connecting"?"bg-amber-500":e==="error"?"bg-red-500":"bg-gray-300";return a.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${t}`,"aria-hidden":"true"})}function yi({connection:e,name:t,type:s,status:i,id:r,className:l=""}){const m=e||{},n=t||m.name||"No connection selected",c=s||m.type,p=i||m.status||(n==="No connection selected"?"disconnected":void 0),b=r||m.id?String(r||m.id).slice(0,8):null,f=n==="No connection selected";return a.jsxs("div",{className:`inline-flex items-center gap-2 px-2.5 py-1.5 rounded-md border text-xs ${f?"text-gray-500 border-gray-200 bg-gray-50":"text-gray-700 border-gray-200 bg-white"} ${l}`,role:"status","aria-label":"Connection in use",children:[!f&&a.jsx(wx,{status:p}),a.jsx("span",{className:"font-medium",children:n}),c?a.jsx("span",{className:"uppercase text-[10px] tracking-wide text-gray-500",children:c}):null,b?a.jsxs("span",{className:"font-mono text-gray-400",children:["#",b]}):null,p?a.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded ${p==="connected"?"bg-green-50 text-green-700":p==="connecting"?"bg-amber-50 text-amber-700":p==="error"?"bg-red-50 text-red-700":"bg-gray-50 text-gray-600"}`,children:p}):null]})}function Ex({onNewConnection:e,activeTab:t}){var C,x;const[s,i]=he.useState(null);he.useEffect(()=>{Lt()&&pn("/me").then(u=>i(u.user)).catch(()=>{})},[]);const[r,l]=he.useState([]),[m,n]=he.useState(()=>{try{return localStorage.getItem("unicon_current_workspace_v1")||""}catch{return""}});he.useEffect(()=>{let h=!0;return hr().then(u=>{h&&l(u.workspaces||[])}).catch(()=>{}),()=>{h=!1}},[]);const[c,p]=he.useState(null);he.useEffect(()=>{const h=(t==null?void 0:t.params)||{};if(h.connection&&typeof h.connection=="object"){p(h.connection);return}if(h.connectionId){let u=!0;return pn("/connections").then(o=>{const _=(o.connections||[]).find(v=>v.id===h.connectionId)||null;u&&p(_)}).catch(()=>p(null)),()=>{u=!1}}p(null)},[t==null?void 0:t.id,(C=t==null?void 0:t.params)==null?void 0:C.connectionId]);const[b,f]=he.useState(!1);he.useEffect(()=>{function h(u){const o=document.getElementById("account-menu"),d=document.getElementById("account-menu-button");b&&o&&!o.contains(u.target)&&d&&!d.contains(u.target)&&f(!1)}return document.addEventListener("click",h),()=>document.removeEventListener("click",h)},[b]);const[g,y]=he.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"h-14 border-b border-gray-200 bg-white px-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/unicon/brand/swarco.svg",alt:"Swarco",className:"h-6"}),a.jsx("div",{className:"font-semibold text-swarco-grey-900",children:"Unicon"})]}),a.jsxs("div",{className:"flex items-center gap-3 relative",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:m,onChange:h=>{const u=h.target.value;n(u);try{localStorage.setItem("unicon_current_workspace_v1",u)}catch{}location.reload()},children:[a.jsx("option",{value:"",children:"All workspaces"}),r.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]}),a.jsx("button",{className:"px-2 py-1 border rounded text-xs",title:"Create workspace",onClick:async()=>{const h=prompt("New workspace name");if(h)try{const u=await Uu(h);l(o=>[...o,u.workspace]),localStorage.setItem("unicon_current_workspace_v1",u.workspace.id),location.reload()}catch(u){alert("Failed: "+u.message)}},children:"+"})]}),a.jsx("button",{className:"px-2 py-1 border rounded text-xs",title:"Manage workspaces",onClick:()=>y(!0),children:"Manage"}),a.jsx(yi,{connection:c||void 0}),a.jsx(_e,{variant:"secondary",size:"md",leftEl:a.jsx(_a,{name:"plus",size:16,className:"mr-2"}),onClick:e,children:"New Connection"}),a.jsx(bx,{text:"Help",children:a.jsx("button",{className:"p-2 text-swarco-grey-800 hover:text-swarco-grey-900","aria-label":"Help",children:a.jsx(_a,{name:"circle-question",size:18})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[s!=null&&s.avatar?a.jsx("img",{src:s.avatar,alt:"avatar",className:"h-8 w-8 rounded-full border"}):a.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-xs text-gray-600",children:s!=null&&s.email?(x=s.email[0])==null?void 0:x.toUpperCase():"?"}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{id:"account-menu-button",className:"p-2 text-swarco-grey-800 hover:text-swarco-grey-900","aria-haspopup":"menu","aria-expanded":b,"aria-controls":"account-menu",onClick:()=>f(h=>!h),children:a.jsx(_a,{name:"chevron-down",size:16})}),b&&a.jsxs("div",{id:"account-menu",role:"menu",className:"absolute right-0 mt-2 w-56 bg-white border rounded shadow",children:[a.jsx("div",{className:"px-3 py-2 text-sm text-gray-700 border-b",children:(s==null?void 0:s.email)||"Signed in"}),a.jsxs("div",{className:"px-3 py-2 text-xs text-gray-500",children:["Provider: ",(s==null?void 0:s.provider)||""]}),(s==null?void 0:s.provider)&&a.jsxs("button",{role:"menuitem",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:async()=>{try{const h=localStorage.getItem("unicon_token_v1");await fetch(`/unicon/api/auth/oauth/${s.provider}`,{method:"DELETE",headers:h?{Authorization:`Bearer ${h}`}:{}}),location.reload()}catch{}},children:["Disconnect ",s.provider]}),a.jsx("button",{role:"menuitem",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:async()=>{const h=prompt("Language code (en/de):","en");if(h)try{await fetch("/unicon/api/settings/language",{method:"POST",headers:{"Content-Type":"application/json",...localStorage.getItem("unicon_token_v1")?{Authorization:`Bearer ${localStorage.getItem("unicon_token_v1")}`}:{}},body:JSON.stringify({lang:h})})}catch{}},children:"Language"}),a.jsx("button",{role:"menuitem",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{Sx(),location.replace("/unicon/")},children:"Logout"})]})]})]})]})]}),a.jsx(Cx,{open:g,onClose:()=>{y(!1),hr().then(h=>l(h.workspaces||[])).catch(()=>{})}})]})}function jx({tabs:e,activeTabId:t,onActivate:s,onClose:i,onCloseAll:r}){return a.jsxs("div",{className:"h-10 border-b border-gray-200 bg-white px-2 flex items-end",children:[a.jsx("div",{className:"flex gap-1 overflow-x-auto flex-1",children:e.map(l=>a.jsxs("button",{onClick:()=>s(l.id),className:`group h-8 px-3 inline-flex items-center gap-2 rounded-t-md border border-b-0 ${l.id===t?"bg-white border-gray-200 text-swarco-blue-800 border-b-swarco-blue-800":"bg-gray-100 text-swarco-grey-600 border-gray-200 hover:bg-gray-200"}`,title:l.title,children:[a.jsx("span",{className:"text-sm whitespace-nowrap",children:l.title}),a.jsx("span",{className:"opacity-50 group-hover:opacity-100",onClick:m=>{m.stopPropagation(),i(l.id)},children:a.jsx(ba,{size:14})})]},l.id))}),e.length>0&&a.jsx("button",{className:"ml-2 h-8 w-8 flex items-center justify-center rounded border border-gray-200 text-swarco-grey-700 hover:bg-gray-100",title:"Close all tabs","aria-label":"Close all tabs",onClick:()=>r&&r(),children:a.jsx(xg,{size:16})})]})}function Ax({tabs:e,activeTabId:t,registry:s,openTab:i}){const r=$.useMemo(()=>e.find(n=>n.id===t)||null,[e,t]);if(!r)return a.jsx("main",{className:"flex-1 bg-white flex items-center justify-center text-gray-500",children:"No tabs open"});const l=s[r.kind];if(!l)return a.jsx("main",{className:"flex-1 bg-white flex items-center justify-center text-gray-500",children:"Unknown tab"});const m=l.component;return a.jsx("main",{className:"flex-1 bg-white p-4 overflow-auto",children:a.jsx(m,{...r.params||{},openTab:i})})}function dg({children:e,htmlFor:t}){return a.jsx("label",{htmlFor:t,className:"block text-[16px] leading-6 font-semibold text-swarco-grey-900 mb-1",children:e})}function fg({children:e,tone:t="default"}){const s=t==="error"?"text-swarco-red-500":"text-swarco-grey-600";return a.jsx("div",{className:`mt-1 text-[12px] leading-4 ${s}`,children:e})}function Tt({id:e,label:t,error:s,helper:i,className:r="",...l}){return a.jsxs("div",{className:r,children:[t?a.jsx(dg,{htmlFor:e,children:t}):null,a.jsx("input",{id:e,className:`h-10 w-full rounded-[4px] border px-3 text-[16px] leading-6 placeholder-swarco-grey-400 focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600
          ${s?"border-swarco-red-500":"border-swarco-grey-400"}`,...l}),i?a.jsx(fg,{tone:s?"error":"default",children:i}):null]})}function Nx({id:e,label:t,error:s,helper:i,className:r="",children:l,...m}){return a.jsxs("div",{className:r,children:[t?a.jsx(dg,{htmlFor:e,children:t}):null,a.jsx("select",{id:e,className:`h-10 w-full rounded-[4px] border px-3 text-[16px] leading-6 focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600
          ${s?"border-swarco-red-500":"border-swarco-grey-400"}`,...m,children:l}),i?a.jsx(fg,{tone:s?"error":"default",children:i}):null]})}const At={rest:[{name:"JSONPlaceholder",baseUrl:"https://jsonplaceholder.typicode.com",tryPath:"/posts/1",description:"Fake online REST API for testing and prototyping.",endpoints:[{method:"GET",path:"/posts",summary:"Get all posts"},{method:"GET",path:"/posts/1",summary:"Get post by ID"},{method:"GET",path:"/posts/1/comments",summary:"Get comments for post"},{method:"GET",path:"/users",summary:"Get all users"},{method:"GET",path:"/users/1",summary:"Get user by ID"},{method:"POST",path:"/posts",summary:"Create a new post",headers:{"Content-Type":"application/json"},body:{title:"New Post",body:"This is the post content.",userId:1}},{method:"PUT",path:"/posts/1",summary:"Update post",headers:{"Content-Type":"application/json"},body:{id:1,title:"Updated Title",body:"Updated content.",userId:1}},{method:"PATCH",path:"/posts/1",summary:"Partial update post",headers:{"Content-Type":"application/json"},body:{title:"Patched Title"}},{method:"DELETE",path:"/posts/1",summary:"Delete post"}]},{name:"HTTPBin",baseUrl:"https://httpbin.org",tryPath:"/get",description:"HTTP request & response service with many endpoints.",endpoints:[{method:"GET",path:"/get",summary:"Returns GET data"},{method:"GET",path:"/ip",summary:"Returns origin IP"},{method:"GET",path:"/headers",summary:"Returns request headers"},{method:"GET",path:"/user-agent",summary:"Returns user-agent"},{method:"GET",path:"/uuid",summary:"Returns UUID4"},{method:"GET",path:"/delay/1",summary:"Delays response by 1s"},{method:"GET",path:"/status/200",summary:"Returns status 200"},{method:"GET",path:"/status/404",summary:"Returns status 404"},{method:"POST",path:"/post",summary:"Returns POST data",headers:{"Content-Type":"application/json"},body:{message:"Hello HTTPBin!",count:42}},{method:"PUT",path:"/put",summary:"Returns PUT data",headers:{"Content-Type":"application/json"},body:{updated:!0,value:"test"}},{method:"DELETE",path:"/delete",summary:"Returns DELETE data"},{method:"POST",path:"/anything",summary:"Returns anything passed",headers:{"Content-Type":"application/json","X-Custom-Header":"test-value"},body:{test:"data",nested:{key:"value"}}}]},{name:"Cat Facts",baseUrl:"https://catfact.ninja",tryPath:"/fact",description:"Random cat facts.",endpoints:[{method:"GET",path:"/fact",summary:"Get a random cat fact"},{method:"GET",path:"/facts",summary:"Get multiple cat facts"},{method:"GET",path:"/facts?limit=5",summary:"Get 5 cat facts"},{method:"GET",path:"/breeds",summary:"Get cat breeds"}]},{name:"Dog CEO",baseUrl:"https://dog.ceo",tryPath:"/api/breeds/image/random",description:"Random dog images.",endpoints:[{method:"GET",path:"/api/breeds/image/random",summary:"Random dog image"},{method:"GET",path:"/api/breeds/image/random/3",summary:"3 random dog images"},{method:"GET",path:"/api/breeds/list/all",summary:"List all breeds"},{method:"GET",path:"/api/breed/husky/images",summary:"Husky images"},{method:"GET",path:"/api/breed/labrador/images/random",summary:"Random labrador image"}]},{name:"Bored API",baseUrl:"https://www.boredapi.com",tryPath:"/api/activity",description:"Random activities to beat boredom.",endpoints:[{method:"GET",path:"/api/activity",summary:"Random activity"},{method:"GET",path:"/api/activity?type=education",summary:"Educational activity"},{method:"GET",path:"/api/activity?type=recreational",summary:"Recreational activity"},{method:"GET",path:"/api/activity?participants=2",summary:"Activity for 2 people"},{method:"GET",path:"/api/activity?minprice=0&maxprice=0",summary:"Free activity"}]},{name:"Advice Slip",baseUrl:"https://api.adviceslip.com",tryPath:"/advice",description:"Random life advice.",endpoints:[{method:"GET",path:"/advice",summary:"Random advice"},{method:"GET",path:"/advice/1",summary:"Advice by ID"},{method:"GET",path:"/advice/search/life",summary:"Search advice about life"}]},{name:"IPify",baseUrl:"https://api.ipify.org",tryPath:"/?format=json",description:"Returns your public IP in JSON.",endpoints:[{method:"GET",path:"/?format=json",summary:"Get IP as JSON"},{method:"GET",path:"/?format=text",summary:"Get IP as text"}]},{name:"Agify",baseUrl:"https://api.agify.io",tryPath:"/?name=michael",description:"Predict age by name.",endpoints:[{method:"GET",path:"/?name=michael",summary:"Predict age for Michael"},{method:"GET",path:"/?name=anna",summary:"Predict age for Anna"},{method:"GET",path:"/?name=john&country_id=US",summary:"Predict age for John (US)"}]},{name:"ReqRes",baseUrl:"https://reqres.in",tryPath:"/api/users",description:"Hosted REST API for testing with realistic responses.",endpoints:[{method:"GET",path:"/api/users",summary:"List users (page 1)"},{method:"GET",path:"/api/users?page=2",summary:"List users (page 2)"},{method:"GET",path:"/api/users/2",summary:"Get single user"},{method:"GET",path:"/api/users/23",summary:"User not found (404)"},{method:"POST",path:"/api/users",summary:"Create user",headers:{"Content-Type":"application/json"},body:{name:"John Doe",job:"Developer"}},{method:"PUT",path:"/api/users/2",summary:"Update user",headers:{"Content-Type":"application/json"},body:{name:"Jane Doe",job:"Manager"}},{method:"DELETE",path:"/api/users/2",summary:"Delete user"},{method:"POST",path:"/api/register",summary:"Register user",headers:{"Content-Type":"application/json"},body:{email:"eve.holt@reqres.in",password:"pistol"}},{method:"POST",path:"/api/login",summary:"Login user",headers:{"Content-Type":"application/json"},body:{email:"eve.holt@reqres.in",password:"cityslicka"}}]}],ws:[{name:"Public Echo",url:"wss://echo.websocket.events",description:"Simple echo server for quick WebSocket tests."}],sql:[{name:"SQLite (in-memory)",config:{driver:"sqlite",filename:":memory:"},description:"Temporary DB; perfect for a quick SELECT 1 test."}],opcua:[{name:"Prosys Demo",endpointUrl:"opc.tcp://uademo.prosysopc.com:53530/OPCUA/Simulation",securityPolicy:"None",securityMode:"None",description:"Public demo OPC UA server (availability may vary)."},{name:"Sample Server",endpointUrl:"opc.tcp://opcua.demo-this.com:51210/UA/SampleServer",securityPolicy:"None",securityMode:"None",description:"Community demo server (availability may vary)."}]},kx=({connection:e,openTab:t})=>{var F,V;const[s,i]=$.useState("request"),[r,l]=$.useState({method:"GET",endpoint:"/",headers:{},body:"",params:{}}),[m,n]=$.useState(null),[c,p]=$.useState([]),[b,f]=$.useState(!1),[g,y]=$.useState([{key:"",value:""}]),[C,x]=$.useState(!1),[h,u]=$.useState(""),[o,d]=$.useState([]),[_,v]=$.useState("idle"),[w,E]=$.useState(""),[S,j]=$.useState([]),[T,z]=$.useState(null),[k,D]=$.useState(!0),P="/unicon/api",W=["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"];async function H(){if(h){if(!e||e.status!=="connected"){alert("Nicht mit Server verbunden");return}v("loading");try{const O=await fetch(`${P}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"loadOpenApi",params:{openApiUrl:h}})}),B=await O.json();if(!O.ok||(B==null?void 0:B.success)===!1)throw new Error((B==null?void 0:B.error)||"Load failed");await A(),v("loaded")}catch(O){console.error(O),v("error"),alert(O.message||"Load failed")}}}async function I(O){if(O){if(!e||e.status!=="connected"){alert("Nicht mit Server verbunden");return}v("loading");try{const B=new FormData;B.append("openApiFile",O);const q=await fetch(`${P}/upload-openapi`,{method:"POST",body:B}),Q=await q.json();if(!q.ok||(Q==null?void 0:Q.success)===!1)throw new Error((Q==null?void 0:Q.error)||"Upload failed");const ie=await fetch(`${P}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"loadOpenApi",params:{openApiFile:Q.filename||O.name}})}),ne=await ie.json();if(!ie.ok||(ne==null?void 0:ne.success)===!1)throw new Error((ne==null?void 0:ne.error)||"Load failed");await A(),v("loaded")}catch(B){console.error(B),v("error"),alert(B.message||"Upload failed")}}}async function A(O=null){var B;if(!(!e||e.status!=="connected"))try{const Q=await(await fetch(`${P}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"getEndpoints",params:{tag:O}})})).json();Q!=null&&Q.success&&Array.isArray((B=Q.data)==null?void 0:B.endpoints)&&d(Q.data.endpoints)}catch{}}function R(O,B=0){var Q;if(!O||B>6)return null;if(O.example!==void 0)return O.example;if(O.default!==void 0)return O.default;const q=O.type;if(q==="object"||O.properties&&!q){const ie={},ne=O.properties||{};for(const Ne of Object.keys(ne))ie[Ne]=R(ne[Ne],B+1);return ie}return q==="array"||O.items?[R(O.items||{},B+1)]:q==="string"?((Q=O.enum)==null?void 0:Q[0])||"string":q==="number"||q==="integer"?0:q==="boolean"?!0:null}const M=async()=>{if(!e||e.status!=="connected"){alert("Nicht mit Server verbunden");return}f(!0),n(null);try{const O={};g.forEach(ie=>{ie.key&&ie.value&&(O[ie.key]=ie.value)});const B={connectionId:e.id,operation:"request",params:{method:r.method,endpoint:r.endpoint,data:r.body?JSON.parse(r.body):null,headers:O}},Q=await(await fetch(`${P}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)})).json();if(Q.success){const ie={...Q.data,timestamp:new Date().toISOString(),request:{...r,headers:O}};n(ie),p(ne=>[ie,...ne.slice(0,49)]);for(const ne of S)try{if(ne.type==="download"){const Ne=new Blob([JSON.stringify(ie.data,null,2)],{type:"application/json"}),U=document.createElement("a");U.href=URL.createObjectURL(Ne),U.download=ne.filename||"response.json",document.body.appendChild(U),U.click(),U.remove()}else ne.type==="followup"&&await(await fetch(`${P}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"request",params:{method:ne.method||"GET",endpoint:ne.endpoint||"/",data:null,headers:{}}})})).json().catch(()=>({}))}catch{}}else throw new Error(Q.error||"Request failed")}catch(O){console.error("Request error:",O),n({status:0,statusText:"Error",data:{error:O.message},timestamp:new Date().toISOString(),request:{...r}})}finally{f(!1)}},L=()=>{y(O=>[...O,{key:"",value:""}])},K=(O,B,q)=>{y(Q=>Q.map((ie,ne)=>ne===O?{...ie,[B]:q}:ie))},G=O=>{y(B=>B.filter((q,Q)=>Q!==O))},X=O=>{l(O.request);const B=Object.entries(O.request.headers||{});y(B.length>0?B.map(([q,Q])=>({key:q,value:Q})):[{key:"",value:""}])},J=O=>{try{return JSON.stringify(O,null,2)}catch{return String(O)}},re=O=>{navigator.clipboard.writeText(O)},N=O=>O>=200&&O<300?"text-green-600 bg-green-100":O>=300&&O<400?"text-blue-600 bg-blue-100":O>=400&&O<500?"text-orange-600 bg-orange-100":O>=500?"text-red-600 bg-red-100":"text-gray-600 bg-gray-100";return a.jsxs("div",{className:"h-full flex flex-col",children:[e?a.jsx("div",{className:"mb-3",children:a.jsx(yi,{connection:e})}):null,a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"flex space-x-8",children:["request","response","history"].map(O=>a.jsxs("button",{onClick:()=>i(O),className:`py-2 px-1 border-b-2 font-medium text-sm ${s===O?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[O==="request"&&"Request",O==="response"&&"Response",O==="history"&&`History (${c.length})`]},O))})}),a.jsxs("div",{className:"mb-3 text-sm text-gray-700 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"Quick pick:"}),a.jsxs("select",{className:"border rounded px-2 py-1",onChange:async O=>{const B=Number(O.target.value);if(isNaN(B))return;const q=At.rest[B];z(q);const ie=(await _s({name:`${q.name} (REST)`,type:"rest",config:{baseUrl:q.baseUrl}})).connection;typeof t=="function"&&t("rest",{connectionId:ie.id,connection:ie,title:`REST  ${q.name}`})},children:[a.jsx("option",{children:"Pick"}),At.rest.map((O,B)=>a.jsx("option",{value:B,children:O.name},O.name))]}),((F=T==null?void 0:T.endpoints)==null?void 0:F.length)>0&&a.jsxs("button",{className:"text-xs text-blue-600 hover:underline",onClick:()=>D(!k),children:[k?"Hide":"Show"," endpoints (",T.endpoints.length,")"]})]}),((V=T==null?void 0:T.endpoints)==null?void 0:V.length)>0&&k&&a.jsxs("div",{className:"border rounded bg-white max-h-48 overflow-auto",children:[a.jsxs("div",{className:"px-2 py-1 bg-gray-100 text-xs font-medium border-b sticky top-0",children:[T.name,"  Click an endpoint to load it"]}),T.endpoints.map((O,B)=>a.jsxs("button",{className:"w-full text-left px-2 py-1.5 hover:bg-blue-50 text-sm flex items-center gap-2 border-b border-gray-100 last:border-b-0",title:O.summary||"",onClick:()=>{if(l(q=>({...q,method:O.method,endpoint:O.path,body:O.body?JSON.stringify(O.body,null,2):""})),O.headers&&Object.keys(O.headers).length>0){const q=Object.entries(O.headers).map(([Q,ie])=>({key:Q,value:ie}));y(q.length>0?q:[{key:"",value:""}])}else y([{key:"",value:""}]);i("request")},children:[a.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-mono font-medium ${O.method==="GET"?"bg-green-100 text-green-700":O.method==="POST"?"bg-blue-100 text-blue-700":O.method==="PUT"?"bg-yellow-100 text-yellow-700":O.method==="PATCH"?"bg-orange-100 text-orange-700":O.method==="DELETE"?"bg-red-100 text-red-700":"bg-gray-200 text-gray-700"}`,children:O.method}),a.jsx("span",{className:"font-mono text-[12px] text-gray-800",children:O.path}),O.summary&&a.jsxs("span",{className:"text-xs text-gray-500 truncate",children:[" ",O.summary]}),O.body&&a.jsx("span",{className:"text-[10px] text-blue-500 ml-auto",children:"+ body"})]},B))]})]}),s==="request"&&a.jsxs("div",{className:"flex-1 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 border rounded p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(eh,{size:14}),a.jsx("div",{className:"text-sm font-medium",children:"OpenAPI / Swagger"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("label",{className:"text-sm",children:"Upload:"}),a.jsx("input",{type:"file",accept:".json,.yaml,.yml",onChange:O=>{var B;return((B=O.target.files)==null?void 0:B[0])&&I(O.target.files[0])}}),a.jsx("span",{className:"text-xs text-gray-500",children:_==="loaded"?"Spec loaded":_==="loading"?"Loading":""})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(Cg,{size:14}),a.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm",placeholder:"https://host/openapi.json",value:h,onChange:O=>u(O.target.value)}),a.jsx(_e,{size:"sm",onClick:H,children:"Load"}),a.jsx(_e,{size:"sm",variant:"secondary",onClick:()=>A(),children:"Refresh endpoints"})]}),o.length>0&&a.jsx("div",{className:"mt-2 max-h-40 overflow-auto border rounded",children:o.map((O,B)=>a.jsxs("button",{className:"w-full text-left px-2 py-1 hover:bg-gray-100 text-sm flex items-center gap-2",title:O.summary||"",onClick:()=>{l(q=>({...q,method:O.method,endpoint:O.path})),i("request")},children:[a.jsx("span",{className:"px-1 py-0.5 rounded text-[11px] font-mono bg-gray-200",children:O.method}),a.jsx("span",{className:"font-mono text-[12px]",children:O.path}),O.summary&&a.jsxs("span",{className:"text-xs text-gray-500",children:[" ",O.summary]})]},B))}),a.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[a.jsx(eh,{size:14}),a.jsx("div",{className:"text-sm font-medium",children:"JSON Schema  Body"}),a.jsx("input",{type:"file",accept:".json",onChange:async O=>{var q;const B=(q=O.target.files)==null?void 0:q[0];if(B)try{const Q=await B.text(),ie=JSON.parse(Q),ne=R(ie);E(JSON.stringify(ne,null,2))}catch{alert("Invalid JSON schema")}}}),w&&a.jsx(_e,{size:"sm",onClick:()=>l(O=>({...O,method:["POST","PUT","PATCH"].includes(O.method)?O.method:"POST",body:w})),children:"Insert to body"})]}),w&&a.jsx("pre",{className:"mt-2 bg-gray-900 text-green-400 p-2 rounded text-xs max-h-40 overflow-auto",children:w})]}),a.jsxs("div",{className:"flex space-x-3 mt-4",children:[a.jsx(Nx,{value:r.method,onChange:O=>l(B=>({...B,method:O.target.value})),className:"w-32","aria-label":"HTTP Method",children:W.map(O=>a.jsx("option",{value:O,children:O},O))}),a.jsx(Tt,{value:r.endpoint,onChange:O=>l(B=>({...B,endpoint:O.target.value})),placeholder:"/api/endpoint","aria-label":"Endpoint",className:"flex-1"}),a.jsx(_e,{onClick:M,disabled:b||(e==null?void 0:e.status)!=="connected",leftEl:b?a.jsx("span",{className:"mr-2",children:a.jsx("span",{className:"sr-only",children:"Loading"})}):a.jsx(ea,{size:16,className:"mr-2"}),children:"Send"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Headers"}),a.jsx(_e,{variant:"secondary",size:"sm",onClick:L,leftEl:a.jsx(lf,{size:14,className:"mr-1"}),children:"Add Header"})]}),a.jsx("div",{className:"space-y-2",children:g.map((O,B)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Tt,{value:O.key,onChange:q=>K(B,"key",q.target.value),placeholder:"Header Name",className:"flex-1"}),a.jsx(Tt,{value:O.value,onChange:q=>K(B,"value",q.target.value),placeholder:"Header Value",className:"flex-1"}),a.jsx("button",{onClick:()=>G(B),className:"p-2 text-gray-400 hover:text-red-500",children:a.jsx(Sa,{size:14})})]},B))})]}),["POST","PUT","PATCH"].includes(r.method)&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Request Body"}),a.jsx("textarea",{value:r.body,onChange:O=>l(B=>({...B,body:O.target.value})),placeholder:'{"key": "value"}',rows:8,className:"w-full px-3 py-2 border border-swarco-grey-400 rounded-md font-mono text-sm focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600"}),a.jsx("div",{className:"text-xs text-gray-500",children:"JSON format expected. Will be parsed automatically."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Post actions"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{size:"sm",variant:"secondary",onClick:()=>j(O=>[...O,{type:"download",filename:"response.json"}]),leftEl:a.jsx(wg,{size:14,className:"mr-1"}),children:"Save as file"}),a.jsx(_e,{size:"sm",variant:"secondary",onClick:()=>j(O=>[...O,{type:"followup",method:"GET",endpoint:"/"}]),leftEl:a.jsx(Eg,{size:14,className:"mr-1"}),children:"Add follow-up"})]})]}),S.length>0&&a.jsx("div",{className:"space-y-1",children:S.map((O,B)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs font-mono",children:O.type}),O.type==="download"&&a.jsx("input",{className:"border rounded px-2 py-1 text-xs",placeholder:"filename",value:O.filename||"",onChange:q=>j(Q=>Q.map((ie,ne)=>ne===B?{...ie,filename:q.target.value}:ie))}),O.type==="followup"&&a.jsxs(a.Fragment,{children:[a.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:O.method,onChange:q=>j(Q=>Q.map((ie,ne)=>ne===B?{...ie,method:q.target.value}:ie)),children:W.map(q=>a.jsx("option",{value:q,children:q},q))}),a.jsx("input",{className:"border rounded px-2 py-1 text-xs flex-1",placeholder:"/path",value:O.endpoint,onChange:q=>j(Q=>Q.map((ie,ne)=>ne===B?{...ie,endpoint:q.target.value}:ie))})]}),a.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>j(q=>q.filter((Q,ie)=>ie!==B)),children:a.jsx(Sa,{size:14})})]},B))})]})]}),s==="response"&&a.jsx("div",{className:"flex-1",children:m?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Response Info"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>x(!C),className:"inline-flex items-center px-2 py-1 text-xs text-gray-600 hover:text-gray-800",children:[C?a.jsx(jg,{size:12,className:"mr-1"}):a.jsx(Ag,{size:12,className:"mr-1"}),C?"Formatted":"Raw"]}),a.jsxs("button",{onClick:()=>re(J(m.data)),className:"inline-flex items-center px-2 py-1 text-xs text-gray-600 hover:text-gray-800",children:[a.jsx(of,{size:12,className:"mr-1"}),"Copy"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Status:"}),a.jsxs("span",{className:`ml-2 px-2 py-1 rounded text-xs font-mono ${N(m.status)}`,children:[m.status," ",m.statusText]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Time:"}),a.jsx("span",{className:"ml-2 font-mono",children:new Date(m.timestamp).toLocaleTimeString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Size:"}),a.jsxs("span",{className:"ml-2 font-mono",children:[JSON.stringify(m.data).length," bytes"]})]})]})]}),m.headers&&Object.keys(m.headers).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Response Headers"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:a.jsx("div",{className:"space-y-1 text-sm font-mono",children:Object.entries(m.headers).map(([O,B])=>a.jsxs("div",{className:"flex",children:[a.jsxs("span",{className:"text-gray-600 w-32 flex-shrink-0",children:[O,":"]}),a.jsx("span",{className:"text-gray-800",children:B})]},O))})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Response Body"}),a.jsx("div",{className:"bg-gray-900 text-green-400 rounded-lg p-4 font-mono text-sm overflow-auto max-h-96",children:C?a.jsx("pre",{children:JSON.stringify(m.data)}):a.jsx("pre",{children:J(m.data)})})]})]}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(go,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Keine Response verfgbar"}),a.jsx("p",{className:"text-sm",children:"Senden Sie zuerst einen Request"})]})})}),s==="history"&&a.jsx("div",{className:"flex-1",children:c.length>0?a.jsx("div",{className:"space-y-3",children:c.map((O,B)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>X(O),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"px-2 py-1 text-xs font-mono bg-gray-100 rounded",children:O.request.method}),a.jsx("span",{className:"font-mono text-sm text-gray-700",children:O.request.endpoint}),a.jsx("span",{className:`px-2 py-1 text-xs font-mono rounded ${N(O.status)}`,children:O.status})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[a.jsx(th,{size:12}),a.jsx("span",{children:new Date(O.timestamp).toLocaleString()})]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[Object.keys(O.request.headers||{}).length>0&&a.jsxs("span",{className:"mr-3",children:[Object.keys(O.request.headers).length," headers"]}),O.request.body&&a.jsxs("span",{children:["Body: ",O.request.body.slice(0,50),"..."]})]})]},B))}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(th,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Keine Request History"}),a.jsx("p",{className:"text-sm",children:"Ihre Requests werden hier angezeigt"})]})})})]})};function Tx(){const[e,t]=he.useState({connected:!1,paused:!1}),[s,i]=he.useState(!0),[r,l]=he.useState(null),[m,n]=he.useState(Date.now()),[c,p]=he.useState(()=>{try{return localStorage.getItem("unicon_ws_paused")==="1"}catch{return!1}});if(he.useEffect(()=>{const C=h=>t(h.detail||{connected:!1});window.addEventListener("unicon-ws-status",C);const x=setInterval(()=>n(Date.now()),500);return()=>{window.removeEventListener("unicon-ws-status",C),clearInterval(x)}},[]),he.useEffect(()=>{const C=async()=>{try{const h=await fetch("/unicon/api/health");i(h.ok),l(new Date)}catch{i(!1),l(new Date)}};C();const x=setInterval(C,1e4);return()=>{clearInterval(x)}},[]),e.connected&&s&&!c)return null;const b=e.nextRetryTs&&!c?Math.max(0,Math.ceil((e.nextRetryTs-m)/1e3)):null,f=()=>{c||window.dispatchEvent(new CustomEvent("unicon-ws-reconnect"))},g=()=>{const C=!c;p(C);try{localStorage.setItem("unicon_ws_paused",C?"1":"0")}catch{}window.dispatchEvent(new CustomEvent("unicon-ws-toggle-pause",{detail:{paused:C}}))},y=async()=>{const C={apiOk:s,wsConnected:e.connected,wsPaused:c,wsError:!!e.error,wsUrl:e.url||null,nextRetryTs:e.nextRetryTs||null,page:typeof location<"u"?location.href:null,ua:typeof navigator<"u"?navigator.userAgent:null,lastHealthCheck:r?r.toISOString():null,ts:new Date().toISOString()};try{await navigator.clipboard.writeText(JSON.stringify(C,null,2))}catch{}};return a.jsxs("div",{className:"bg-amber-50 border-b border-amber-200 text-amber-900 text-sm px-4 py-2 flex items-center gap-3",children:[a.jsx("span",{className:"inline-flex w-2.5 h-2.5 rounded-full bg-amber-500"}),a.jsxs("span",{className:"flex-1",children:["Backend: ",s?"API OK":"API unreachable","  WS ",c?"paused":e.connected?"connected":"disconnected",!c&&b!==null?`  auto-retry in ${b}s`:"",r?`  checked ${r.toLocaleTimeString()}`:""]}),a.jsx("button",{className:"px-2 py-1 border rounded bg-white hover:bg-gray-50",onClick:g,children:c?"Resume WS":"Pause WS"}),a.jsx("button",{className:"px-2 py-1 border rounded bg-white hover:bg-gray-50",onClick:f,disabled:c,title:c?"Resume first to reconnect":"Reconnect WebSocket",children:"Retry"}),a.jsx("button",{className:"px-2 py-1 border rounded bg-white hover:bg-gray-50",onClick:y,children:"Copy diagnostics"})]})}function Dx({connection:e}){const[t,s]=$.useState([]),[i,r]=$.useState(null),[l,m]=$.useState(""),[n,c]=$.useState(!1),p=async()=>{if(!(!e||e.status!=="connected")){c(!0);try{const f=await(await fetch("/unicon/api/operation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"browse",params:{nodeId:"RootFolder"}})})).json();f.success&&s(f.nodes||[])}finally{c(!1)}}};return $.useEffect(()=>{(e==null?void 0:e.status)==="connected"&&p()},[e==null?void 0:e.status]),a.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"OPC UA Browser"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(yi,{connection:e}),a.jsx(_e,{variant:"secondary",onClick:p,disabled:n,leftEl:a.jsx(Ls,{size:16,className:n?"mr-2 animate-spin":"mr-2"}),children:"Refresh"})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"border rounded p-4",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Nodes"}),t.length?a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:t.map(b=>a.jsxs("div",{onClick:()=>{r(b),m(b.value||"")},className:`p-2 rounded cursor-pointer hover:bg-gray-50 ${(i==null?void 0:i.nodeId)===b.nodeId?"bg-blue-50 border border-blue-200":""}`,children:[a.jsx("div",{className:"font-medium text-sm",children:b.displayName}),a.jsx("div",{className:"text-xs text-gray-500",children:b.nodeId})]},b.nodeId))}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(Ii,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No nodes available"})]})]}),a.jsxs("div",{className:"border rounded p-4",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Node Operations"}),i?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Node ID"}),a.jsx(Tt,{value:i.nodeId,readOnly:!0,className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Value"}),a.jsx(Tt,{value:l,onChange:b=>m(b.target.value),className:"w-full"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:"secondary",className:"flex-1",children:"Read"}),a.jsx(_e,{className:"flex-1",children:"Write"})]})]}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(Ng,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Select a node to perform operations"})]})]})]})]})}function Rx({connection:e,openTab:t}){const[s,i]=$.useState(""),[r,l]=$.useState([]),[m,n]=$.useState(!0),[c,p]=$.useState((e==null?void 0:e.status)||"disconnected");$.useEffect(()=>{const f=g=>{var C;const y=g.detail||{};try{(y==null?void 0:y.type)==="ws"&&((C=y==null?void 0:y.data)==null?void 0:C.connectionId)===(e==null?void 0:e.id)&&(y.data.event==="message"?l(x=>[...x,{type:"received",content:y.data.data,timestamp:new Date}]):y.data.event==="connected"?p("connected"):y.data.event==="closed"&&(p("disconnected"),m&&(e!=null&&e.id)&&fetch("/unicon/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id})}).catch(()=>{})))}catch{}};return window.addEventListener("unicon-ws",f),()=>window.removeEventListener("unicon-ws",f)},[e==null?void 0:e.id,m]);const b=async()=>{if(!(!s.trim()||!e||c!=="connected"))try{await fetch("/unicon/api/operation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"send",params:{message:s}})}),l(f=>[...f,{type:"sent",content:s,timestamp:new Date}]),i("")}catch(f){console.error("Send error:",f)}};return a.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium",children:"WebSocket Client"}),a.jsx(yi,{connection:e,status:c})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"mr-2",children:"Quick pick:"}),a.jsxs("select",{className:"border rounded px-2 py-1",onChange:async f=>{const g=Number(f.target.value);if(isNaN(g))return;const y=At.ws[g],x=(await _s({name:`${y.name} (WS)`,type:"websocket",config:{url:y.url}})).connection;typeof t=="function"&&t("ws",{connectionId:x.id,connection:x,title:`WebSocket  ${y.name}`})},children:[a.jsx("option",{children:"Pick"}),At.ws.map((f,g)=>a.jsx("option",{value:g,children:f.name},f.name))]})]}),a.jsxs("span",{children:["Status: ",c]}),a.jsxs("label",{className:"flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:m,onChange:f=>n(f.target.checked)}),"Auto-reconnect"]}),a.jsx(_e,{variant:"secondary",disabled:c==="connected",onClick:()=>fetch("/unicon/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id})}),children:"Connect"}),a.jsx(_e,{variant:"secondary",disabled:c!=="connected",onClick:()=>fetch("/unicon/api/disconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id})}),children:"Disconnect"})]}),a.jsxs("div",{className:"flex-1 border border-gray-200 rounded-lg p-4",children:[a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto mb-4",children:r.map((f,g)=>a.jsxs("div",{className:`p-2 rounded ${f.type==="sent"?"bg-blue-50 border-l-4 border-blue-500":"bg-green-50 border-l-4 border-green-500"}`,children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:f.timestamp.toLocaleTimeString()}),a.jsx("div",{className:"font-mono text-sm",children:f.content})]},g))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Tt,{value:s,onChange:f=>i(f.target.value),placeholder:"Enter message...",className:"flex-1",onKeyDown:f=>f.key==="Enter"&&b()}),a.jsx(_e,{onClick:b,children:"Send"})]})]})]})}function Ox({connectionId:e,openTab:t}){const[s,i]=$.useState("localhost:50051"),[r]=$.useState(e||null),[l,m]=$.useState(""),[n,c]=$.useState(""),[p,b]=$.useState(""),[f,g]=$.useState(""),[y,C]=$.useState("{}"),[x,h]=$.useState(null);async function u(){try{const v=r||await o(),E=await(await fetch("/unicon/api/operation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:v,operation:"unary",params:{method:f,request:JSON.parse(y||"{}")}})})).json();h(E)}catch(v){h({error:v.message})}}async function o(){if(r)return r;const w=(await fetch("/unicon/api/connections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`grpc:${s}`,type:"grpc",config:{address:s,proto:l,package:n,service:p}})}).then(E=>E.json())).connection.id;return await fetch("/unicon/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:w})}),w}function d(v){i(v.address),m(v.proto),c(v.pkg),b(v.svc),g(v.method),C(v.payload)}const _=[{label:"Hello (local test.proto)",address:"localhost:9090",proto:"server/proto/test.proto",pkg:"test",svc:"Echo",method:"Say",payload:'{"name":"World"}'}];return a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx("h3",{className:"text-lg font-medium",children:"gRPC Workspace"}),a.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Quick pick:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:v=>{const w=Number(v.target.value);isNaN(w)||(d(_[w]),v.target.value="")},children:[a.jsx("option",{children:"Pick"}),_.map((v,w)=>a.jsx("option",{value:w,children:v.label},v.label))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{children:a.jsx(Tt,{label:"Address",value:s,onChange:v=>i(v.target.value),placeholder:"localhost:50051"})}),a.jsx("div",{children:a.jsx(Tt,{label:"Package",value:n,onChange:v=>c(v.target.value),placeholder:"my.package"})}),a.jsx("div",{children:a.jsx(Tt,{label:"Service",value:p,onChange:v=>b(v.target.value),placeholder:"MyService"})}),a.jsx("div",{children:a.jsx(Tt,{label:"Method",value:f,onChange:v=>g(v.target.value),placeholder:"SayHello"})})]}),a.jsx("div",{children:a.jsx(Tt,{label:"Proto (path under server/proto or absolute)",value:l,onChange:v=>m(v.target.value),placeholder:"helloworld.proto"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-swarco-grey-900 mb-1",children:"Payload (JSON)"}),a.jsx("textarea",{className:"w-full border border-swarco-grey-400 rounded px-3 py-2 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600",rows:6,value:y,onChange:v=>C(v.target.value)})]}),a.jsx(_e,{onClick:u,children:"Call Unary"}),x&&a.jsx("div",{className:"text-sm bg-gray-50 border rounded p-3 mt-2",children:a.jsx("pre",{children:JSON.stringify(x,null,2)})})]})}const Lx=({connection:e,openTab:t})=>{var re,N,F,V,O;const[s,i]=$.useState("topics"),[r,l]=$.useState([]),[m,n]=$.useState(""),[c,p]=$.useState([]),[b,f]=$.useState('{"value": 23.5, "unit": "C", "timestamp": "'+new Date().toISOString()+'"}'),[g,y]=$.useState(`sw.sensor.#
sw.assets.#`),[C,x]=$.useState([]),[h,u]=$.useState("sw.*"),[o,d]=$.useState(!1),[_,v]=$.useState("test"),[w,E]=$.useState("publish"),[S,j]=$.useState({storeAll:!1,flatSubscribe:!0,sendInitialData:!0,aggrMode:0}),T="/unicon/api",z=[{value:"publish",label:"Publish (FullFull)",description:"Standard publish"},{value:"publishUpdate",label:"Publish Update",description:"Merge partial data"},{value:"deltaPublish",label:"Delta Publish",description:"Changes only"},{value:"publishDeltaToDelta",label:"DeltaDelta",description:"Performance optimized"},{value:"publishDeltaToFull",label:"DeltaFull",description:"Merge delta to full"},{value:"publishFullToDelta",label:"FullDelta",description:"Extract changes"},{value:"sendTopic",label:"Send Topic",description:"No storage/management"}],k=async()=>{var B;if(!(!e||e.status!=="connected")){d(!0);try{const Q=await(await fetch(`${T}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"ping",params:{message:_}})})).json();Q.success?R("ping",`Ping response: ${((B=Q.data)==null?void 0:B.msg)||"OK"}`,null,Q.data):R("error",`Ping failed: ${Q.error}`,null,null)}catch(q){console.error("Ping error:",q),R("error",`Ping error: ${q.message}`,null,null)}finally{d(!1)}}},D=async()=>{var B;if(!(!e||e.status!=="connected")){d(!0);try{const Q=await(await fetch(`${T}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"browseTopics",params:{topicPattern:h,limit:100,beginTopicName:"",reverse:!1}})})).json();Q.success?(l(Q.topicNames||[]),R("browse",`Found ${((B=Q.topicNames)==null?void 0:B.length)||0} topics`,null,Q.topicNames)):R("error",`Browse failed: ${Q.error}`,null,null)}catch(q){console.error("Browse error:",q),R("error",`Browse error: ${q.message}`,null,null)}finally{d(!1)}}},P=async()=>{if(!e||e.status!=="connected"||!g.trim())return;const B=Date.now();d(!0);try{const q=g.split(`
`).map(ne=>ne.trim()).filter(ne=>ne),ie=await(await fetch(`${T}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"subscribe",params:{id:B,topicPatterns:q,config:S}})})).json();ie.success?(p(ne=>[...ne,{id:B,patterns:q,config:S,timestamp:new Date,messageCount:0}]),R("subscribe",`Subscribed to ${q.length} patterns`,null,{id:B,patterns:q})):R("error",`Subscribe failed: ${ie.error}`,null,null)}catch(q){console.error("Subscribe error:",q),R("error",`Subscribe error: ${q.message}`,null,null)}finally{d(!1)}},W=async()=>{if(!e||e.status!=="connected"||!g.trim())return;const B=Date.now();d(!0);try{const q=g.split(`
`).map(ne=>ne.trim()).filter(ne=>ne),ie=await(await fetch(`${T}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"simpleSubscribe",params:{id:B,topicPatterns:q}})})).json();ie.success?(p(ne=>[...ne,{id:B,patterns:q,config:{simple:!0},timestamp:new Date,messageCount:0}]),R("subscribe",`Simple subscribed to ${q.length} patterns`,null,{id:B,patterns:q})):R("error",`Simple subscribe failed: ${ie.error}`,null,null)}catch(q){console.error("Simple subscribe error:",q),R("error",`Simple subscribe error: ${q.message}`,null,null)}finally{d(!1)}},H=async B=>{if(!(!e||e.status!=="connected"))try{const Q=await(await fetch(`${T}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"unsubscribe",params:{id:B}})})).json();Q.success?(p(ie=>ie.filter(ne=>ne.id!==B)),R("unsubscribe",`Unsubscribed from ID: ${B}`,null,{id:B})):R("error",`Unsubscribe failed: ${Q.error}`,null,null)}catch(q){console.error("Unsubscribe error:",q),R("error",`Unsubscribe error: ${q.message}`,null,null)}},I=async()=>{if(!(!e||e.status!=="connected"||!m.trim())){d(!0);try{let B;try{B=JSON.parse(b)}catch{B=b}const Q=await(await fetch(`${T}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:w,params:{topic:m,data:B}})})).json();Q.success?R("publish",`Published (${w}) to: ${m}`,m,B):R("error",`Publish failed: ${Q.error}`,m,null)}catch(B){console.error("Publish error:",B),R("error",`Publish error: ${B.message}`,m,null)}finally{d(!1)}}},A=async()=>{if(!(!e||e.status!=="connected")){d(!0);try{const B=g.split(`
`).map(ie=>ie.trim()).filter(ie=>ie),Q=await(await fetch(`${T}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"getLatestData",params:{topicPatterns:B}})})).json();Q.success?R("latestData",`Retrieved latest data for ${B.length} patterns`,null,Q.data):R("error",`Get latest data failed: ${Q.error}`,null,null)}catch(B){console.error("Get latest data error:",B),R("error",`Get latest data error: ${B.message}`,null,null)}finally{d(!1)}}},R=(B,q,Q=null,ie=null)=>{const ne={id:Date.now()+Math.random(),type:B,message:q,topic:Q,data:ie,timestamp:new Date};x(Ne=>[ne,...Ne.slice(0,99)])},M=B=>{navigator.clipboard.writeText(B).then(()=>{R("info","Copied to clipboard",null,null)})},L=()=>{x([])},K=B=>{if(typeof B=="string")try{return JSON.stringify(JSON.parse(B),null,2)}catch{return B}return JSON.stringify(B,null,2)},G=B=>{switch(B){case"ping":return a.jsx(ta,{className:"text-yellow-500",size:14});case"subscribe":return a.jsx(br,{className:"text-green-500",size:14});case"unsubscribe":return a.jsx(sh,{className:"text-orange-500",size:14});case"publish":return a.jsx(ea,{className:"text-blue-500",size:14});case"received":return a.jsx(_o,{className:"text-purple-500",size:14});case"browse":return a.jsx(jl,{className:"text-teal-500",size:14});case"latestData":return a.jsx(Ii,{className:"text-indigo-500",size:14});case"error":return a.jsx(Dg,{className:"text-red-500",size:14});case"info":return a.jsx(Tg,{className:"text-gray-500",size:14});default:return a.jsx(_o,{className:"text-gray-500",size:14})}},X=B=>{switch(B){case"ping":return"border-l-yellow-500 bg-yellow-50";case"subscribe":return"border-l-green-500 bg-green-50";case"unsubscribe":return"border-l-orange-500 bg-orange-50";case"publish":return"border-l-blue-500 bg-blue-50";case"received":return"border-l-purple-500 bg-purple-50";case"browse":return"border-l-teal-500 bg-teal-50";case"latestData":return"border-l-indigo-500 bg-indigo-50";case"error":return"border-l-red-500 bg-red-50";case"info":return"border-l-gray-300 bg-gray-50";default:return"border-l-gray-300 bg-gray-50"}},J=he.useCallback(B=>{var q,Q,ie;if(((Q=(q=B.data)==null?void 0:q.payload)==null?void 0:Q.type)==="topicChange"){const ne=B.data.payload;p(Ne=>Ne.map(U=>U.id===ne.subscriptionId?{...U,messageCount:U.messageCount+1}:U)),(ie=ne.topics)==null||ie.forEach(Ne=>{R("received","Topic data received",Ne.topic,Ne.data)})}},[R]);return $.useEffect(()=>{const B=q=>J(q.detail||{});return window.addEventListener("unicon-ws",B),()=>window.removeEventListener("unicon-ws",B)},[J]),a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"flex space-x-8",children:["topics","messages","subscriptions","settings"].map(B=>a.jsxs("button",{onClick:()=>i(B),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${s===B?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[B==="topics"&&"Topics & Operations",B==="messages"&&`Messages (${C.length})`,B==="subscriptions"&&`Subscriptions (${c.length})`,B==="settings"&&"Settings"]},B))})}),a.jsxs("div",{className:"mb-3 text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Quick pick:"}),a.jsxs("select",{className:"border rounded px-2 py-1",onChange:async B=>{const q=B.target.value;if(!q)return;const[Q,ie]=q.split("|"),ne=Q==="grpc"?{name:"CPD gRPC (local)",type:"cpd",config:{protocol:"grpc",address:ie}}:{name:"CPD WS (local)",type:"cpd",config:{protocol:"websocket",url:ie}},U=(await _s(ne)).connection;typeof t=="function"&&t("cpd",{connectionId:U.id,connection:U,title:`CPD  ${ne.name}`}),B.target.value=""},children:[a.jsx("option",{value:"",children:"Pick"}),a.jsx("option",{value:"grpc|localhost:8082",children:"Local gRPC adapter (localhost:8082)"}),a.jsx("option",{value:"ws|ws://localhost:8003",children:"Local WebSocket adapter (ws://localhost:8003)"})]})]}),s==="topics"&&a.jsxs("div",{className:"flex-1 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[a.jsx(ta,{size:16,className:"mr-2 text-yellow-500"}),"Connection Test"]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("input",{type:"text",value:_,onChange:B=>v(B.target.value),placeholder:"Ping message",className:"flex-1 px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"}),a.jsxs(_e,{onClick:k,disabled:o,leftIcon:ta,children:[o?a.jsx(Ls,{size:16,className:"animate-spin"}):null,"Ping"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"font-medium flex items-center",children:[a.jsx(jl,{size:16,className:"mr-2 text-teal-500"}),"Browse Topics"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",value:h,onChange:B=>u(B.target.value),placeholder:"sw.* or sw.sensors.# or specific.topic.name",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"}),a.jsxs(_e,{variant:"secondary",className:"w-full",onClick:D,disabled:o,leftIcon:jl,children:[o?a.jsx(Ls,{size:16,className:"mr-2 animate-spin"}):null,"Browse Topics"]})]}),r.length>0&&a.jsxs("div",{className:"border border-gray-200 rounded-lg max-h-64 overflow-y-auto",children:[a.jsxs("div",{className:"p-2 bg-gray-50 border-b text-xs font-medium text-gray-600",children:["Found ",r.length," topics"]}),r.map((B,q)=>a.jsx("div",{onClick:()=>n(B),className:`p-2 cursor-pointer hover:bg-gray-50 border-b border-gray-100 last:border-b-0 ${m===B?"bg-teal-50 border-teal-200":""}`,children:a.jsx("span",{className:"font-mono text-sm",children:B})},q))]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"font-medium flex items-center",children:[a.jsx(ea,{size:16,className:"mr-2 text-blue-500"}),"Publish Data"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",value:m,onChange:B=>n(B.target.value),placeholder:"sw.sensor.temperature.room1",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"}),a.jsx("select",{value:w,onChange:B=>E(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500",children:z.map(B=>a.jsxs("option",{value:B.value,children:[B.label," - ",B.description]},B.value))}),a.jsx("textarea",{value:b,onChange:B=>f(B.target.value),placeholder:'{"value": 23.5, "unit": "C", "timestamp": "2024-01-01T12:00:00Z"}',rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded text-sm font-mono focus:outline-none focus:ring-1 focus:ring-teal-500"}),a.jsx(_e,{className:"w-full",onClick:I,disabled:o||!m.trim(),leftIcon:ea,children:`Publish (${w})`})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"font-medium mb-4 flex items-center",children:[a.jsx(br,{size:16,className:"mr-2 text-green-500"}),"Topic Subscriptions"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic Patterns"}),a.jsx("textarea",{value:g,onChange:B=>y(B.target.value),placeholder:`sw.sensor.#
sw.assets.*
specific.topic.name`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded text-sm font-mono focus:outline-none focus:ring-1 focus:ring-teal-500"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Use # for multi-level wildcard, * for single-level wildcard. One pattern per line."})]}),a.jsxs("div",{className:"flex flex-col justify-end space-y-2",children:[a.jsx(_e,{onClick:W,disabled:o||!g.trim(),leftIcon:br,children:"Simple Subscribe"}),a.jsx(_e,{onClick:P,disabled:o||!g.trim(),leftIcon:br,children:"Advanced Subscribe"}),a.jsx(_e,{variant:"secondary",onClick:A,disabled:o||!g.trim(),leftIcon:Ii,children:"Get Latest Data"})]})]})]})]}),s==="messages"&&a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Message History"}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:L,disabled:C.length===0,className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50",children:[a.jsx(Sa,{size:14,className:"mr-1"}),"Clear"]})})]}),a.jsx("div",{className:"flex-1 border border-gray-200 rounded-lg overflow-hidden",children:a.jsx("div",{className:"h-full overflow-y-auto p-4 space-y-3",children:C.length>0?C.map(B=>a.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${X(B.type)}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[G(B.type),a.jsx("span",{className:"text-xs font-medium text-gray-600 uppercase",children:B.type}),a.jsx("span",{className:"text-xs text-gray-500",children:B.timestamp.toLocaleTimeString()})]}),B.data&&a.jsx("button",{onClick:()=>M(K(B.data)),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(of,{size:12})})]}),a.jsx("div",{className:"text-sm text-gray-700 mb-2",children:B.message}),B.topic&&a.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[a.jsx("span",{className:"font-medium",children:"Topic:"})," ",a.jsx("span",{className:"font-mono",children:B.topic})]}),B.data&&a.jsx("div",{className:"text-xs bg-white rounded p-2 border font-mono",children:a.jsx("pre",{className:"whitespace-pre-wrap break-words max-h-32 overflow-y-auto",children:K(B.data)})})]},B.id)):a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(kg,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Keine Nachrichten"}),a.jsx("p",{className:"text-sm",children:"CPD-Nachrichten werden hier angezeigt"})]})})})})]}),s==="subscriptions"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Active Subscriptions"}),c.length>0?c.map(B=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:["Subscription ID: ",B.id]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",B.timestamp.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Messages: ",a.jsx("span",{className:"font-mono font-medium",children:B.messageCount})]}),a.jsxs("button",{onClick:()=>H(B.id),className:"inline-flex items-center px-3 py-1 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded hover:bg-red-50",children:[a.jsx(sh,{size:14,className:"mr-1"}),"Unsubscribe"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Topic Patterns:"}),a.jsx("div",{className:"mt-1 space-y-1",children:B.patterns.map((q,Q)=>a.jsx("div",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:q},Q))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Configuration:"}),a.jsx("div",{className:"mt-1 text-sm text-gray-600",children:B.config.simple?a.jsx("div",{className:"bg-blue-100 px-2 py-1 rounded",children:"Simple Subscription"}):a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:["Store All: ",B.config.storeAll?"Yes":"No"]}),a.jsxs("div",{children:["Flat Subscribe: ",B.config.flatSubscribe?"Yes":"No"]}),a.jsxs("div",{children:["Send Initial: ",B.config.sendInitialData?"Yes":"No"]}),a.jsxs("div",{children:["Aggregation Mode: ",B.config.aggrMode]})]})})]})]})]},B.id)):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(br,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Keine aktiven Subscriptions"}),a.jsx("p",{className:"text-sm",children:"Abonnieren Sie Topics, um Live-Updates zu erhalten"})]})})]}),s==="settings"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-medium",children:"CPD Configuration"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Connection Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Protocol:"}),a.jsx("span",{className:"ml-2",children:((re=e==null?void 0:e.config)==null?void 0:re.protocol)||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Address:"}),a.jsx("span",{className:"ml-2 font-mono",children:((N=e==null?void 0:e.config)==null?void 0:N.protocol)==="grpc"?(F=e==null?void 0:e.config)==null?void 0:F.address:(V=e==null?void 0:e.config)==null?void 0:V.url})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"TLS/Security:"}),a.jsx("span",{className:"ml-2",children:(O=e==null?void 0:e.config)!=null&&O.useTls?"Enabled":"Disabled"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${(e==null?void 0:e.status)==="connected"?"text-green-600":"text-red-600"}`,children:(e==null?void 0:e.status)==="connected"?"Connected":"Disconnected"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Default Subscription Configuration"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Store All Data"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Force storage of all topic data within CPD adapter"})]}),a.jsx("button",{onClick:()=>j(B=>({...B,storeAll:!B.storeAll})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${S.storeAll?"bg-teal-600":"bg-gray-200"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${S.storeAll?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Flat Subscribe"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Only subscribe to currently available topics"})]}),a.jsx("button",{onClick:()=>j(B=>({...B,flatSubscribe:!B.flatSubscribe})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${S.flatSubscribe?"bg-teal-600":"bg-gray-200"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${S.flatSubscribe?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Send Initial Data"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Send latest data immediately upon subscription"})]}),a.jsx("button",{onClick:()=>j(B=>({...B,sendInitialData:!B.sendInitialData})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${S.sendInitialData?"bg-teal-600":"bg-gray-200"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${S.sendInitialData?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aggregation Mode"}),a.jsxs("select",{value:S.aggrMode,onChange:B=>j(q=>({...q,aggrMode:parseInt(B.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500",children:[a.jsx("option",{value:0,children:"ON_ANY - Individual topic updates"}),a.jsx("option",{value:1,children:"ON_CAPTURETIME - Group updates by time window"}),a.jsx("option",{value:2,children:"ON_CAPTURETRIGGER - Group updates by trigger topic"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Session Statistics"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-teal-600",children:c.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Subscriptions"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Messages"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.reduce((B,q)=>B+q.messageCount,0)}),a.jsx("div",{className:"text-sm text-gray-600",children:"Received Updates"})]})]})]})]})]})};function mg({size:e=16}){const t=typeof e=="number"?`${e}px`:e;return a.jsxs("svg",{style:{width:t,height:t},className:"animate-spin text-swarco-blue-800",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}function Mx({connectionId:e}){const[t,s]=$.useState([]),[i,r]=$.useState(""),[l,m]=$.useState("disconnected"),[n,c]=$.useState("sqlite"),[p,b]=$.useState("SELECT 1 AS test;"),[f,g]=$.useState("[]"),[y,C]=$.useState([]),[x,h]=$.useState(null),[u,o]=$.useState(!1),[d,_]=$.useState(null),[v,w]=$.useState("asc"),[E,S]=$.useState({}),[j,T]=$.useState(1),z=100,k=$.useMemo(()=>(t||[]).filter(L=>L.type==="sql"),[t]);$.useEffect(()=>{(async()=>{var J;const L=await Bn();s(L.connections||[]);const K=(L.connections||[]).filter(re=>re.type==="sql"),X=K.find(re=>re.id===e)||K[0];X&&(r(X.id),c(((J=X.config)==null?void 0:J.driver)||"sqlite"))})()},[e]);async function D(){if(i){o(!0);try{await cr(i),m("connected")}finally{o(!1)}}}async function P(){if(i){o(!0);try{await ur(i),m("disconnected"),C([]),h(null)}finally{o(!1)}}}function W(){try{const L=JSON.parse(f||"[]");return Array.isArray(L)?L:[]}catch{return[]}}async function H(){if(!(!i||l!=="connected")){o(!0);try{const L=await $e(i,"query",{sql:p,params:W()}),K=(L==null?void 0:L.data)||L;Array.isArray(K.rows)?(C(K.rows),h({rowCount:K.rows.length}),T(1)):(C([]),h(K))}catch(L){C([]),h({error:L.message})}finally{o(!1)}}}const I=$.useMemo(()=>{let L=y;const K=Object.keys(E||{});if(K.length&&(L=L.filter(G=>K.every(X=>{const J=(E[X]||"").toString().trim();if(!J)return!0;const re=G[X];return String(re??"").toLowerCase().includes(J.toLowerCase())}))),d){const G=v==="desc"?-1:1;L=[...L].sort((X,J)=>{const re=X==null?void 0:X[d],N=J==null?void 0:J[d];if(re==null&&N==null)return 0;if(re==null)return-1*G;if(N==null)return 1*G;if(typeof re=="number"&&typeof N=="number")return(re-N)*G;const F=String(re),V=String(N);return F.localeCompare(V)*G})}return L},[y,E,d,v]),A=$.useMemo(()=>{const L=(j-1)*z;return I.slice(L,L+z)},[I,j]),R=$.useMemo(()=>I.length?Object.keys(I[0]):[],[I]),M=Math.max(1,Math.ceil(I.length/z));return a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Quick pick:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:async L=>{var re;const K=Number(L.target.value);if(isNaN(K))return;const G=At.sql[K],J=(await _s({name:G.name,type:"sql",config:G.config})).connection;r(J.id),c(((re=J.config)==null?void 0:re.driver)||"sqlite")},children:[a.jsx("option",{children:"Pick"}),At.sql.map((L,K)=>a.jsx("option",{value:K,children:L.name},L.name))]})]}),a.jsx(Bx,{connections:t,selectedId:i,status:l}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"SQL Connection"}),a.jsx("select",{className:"border border-swarco-grey-400 rounded px-3 py-2 min-w-[16rem] focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600",value:i,onChange:L=>{var G;r(L.target.value);const K=(G=k.find(X=>X.id===L.target.value))==null?void 0:G.config;c((K==null?void 0:K.driver)||"sqlite")},children:k.map(L=>{var K;return a.jsxs("option",{value:L.id,children:[L.name," (",((K=L.config)==null?void 0:K.driver)||"sqlite",")"]},L.id)})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:"secondary",onClick:D,disabled:!i||u||l==="connected",leftEl:u?a.jsx(mg,{size:14}):a.jsx(Tc,{size:14,className:"mr-1"}),children:"Connect"}),a.jsx(_e,{variant:"secondary",onClick:P,disabled:!i||u||l!=="connected",leftEl:a.jsx(Dc,{size:14,className:"mr-1"}),children:"Disconnect"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Driver: ",n]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"SQL"}),a.jsx("textarea",{rows:6,className:"w-full border border-swarco-grey-400 rounded px-3 py-2 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600",value:p,onChange:L=>b(L.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"Params (JSON array)"}),a.jsx("textarea",{rows:6,className:"w-full border border-swarco-grey-400 rounded px-3 py-2 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600",value:f,onChange:L=>g(L.target.value)})]})]}),a.jsx("div",{children:a.jsx(_e,{onClick:H,disabled:u||l!=="connected",children:u?"Running":"Execute"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:!y.length,onClick:()=>Hx(y,"query-results.csv"),children:"Export CSV"}),a.jsx("button",{className:"px-2 py-1 border rounded text-sm",onClick:()=>zx(p,f),children:"Save Query"}),a.jsx("button",{className:"px-2 py-1 border rounded text-sm",onClick:()=>Ux(b,g),children:"Load Last"})]}),y.length>0&&a.jsxs("div",{className:"border rounded",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-gray-50 text-sm",children:[a.jsxs("div",{children:[y.length," rows"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-1 border rounded",disabled:j<=1,onClick:()=>T(L=>Math.max(1,L-1)),children:"Prev"}),a.jsxs("span",{children:["Page ",j," / ",M]}),a.jsx("button",{className:"px-2 py-1 border rounded",disabled:j>=M,onClick:()=>T(L=>Math.min(M,L+1)),children:"Next"})]})]}),a.jsx("div",{className:"overflow-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsxs("thead",{className:"bg-gray-50",children:[a.jsx("tr",{children:R.map(L=>a.jsx("th",{className:"text-left px-3 py-2 border-b font-medium",children:a.jsxs("button",{className:"inline-flex items-center gap-1",onClick:()=>{d===L?w(K=>K==="asc"?"desc":"asc"):(_(L),w("asc"))},children:[L,d===L&&a.jsx("span",{className:"text-xs opacity-60",children:v==="asc"?"":""})]})},L))}),a.jsx("tr",{children:R.map(L=>a.jsx("th",{className:"px-3 pb-2 border-b",children:a.jsx("input",{className:"w-full border rounded px-2 py-1 text-xs",placeholder:"filter",value:E[L]||"",onChange:K=>{const G=K.target.value;S(X=>({...X,[L]:G})),T(1)}})},L))})]}),a.jsx("tbody",{children:A.map((L,K)=>a.jsx("tr",{className:"border-b",children:R.map(G=>a.jsx("td",{className:"px-3 py-1 font-mono",children:String(L[G])},G))},K))})]})})]}),x&&!y.length&&a.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 border rounded p-3",children:a.jsx("pre",{children:JSON.stringify(x,null,2)})})]})}function Bx({connections:e,selectedId:t,status:s}){const i=(e||[]).find(r=>r.id===t)||null;return a.jsx("div",{className:"ml-auto",children:a.jsx(yi,{connection:i||void 0,status:s})})}function Hx(e,t){if(!e||!e.length)return;const s=Object.keys(e[0]),i=c=>{const p=String(c??"");return/[",\n]/.test(p)?'"'+p.replace(/"/g,'""')+'"':p},r=[s.join(",")].concat(e.map(c=>s.map(p=>i(c[p])).join(","))),l=new Blob([r.join(`
`)],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(l),n=document.createElement("a");n.href=m,n.download=t,n.click(),URL.revokeObjectURL(m)}function zx(e,t){const s={sql:e,paramsText:t,ts:Date.now()};localStorage.setItem("sql_saved_last",JSON.stringify(s))}function Ux(e,t){try{const s=JSON.parse(localStorage.getItem("sql_saved_last")||"null");s&&(e(s.sql||""),t(s.paramsText||"[]"))}catch{}}function nf(e,t=!1){setSelectedNames(s=>{const i=t?new Set:new Set(s);return t?i.add(e):i.has(e)?i.delete(e):i.add(e),i})}async function Px(){const e=prompt("New folder name:");e&&(await fetch(`${API}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:connection.id,operation:"mkdir",params:{path:(cwd==="/"?"":cwd+"/")+e}})}),await list(cwd))}async function Ix(){const e=Array.from(selectedNames);if(e.length!==1)return;const t=e[0],s=prompt("Rename to:",t);!s||s===t||(await fetch(`${API}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:connection.id,operation:"rename",params:{from:(cwd==="/"?"":cwd+"/")+t,to:(cwd==="/"?"":cwd+"/")+s}})}),await list(cwd))}async function qx(){const e=Array.from(selectedNames);if(e.length!==1)return;const t=(cwd==="/"?"":cwd+"/")+e[0],s=await fetch(`${API}/${proto}/text?connectionId=${encodeURIComponent(connection.id)}&path=${encodeURIComponent(t)}`).then(i=>i.json());if(!s.success){alert(s.error||"Failed to load file");return}if(s.size>256*1024){alert("File too large for inline editor (>256KB)");return}setEditor({open:!0,path:t,content:s.content||"",saving:!1})}async function Fx(){setEditor(t=>({...t,saving:!0}));const e=await fetch(`${API}/${proto}/text`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:connection.id,path:editor.path,content:editor.content})}).then(t=>t.json());if(setEditor(t=>({...t,saving:!1})),!e.success){alert(e.error||"Save failed");return}setEditor({open:!1,path:"",content:"",saving:!1}),await list(cwd)}function $x(e){e.preventDefault()}async function Gx(e){e.preventDefault();const t=Array.from(e.dataTransfer.files||[]);if(t.length){for(const s of t){const i=new FormData;i.append("file",s),i.append("connectionId",connection.id),i.append("path",cwd),await fetch(`${API}/${proto}/upload`,{method:"POST",body:i})}await list(cwd)}}function pg({connection:e,protocol:t,openTab:s}){const[i,r]=$.useState("."),[l,m]=$.useState([]),[n,c]=$.useState(!1),[p,b]=$.useState(new Set),[f,g]=$.useState({open:!1,path:"",content:"",saving:!1}),y="/unicon/api",C=t||((e==null?void 0:e.type)==="sftp"?"sftp":"ftp");async function x(v=i){if(!(!e||e.status!=="connected")){c(!0);try{const w=await fetch(`${y}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"list",params:{path:v}})}).then(E=>E.json());w.success&&(m(w.data||[]),r(v),b(new Set))}finally{c(!1)}}}$.useEffect(()=>{(e==null?void 0:e.status)==="connected"&&x(".")},[e==null?void 0:e.status]);function h(){if(!i||i==="."||i==="/"){x("/");return}const v=i.replace(/\\+/g,"/").replace(/\/+/g,"/").split("/");v.pop();const w=v.join("/")||"/";x(w)}function u(v){if(v.isDirectory===!0||v.type===1||v.type==="d"){const E=i==="/"?`/${v.name}`:`${i}/${v.name}`;x(E)}else nf(v.name,!0)}async function o(v){var E;const w=(E=v==null?void 0:v.target)!=null&&E.files?Array.from(v.target.files):[];if(w.length){for(const S of w){const j=new FormData;j.append("file",S),j.append("connectionId",e.id),j.append("path",i),await fetch(`${y}/${C}/upload`,{method:"POST",body:j})}await x(i)}}function d(){const v=Array.from(p);if(v.length)for(const w of v){const E=`${y}/${C}/download?connectionId=${encodeURIComponent(e.id)}&path=${encodeURIComponent(i==="/"?"":i+"/"+w)}`;window.open(E,"_blank")}}async function _(){const v=Array.from(p);if(v.length&&confirm(`Delete ${v.length} item(s)?`)){for(const w of v){const E=(i==="/"?"":i+"/")+w;await fetch(`${y}/${C}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,path:E})})}await x(i)}}return a.jsxs("div",{className:"h-full flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Quick pick:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:async v=>{const w=v.target.value;if(v.target.value="",!!w){if(w==="ftp_local"){const S=(await _s({name:"FTP localhost",type:"ftp",config:{host:"localhost",port:21,secure:!1}})).connection;typeof s=="function"&&s("ftp",{connectionId:S.id,connection:S,title:`FTP  ${S.name}`})}else if(w==="sftp_local"){const S=(await _s({name:"SFTP localhost",type:"sftp",config:{host:"localhost",port:22,username:"user"}})).connection;typeof s=="function"&&s("sftp",{connectionId:S.id,connection:S,title:`SFTP  ${S.name}`})}}},children:[a.jsx("option",{children:"Pick"}),a.jsx("option",{value:"ftp_local",children:"FTP localhost (21)"}),a.jsx("option",{value:"sftp_local",children:"SFTP localhost (22)"})]})]}),a.jsx(_e,{variant:"secondary",onClick:h,children:"Up"}),a.jsx(_e,{variant:"secondary",onClick:()=>x(i),children:"Refresh"}),a.jsx(Tt,{value:i,onChange:v=>r(v.target.value),className:"flex-1"}),a.jsx("input",{type:"file",multiple:!0,onChange:o}),a.jsx(_e,{onClick:d,disabled:!p.size,children:"Download"}),a.jsx(_e,{variant:"secondary",onClick:_,disabled:!p.size,children:"Delete"}),a.jsx(_e,{variant:"secondary",onClick:Px,children:"Mkdir"}),a.jsx(_e,{variant:"secondary",onClick:Ix,disabled:p.size!==1,children:"Rename"}),a.jsx(_e,{variant:"secondary",onClick:qx,disabled:p.size!==1,children:"Edit"})]}),a.jsx("div",{className:"border rounded overflow-auto",onDragOver:$x,onDrop:Gx,children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"w-8 px-3 py-2",children:a.jsx("input",{type:"checkbox","aria-label":"Select all",onChange:v=>{v.target.checked?b(new Set(l.filter(w=>!(w.isDirectory===!0||w.type===1||w.type==="d")).map(w=>w.name))):b(new Set)}})}),a.jsx("th",{className:"text-left px-3 py-2",children:"Name"}),a.jsx("th",{className:"text-left px-3 py-2",children:"Type"}),a.jsx("th",{className:"text-left px-3 py-2",children:"Size"})]})}),a.jsxs("tbody",{children:[l.map((v,w)=>{const E=v.isDirectory===!0||v.type===1||v.type==="d",S=p.has(v.name);return a.jsxs("tr",{className:`border-b ${S?"bg-blue-50":""}`,children:[a.jsx("td",{className:"px-3 py-2 align-middle",children:!E&&a.jsx("input",{type:"checkbox",checked:S,onChange:()=>nf(v.name)})}),a.jsx("td",{className:"px-3 py-2",children:a.jsx("button",{className:"hover:underline",onClick:()=>u(v),children:v.name})}),a.jsx("td",{className:"px-3 py-2",children:E?"dir":"file"}),a.jsx("td",{className:"px-3 py-2",children:v.size??""})]},w)}),!l.length&&a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-6 text-center text-gray-500",colSpan:4,children:n?"Loading":"Empty"})})]})]})}),a.jsx(Cl,{open:f.open,title:`Edit ${f.path}`,onClose:()=>g({open:!1,path:"",content:"",saving:!1}),footer:a.jsxs(a.Fragment,{children:[a.jsx(_e,{variant:"secondary",onClick:()=>g({open:!1,path:"",content:"",saving:!1}),children:"Cancel"}),a.jsx(_e,{onClick:Fx,disabled:f.saving,children:f.saving?"Saving":"Save"})]}),children:a.jsx("textarea",{className:"w-full h-80 border rounded p-2 font-mono text-sm",value:f.content,onChange:v=>g(w=>({...w,content:v.target.value}))})})]})}function Wx(e){return a.jsx(pg,{...e,protocol:"sftp"})}var vg={exports:{}};(function(e,t){(function(s,i){e.exports=i()})(self,()=>(()=>{var s={4567:function(m,n,c){var p=this&&this.__decorate||function(d,_,v,w){var E,S=arguments.length,j=S<3?_:w===null?w=Object.getOwnPropertyDescriptor(_,v):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(d,_,v,w);else for(var T=d.length-1;T>=0;T--)(E=d[T])&&(j=(S<3?E(j):S>3?E(_,v,j):E(_,v))||j);return S>3&&j&&Object.defineProperty(_,v,j),j},b=this&&this.__param||function(d,_){return function(v,w){_(v,w,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;const f=c(9042),g=c(6114),y=c(9924),C=c(844),x=c(5596),h=c(4725),u=c(3656);let o=n.AccessibilityManager=class extends C.Disposable{constructor(d,_){super(),this._terminal=d,this._renderService=_,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let v=0;v<this._terminal.rows;v++)this._rowElements[v]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[v]);if(this._topBoundaryFocusListener=v=>this._handleBoundaryFocus(v,0),this._bottomBoundaryFocusListener=v=>this._handleBoundaryFocus(v,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new y.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(v=>this._handleResize(v.rows))),this.register(this._terminal.onRender(v=>this._refreshRows(v.start,v.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(v=>this._handleChar(v))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(v=>this._handleTab(v))),this.register(this._terminal.onKey(v=>this._handleKey(v.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,C.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(d){for(let _=0;_<d;_++)this._handleChar(" ")}_handleChar(d){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==d&&(this._charsToAnnounce+=d):this._charsToAnnounce+=d,d===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),g.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,g.isMac&&this._liveRegion.remove()}_handleKey(d){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(d)||this._charsToConsume.push(d)}_refreshRows(d,_){this._liveRegionDebouncer.refresh(d,_,this._terminal.rows)}_renderRows(d,_){const v=this._terminal.buffer,w=v.lines.length.toString();for(let E=d;E<=_;E++){const S=v.translateBufferLineToString(v.ydisp+E,!0),j=(v.ydisp+E+1).toString(),T=this._rowElements[E];T&&(S.length===0?T.innerText="":T.textContent=S,T.setAttribute("aria-posinset",j),T.setAttribute("aria-setsize",w))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(d,_){const v=d.target,w=this._rowElements[_===0?1:this._rowElements.length-2];if(v.getAttribute("aria-posinset")===(_===0?"1":`${this._terminal.buffer.lines.length}`)||d.relatedTarget!==w)return;let E,S;if(_===0?(E=v,S=this._rowElements.pop(),this._rowContainer.removeChild(S)):(E=this._rowElements.shift(),S=v,this._rowContainer.removeChild(E)),E.removeEventListener("focus",this._topBoundaryFocusListener),S.removeEventListener("focus",this._bottomBoundaryFocusListener),_===0){const j=this._createAccessibilityTreeNode();this._rowElements.unshift(j),this._rowContainer.insertAdjacentElement("afterbegin",j)}else{const j=this._createAccessibilityTreeNode();this._rowElements.push(j),this._rowContainer.appendChild(j)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(_===0?-1:1),this._rowElements[_===0?1:this._rowElements.length-2].focus(),d.preventDefault(),d.stopImmediatePropagation()}_handleResize(d){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let _=this._rowContainer.children.length;_<this._terminal.rows;_++)this._rowElements[_]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[_]);for(;this._rowElements.length>d;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const d=document.createElement("div");return d.setAttribute("role","listitem"),d.tabIndex=-1,this._refreshRowDimensions(d),d}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let d=0;d<this._terminal.rows;d++)this._refreshRowDimensions(this._rowElements[d])}}_refreshRowDimensions(d){d.style.height=`${this._renderService.dimensions.css.cell.height}px`}};n.AccessibilityManager=o=p([b(1,h.IRenderService)],o)},3614:(m,n)=>{function c(g){return g.replace(/\r?\n/g,"\r")}function p(g,y){return y?"\x1B[200~"+g+"\x1B[201~":g}function b(g,y,C,x){g=p(g=c(g),C.decPrivateModes.bracketedPasteMode&&x.rawOptions.ignoreBracketedPasteMode!==!0),C.triggerDataEvent(g,!0),y.value=""}function f(g,y,C){const x=C.getBoundingClientRect(),h=g.clientX-x.left-10,u=g.clientY-x.top-10;y.style.width="20px",y.style.height="20px",y.style.left=`${h}px`,y.style.top=`${u}px`,y.style.zIndex="1000",y.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=c,n.bracketTextForPaste=p,n.copyHandler=function(g,y){g.clipboardData&&g.clipboardData.setData("text/plain",y.selectionText),g.preventDefault()},n.handlePasteEvent=function(g,y,C,x){g.stopPropagation(),g.clipboardData&&b(g.clipboardData.getData("text/plain"),y,C,x)},n.paste=b,n.moveTextAreaUnderMouseCursor=f,n.rightClickHandler=function(g,y,C,x,h){f(g,y,C),h&&x.rightClickSelect(g),y.value=x.selectionText,y.select()}},7239:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;const p=c(1505);n.ColorContrastCache=class{constructor(){this._color=new p.TwoKeyMap,this._css=new p.TwoKeyMap}setCss(b,f,g){this._css.set(b,f,g)}getCss(b,f){return this._css.get(b,f)}setColor(b,f,g){this._color.set(b,f,g)}getColor(b,f){return this._color.get(b,f)}clear(){this._color.clear(),this._css.clear()}}},3656:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(c,p,b,f){c.addEventListener(p,b,f);let g=!1;return{dispose:()=>{g||(g=!0,c.removeEventListener(p,b,f))}}}},6465:function(m,n,c){var p=this&&this.__decorate||function(h,u,o,d){var _,v=arguments.length,w=v<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,o):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,u,o,d);else for(var E=h.length-1;E>=0;E--)(_=h[E])&&(w=(v<3?_(w):v>3?_(u,o,w):_(u,o))||w);return v>3&&w&&Object.defineProperty(u,o,w),w},b=this&&this.__param||function(h,u){return function(o,d){u(o,d,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier2=void 0;const f=c(3656),g=c(8460),y=c(844),C=c(2585);let x=n.Linkifier2=class extends y.Disposable{get currentLink(){return this._currentLink}constructor(h){super(),this._bufferService=h,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,y.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,y.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(h){return this._linkProviders.push(h),{dispose:()=>{const u=this._linkProviders.indexOf(h);u!==-1&&this._linkProviders.splice(u,1)}}}attachToDom(h,u,o){this._element=h,this._mouseService=u,this._renderService=o,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(h){if(this._lastMouseEvent=h,!this._element||!this._mouseService)return;const u=this._positionFromMouseEvent(h,this._element,this._mouseService);if(!u)return;this._isMouseOut=!1;const o=h.composedPath();for(let d=0;d<o.length;d++){const _=o[d];if(_.classList.contains("xterm"))break;if(_.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._handleHover(u),this._lastBufferCell=u)}_handleHover(h){if(this._activeLine!==h.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(h,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,h)||(this._clearCurrentLink(),this._askForLink(h,!0))}_askForLink(h,u){var o,d;this._activeProviderReplies&&u||((o=this._activeProviderReplies)===null||o===void 0||o.forEach(v=>{v==null||v.forEach(w=>{w.link.dispose&&w.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=h.y);let _=!1;for(const[v,w]of this._linkProviders.entries())u?!((d=this._activeProviderReplies)===null||d===void 0)&&d.get(v)&&(_=this._checkLinkProviderResult(v,h,_)):w.provideLinks(h.y,E=>{var S,j;if(this._isMouseOut)return;const T=E==null?void 0:E.map(z=>({link:z}));(S=this._activeProviderReplies)===null||S===void 0||S.set(v,T),_=this._checkLinkProviderResult(v,h,_),((j=this._activeProviderReplies)===null||j===void 0?void 0:j.size)===this._linkProviders.length&&this._removeIntersectingLinks(h.y,this._activeProviderReplies)})}_removeIntersectingLinks(h,u){const o=new Set;for(let d=0;d<u.size;d++){const _=u.get(d);if(_)for(let v=0;v<_.length;v++){const w=_[v],E=w.link.range.start.y<h?0:w.link.range.start.x,S=w.link.range.end.y>h?this._bufferService.cols:w.link.range.end.x;for(let j=E;j<=S;j++){if(o.has(j)){_.splice(v--,1);break}o.add(j)}}}}_checkLinkProviderResult(h,u,o){var d;if(!this._activeProviderReplies)return o;const _=this._activeProviderReplies.get(h);let v=!1;for(let w=0;w<h;w++)this._activeProviderReplies.has(w)&&!this._activeProviderReplies.get(w)||(v=!0);if(!v&&_){const w=_.find(E=>this._linkAtPosition(E.link,u));w&&(o=!0,this._handleNewLink(w))}if(this._activeProviderReplies.size===this._linkProviders.length&&!o)for(let w=0;w<this._activeProviderReplies.size;w++){const E=(d=this._activeProviderReplies.get(w))===null||d===void 0?void 0:d.find(S=>this._linkAtPosition(S.link,u));if(E){o=!0,this._handleNewLink(E);break}}return o}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(h){if(!this._element||!this._mouseService||!this._currentLink)return;const u=this._positionFromMouseEvent(h,this._element,this._mouseService);u&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(h,this._currentLink.link.text)}_clearCurrentLink(h,u){this._element&&this._currentLink&&this._lastMouseEvent&&(!h||!u||this._currentLink.link.range.start.y>=h&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,y.disposeArray)(this._linkCacheDisposables))}_handleNewLink(h){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const u=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);u&&this._linkAtPosition(h.link,u)&&(this._currentLink=h,this._currentLink.state={decorations:{underline:h.link.decorations===void 0||h.link.decorations.underline,pointerCursor:h.link.decorations===void 0||h.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,h.link,this._lastMouseEvent),h.link.decorations={},Object.defineProperties(h.link.decorations,{pointerCursor:{get:()=>{var o,d;return(d=(o=this._currentLink)===null||o===void 0?void 0:o.state)===null||d===void 0?void 0:d.decorations.pointerCursor},set:o=>{var d,_;!((d=this._currentLink)===null||d===void 0)&&d.state&&this._currentLink.state.decorations.pointerCursor!==o&&(this._currentLink.state.decorations.pointerCursor=o,this._currentLink.state.isHovered&&((_=this._element)===null||_===void 0||_.classList.toggle("xterm-cursor-pointer",o)))}},underline:{get:()=>{var o,d;return(d=(o=this._currentLink)===null||o===void 0?void 0:o.state)===null||d===void 0?void 0:d.decorations.underline},set:o=>{var d,_,v;!((d=this._currentLink)===null||d===void 0)&&d.state&&((v=(_=this._currentLink)===null||_===void 0?void 0:_.state)===null||v===void 0?void 0:v.decorations.underline)!==o&&(this._currentLink.state.decorations.underline=o,this._currentLink.state.isHovered&&this._fireUnderlineEvent(h.link,o))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(o=>{if(!this._currentLink)return;const d=o.start===0?0:o.start+1+this._bufferService.buffer.ydisp,_=this._bufferService.buffer.ydisp+1+o.end;if(this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=_&&(this._clearCurrentLink(d,_),this._lastMouseEvent&&this._element)){const v=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);v&&this._askForLink(v,!1)}})))}_linkHover(h,u,o){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&h.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(o,u.text)}_fireUnderlineEvent(h,u){const o=h.range,d=this._bufferService.buffer.ydisp,_=this._createLinkUnderlineEvent(o.start.x-1,o.start.y-d-1,o.end.x,o.end.y-d-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(_)}_linkLeave(h,u,o){var d;!((d=this._currentLink)===null||d===void 0)&&d.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&h.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(o,u.text)}_linkAtPosition(h,u){const o=h.range.start.y*this._bufferService.cols+h.range.start.x,d=h.range.end.y*this._bufferService.cols+h.range.end.x,_=u.y*this._bufferService.cols+u.x;return o<=_&&_<=d}_positionFromMouseEvent(h,u,o){const d=o.getCoords(h,u,this._bufferService.cols,this._bufferService.rows);if(d)return{x:d[0],y:d[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(h,u,o,d,_){return{x1:h,y1:u,x2:o,y2:d,cols:this._bufferService.cols,fg:_}}};n.Linkifier2=x=p([b(0,C.IBufferService)],x)},9042:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(m,n,c){var p=this&&this.__decorate||function(x,h,u,o){var d,_=arguments.length,v=_<3?h:o===null?o=Object.getOwnPropertyDescriptor(h,u):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(x,h,u,o);else for(var w=x.length-1;w>=0;w--)(d=x[w])&&(v=(_<3?d(v):_>3?d(h,u,v):d(h,u))||v);return _>3&&v&&Object.defineProperty(h,u,v),v},b=this&&this.__param||function(x,h){return function(u,o){h(u,o,x)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkProvider=void 0;const f=c(511),g=c(2585);let y=n.OscLinkProvider=class{constructor(x,h,u){this._bufferService=x,this._optionsService=h,this._oscLinkService=u}provideLinks(x,h){var u;const o=this._bufferService.buffer.lines.get(x-1);if(!o)return void h(void 0);const d=[],_=this._optionsService.rawOptions.linkHandler,v=new f.CellData,w=o.getTrimmedLength();let E=-1,S=-1,j=!1;for(let T=0;T<w;T++)if(S!==-1||o.hasContent(T)){if(o.loadCell(T,v),v.hasExtendedAttrs()&&v.extended.urlId){if(S===-1){S=T,E=v.extended.urlId;continue}j=v.extended.urlId!==E}else S!==-1&&(j=!0);if(j||S!==-1&&T===w-1){const z=(u=this._oscLinkService.getLinkData(E))===null||u===void 0?void 0:u.uri;if(z){const k={start:{x:S+1,y:x},end:{x:T+(j||T!==w-1?0:1),y:x}};let D=!1;if(!(_!=null&&_.allowNonHttpProtocols))try{const P=new URL(z);["http:","https:"].includes(P.protocol)||(D=!0)}catch{D=!0}D||d.push({text:z,range:k,activate:(P,W)=>_?_.activate(P,W,k):C(0,W),hover:(P,W)=>{var H;return(H=_==null?void 0:_.hover)===null||H===void 0?void 0:H.call(_,P,W,k)},leave:(P,W)=>{var H;return(H=_==null?void 0:_.leave)===null||H===void 0?void 0:H.call(_,P,W,k)}})}j=!1,v.hasExtendedAttrs()&&v.extended.urlId?(S=T,E=v.extended.urlId):(S=-1,E=-1)}}h(d)}};function C(x,h){if(confirm(`Do you want to navigate to ${h}?

WARNING: This link could potentially be dangerous`)){const u=window.open();if(u){try{u.opener=null}catch{}u.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}}n.OscLinkProvider=y=p([b(0,g.IBufferService),b(1,g.IOptionsService),b(2,g.IOscLinkService)],y)},6193:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0,n.RenderDebouncer=class{constructor(c,p){this._parentWindow=c,this._renderCallback=p,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(c){return this._refreshCallbacks.push(c),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(c,p,b){this._rowCount=b,c=c!==void 0?c:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const c=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,p),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const c of this._refreshCallbacks)c(0);this._refreshCallbacks=[]}}},5596:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenDprMonitor=void 0;const p=c(844);class b extends p.Disposable{constructor(g){super(),this._parentWindow=g,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,p.toDisposable)(()=>{this.clearListener()}))}setListener(g){this._listener&&this.clearListener(),this._listener=g,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var g;this._outerListener&&((g=this._resolutionMediaMatchList)===null||g===void 0||g.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}n.ScreenDprMonitor=b},3236:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;const p=c(3614),b=c(3656),f=c(6465),g=c(9042),y=c(3730),C=c(1680),x=c(3107),h=c(5744),u=c(2950),o=c(1296),d=c(428),_=c(4269),v=c(5114),w=c(8934),E=c(3230),S=c(9312),j=c(4725),T=c(6731),z=c(8055),k=c(8969),D=c(8460),P=c(844),W=c(6114),H=c(8437),I=c(2584),A=c(7399),R=c(5941),M=c(9074),L=c(2585),K=c(5435),G=c(4567),X=typeof window<"u"?window.document:null;class J extends k.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(N={}){super(N),this.browser=W,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new P.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(f.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(y.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(L.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((F,V)=>this.refresh(F,V))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(F=>this._reportWindowsOptions(F))),this.register(this._inputHandler.onColor(F=>this._handleColorEvent(F))),this.register((0,D.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,D.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(F=>this._afterResize(F.cols,F.rows))),this.register((0,P.toDisposable)(()=>{var F,V;this._customKeyEventHandler=void 0,(V=(F=this.element)===null||F===void 0?void 0:F.parentNode)===null||V===void 0||V.removeChild(this.element)}))}_handleColorEvent(N){if(this._themeService)for(const F of N){let V,O="";switch(F.index){case 256:V="foreground",O="10";break;case 257:V="background",O="11";break;case 258:V="cursor",O="12";break;default:V="ansi",O="4;"+F.index}switch(F.type){case 0:const B=z.color.toColorRGB(V==="ansi"?this._themeService.colors.ansi[F.index]:this._themeService.colors[V]);this.coreService.triggerDataEvent(`${I.C0.ESC}]${O};${(0,R.toRgbString)(B)}${I.C1_ESCAPED.ST}`);break;case 1:if(V==="ansi")this._themeService.modifyColors(q=>q.ansi[F.index]=z.rgba.toColor(...F.color));else{const q=V;this._themeService.modifyColors(Q=>Q[q]=z.rgba.toColor(...F.color))}break;case 2:this._themeService.restoreColor(F.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(N){N?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(G.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(N){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(I.C0.ESC+"[I"),this.updateCursorStyle(N),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var N;return(N=this.textarea)===null||N===void 0?void 0:N.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(I.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const N=this.buffer.ybase+this.buffer.y,F=this.buffer.lines.get(N);if(!F)return;const V=Math.min(this.buffer.x,this.cols-1),O=this._renderService.dimensions.css.cell.height,B=F.getWidth(V),q=this._renderService.dimensions.css.cell.width*B,Q=this.buffer.y*this._renderService.dimensions.css.cell.height,ie=V*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ie+"px",this.textarea.style.top=Q+"px",this.textarea.style.width=q+"px",this.textarea.style.height=O+"px",this.textarea.style.lineHeight=O+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,b.addDisposableDomListener)(this.element,"copy",F=>{this.hasSelection()&&(0,p.copyHandler)(F,this._selectionService)}));const N=F=>(0,p.handlePasteEvent)(F,this.textarea,this.coreService,this.optionsService);this.register((0,b.addDisposableDomListener)(this.textarea,"paste",N)),this.register((0,b.addDisposableDomListener)(this.element,"paste",N)),W.isFirefox?this.register((0,b.addDisposableDomListener)(this.element,"mousedown",F=>{F.button===2&&(0,p.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,b.addDisposableDomListener)(this.element,"contextmenu",F=>{(0,p.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),W.isLinux&&this.register((0,b.addDisposableDomListener)(this.element,"auxclick",F=>{F.button===1&&(0,p.moveTextAreaUnderMouseCursor)(F,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,b.addDisposableDomListener)(this.textarea,"keyup",N=>this._keyUp(N),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"keydown",N=>this._keyDown(N),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"keypress",N=>this._keyPress(N),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionupdate",N=>this._compositionHelper.compositionupdate(N))),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,b.addDisposableDomListener)(this.textarea,"input",N=>this._inputEvent(N),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(N){var F;if(!N)throw new Error("Terminal requires a parent element.");N.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=N.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),N.appendChild(this.element);const V=X.createDocumentFragment();this._viewportElement=X.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),V.appendChild(this._viewportElement),this._viewportScrollArea=X.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=X.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=X.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),V.appendChild(this.screenElement),this.textarea=X.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),W.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(v.CoreBrowserService,this.textarea,(F=this._document.defaultView)!==null&&F!==void 0?F:window),this._instantiationService.setService(j.ICoreBrowserService,this._coreBrowserService),this.register((0,b.addDisposableDomListener)(this.textarea,"focus",O=>this._handleTextAreaFocus(O))),this.register((0,b.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(d.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(j.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(T.ThemeService),this._instantiationService.setService(j.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(_.CharacterJoinerService),this._instantiationService.setService(j.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(j.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(O=>this._onRender.fire(O))),this.onResize(O=>this._renderService.resize(O.cols,O.rows)),this._compositionView=X.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(u.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(V);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(w.MouseService),this._instantiationService.setService(j.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(C.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(O=>this.scrollLines(O.amount,O.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(S.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(j.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(O=>this.scrollLines(O.amount,O.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(O=>this._renderService.handleSelectionChanged(O.start,O.end,O.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(O=>{this.textarea.value=O,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(O=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,b.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(x.BufferDecorationRenderer,this.screenElement)),this.register((0,b.addDisposableDomListener)(this.element,"mousedown",O=>this._selectionService.handleMouseDown(O))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(G.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",O=>this._handleScreenReaderModeOptionChange(O))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",O=>{!this._overviewRulerRenderer&&O&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(o.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const N=this,F=this.element;function V(q){const Q=N._mouseService.getMouseReportCoords(q,N.screenElement);if(!Q)return!1;let ie,ne;switch(q.overrideType||q.type){case"mousemove":ne=32,q.buttons===void 0?(ie=3,q.button!==void 0&&(ie=q.button<3?q.button:3)):ie=1&q.buttons?0:4&q.buttons?1:2&q.buttons?2:3;break;case"mouseup":ne=0,ie=q.button<3?q.button:3;break;case"mousedown":ne=1,ie=q.button<3?q.button:3;break;case"wheel":if(N.viewport.getLinesScrolled(q)===0)return!1;ne=q.deltaY<0?0:1,ie=4;break;default:return!1}return!(ne===void 0||ie===void 0||ie>4)&&N.coreMouseService.triggerMouseEvent({col:Q.col,row:Q.row,x:Q.x,y:Q.y,button:ie,action:ne,ctrl:q.ctrlKey,alt:q.altKey,shift:q.shiftKey})}const O={mouseup:null,wheel:null,mousedrag:null,mousemove:null},B={mouseup:q=>(V(q),q.buttons||(this._document.removeEventListener("mouseup",O.mouseup),O.mousedrag&&this._document.removeEventListener("mousemove",O.mousedrag)),this.cancel(q)),wheel:q=>(V(q),this.cancel(q,!0)),mousedrag:q=>{q.buttons&&V(q)},mousemove:q=>{q.buttons||V(q)}};this.register(this.coreMouseService.onProtocolChange(q=>{q?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(q)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&q?O.mousemove||(F.addEventListener("mousemove",B.mousemove),O.mousemove=B.mousemove):(F.removeEventListener("mousemove",O.mousemove),O.mousemove=null),16&q?O.wheel||(F.addEventListener("wheel",B.wheel,{passive:!1}),O.wheel=B.wheel):(F.removeEventListener("wheel",O.wheel),O.wheel=null),2&q?O.mouseup||(F.addEventListener("mouseup",B.mouseup),O.mouseup=B.mouseup):(this._document.removeEventListener("mouseup",O.mouseup),F.removeEventListener("mouseup",O.mouseup),O.mouseup=null),4&q?O.mousedrag||(O.mousedrag=B.mousedrag):(this._document.removeEventListener("mousemove",O.mousedrag),O.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,b.addDisposableDomListener)(F,"mousedown",q=>{if(q.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(q))return V(q),O.mouseup&&this._document.addEventListener("mouseup",O.mouseup),O.mousedrag&&this._document.addEventListener("mousemove",O.mousedrag),this.cancel(q)})),this.register((0,b.addDisposableDomListener)(F,"wheel",q=>{if(!O.wheel){if(!this.buffer.hasScrollback){const Q=this.viewport.getLinesScrolled(q);if(Q===0)return;const ie=I.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(q.deltaY<0?"A":"B");let ne="";for(let Ne=0;Ne<Math.abs(Q);Ne++)ne+=ie;return this.coreService.triggerDataEvent(ne,!0),this.cancel(q,!0)}return this.viewport.handleWheel(q)?this.cancel(q):void 0}},{passive:!1})),this.register((0,b.addDisposableDomListener)(F,"touchstart",q=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(q),this.cancel(q)},{passive:!0})),this.register((0,b.addDisposableDomListener)(F,"touchmove",q=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(q)?void 0:this.cancel(q)},{passive:!1}))}refresh(N,F){var V;(V=this._renderService)===null||V===void 0||V.refreshRows(N,F)}updateCursorStyle(N){var F;!((F=this._selectionService)===null||F===void 0)&&F.shouldColumnSelect(N)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(N,F,V=0){var O;V===1?(super.scrollLines(N,F,V),this.refresh(0,this.rows-1)):(O=this.viewport)===null||O===void 0||O.scrollLines(N)}paste(N){(0,p.paste)(N,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(N){this._customKeyEventHandler=N}registerLinkProvider(N){return this.linkifier2.registerLinkProvider(N)}registerCharacterJoiner(N){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const F=this._characterJoinerService.register(N);return this.refresh(0,this.rows-1),F}deregisterCharacterJoiner(N){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(N)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(N){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+N)}registerDecoration(N){return this._decorationService.registerDecoration(N)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(N,F,V){this._selectionService.setSelection(N,F,V)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var N;(N=this._selectionService)===null||N===void 0||N.clearSelection()}selectAll(){var N;(N=this._selectionService)===null||N===void 0||N.selectAll()}selectLines(N,F){var V;(V=this._selectionService)===null||V===void 0||V.selectLines(N,F)}_keyDown(N){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(N)===!1)return!1;const F=this.browser.isMac&&this.options.macOptionIsMeta&&N.altKey;if(!F&&!this._compositionHelper.keydown(N))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;F||N.key!=="Dead"&&N.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const V=(0,A.evaluateKeyboardEvent)(N,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(N),V.type===3||V.type===2){const O=this.rows-1;return this.scrollLines(V.type===2?-O:O),this.cancel(N,!0)}return V.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,N)||(V.cancel&&this.cancel(N,!0),!V.key||!!(N.key&&!N.ctrlKey&&!N.altKey&&!N.metaKey&&N.key.length===1&&N.key.charCodeAt(0)>=65&&N.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(V.key!==I.C0.ETX&&V.key!==I.C0.CR||(this.textarea.value=""),this._onKey.fire({key:V.key,domEvent:N}),this._showCursor(),this.coreService.triggerDataEvent(V.key,!0),!this.optionsService.rawOptions.screenReaderMode||N.altKey||N.ctrlKey?this.cancel(N,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(N,F){const V=N.isMac&&!this.options.macOptionIsMeta&&F.altKey&&!F.ctrlKey&&!F.metaKey||N.isWindows&&F.altKey&&F.ctrlKey&&!F.metaKey||N.isWindows&&F.getModifierState("AltGraph");return F.type==="keypress"?V:V&&(!F.keyCode||F.keyCode>47)}_keyUp(N){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(N)===!1||(function(F){return F.keyCode===16||F.keyCode===17||F.keyCode===18}(N)||this.focus(),this.updateCursorStyle(N),this._keyPressHandled=!1)}_keyPress(N){let F;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(N)===!1)return!1;if(this.cancel(N),N.charCode)F=N.charCode;else if(N.which===null||N.which===void 0)F=N.keyCode;else{if(N.which===0||N.charCode===0)return!1;F=N.which}return!(!F||(N.altKey||N.ctrlKey||N.metaKey)&&!this._isThirdLevelShift(this.browser,N)||(F=String.fromCharCode(F),this._onKey.fire({key:F,domEvent:N}),this._showCursor(),this.coreService.triggerDataEvent(F,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(N){if(N.data&&N.inputType==="insertText"&&(!N.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const F=N.data;return this.coreService.triggerDataEvent(F,!0),this.cancel(N),!0}return!1}resize(N,F){N!==this.cols||F!==this.rows?super.resize(N,F):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(N,F){var V,O;(V=this._charSizeService)===null||V===void 0||V.measure(),(O=this.viewport)===null||O===void 0||O.syncScrollArea(!0)}clear(){var N;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let F=1;F<this.rows;F++)this.buffer.lines.push(this.buffer.getBlankLine(H.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(N=this.viewport)===null||N===void 0||N.reset(),this.refresh(0,this.rows-1)}}reset(){var N,F;this.options.rows=this.rows,this.options.cols=this.cols;const V=this._customKeyEventHandler;this._setup(),super.reset(),(N=this._selectionService)===null||N===void 0||N.reset(),this._decorationService.reset(),(F=this.viewport)===null||F===void 0||F.reset(),this._customKeyEventHandler=V,this.refresh(0,this.rows-1)}clearTextureAtlas(){var N;(N=this._renderService)===null||N===void 0||N.clearTextureAtlas()}_reportFocus(){var N;!((N=this.element)===null||N===void 0)&&N.classList.contains("focus")?this.coreService.triggerDataEvent(I.C0.ESC+"[I"):this.coreService.triggerDataEvent(I.C0.ESC+"[O")}_reportWindowsOptions(N){if(this._renderService)switch(N){case K.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const F=this._renderService.dimensions.css.canvas.width.toFixed(0),V=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${I.C0.ESC}[4;${V};${F}t`);break;case K.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const O=this._renderService.dimensions.css.cell.width.toFixed(0),B=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${I.C0.ESC}[6;${B};${O}t`)}}cancel(N,F){if(this.options.cancelEvents||F)return N.preventDefault(),N.stopPropagation(),!1}}n.Terminal=J},9924:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0,n.TimeBasedDebouncer=class{constructor(c,p=1e3){this._renderCallback=c,this._debounceThresholdMS=p,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(c,p,b){this._rowCount=b,c=c!==void 0?c:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=f-this._lastRefreshMs,y=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},y)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const c=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,p)}}},1680:function(m,n,c){var p=this&&this.__decorate||function(u,o,d,_){var v,w=arguments.length,E=w<3?o:_===null?_=Object.getOwnPropertyDescriptor(o,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,o,d,_);else for(var S=u.length-1;S>=0;S--)(v=u[S])&&(E=(w<3?v(E):w>3?v(o,d,E):v(o,d))||E);return w>3&&E&&Object.defineProperty(o,d,E),E},b=this&&this.__param||function(u,o){return function(d,_){o(d,_,u)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;const f=c(3656),g=c(4725),y=c(8460),C=c(844),x=c(2585);let h=n.Viewport=class extends C.Disposable{constructor(u,o,d,_,v,w,E,S){super(),this._viewportElement=u,this._scrollArea=o,this._bufferService=d,this._optionsService=_,this._charSizeService=v,this._renderService=w,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(j=>this._activeBuffer=j.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(j=>this._renderDimensions=j)),this._handleThemeChange(S.colors),this.register(S.onChangeColors(j=>this._handleThemeChange(j))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(u){this._viewportElement.style.backgroundColor=u.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(u){if(u)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const o=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==o&&(this._lastRecordedBufferHeight=o,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const u=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==u&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=u),this._refreshAnimationFrame=null}syncScrollArea(u=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(u);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(u)}_handleScroll(u){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const o=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const u=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(u*(this._smoothScrollState.target-this._smoothScrollState.origin)),u<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(u,o){const d=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(o<0&&this._viewportElement.scrollTop!==0||o>0&&d<this._lastRecordedBufferHeight)||(u.cancelable&&u.preventDefault(),!1)}handleWheel(u){const o=this._getPixelsScrolled(u);return o!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+o:this._smoothScrollState.target+=o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=o,this._bubbleScroll(u,o))}scrollLines(u){if(u!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const o=u*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!1})}_getPixelsScrolled(u){if(u.deltaY===0||u.shiftKey)return 0;let o=this._applyScrollModifier(u.deltaY,u);return u.deltaMode===WheelEvent.DOM_DELTA_LINE?o*=this._currentRowHeight:u.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._currentRowHeight*this._bufferService.rows),o}getBufferElements(u,o){var d;let _,v="";const w=[],E=o??this._bufferService.buffer.lines.length,S=this._bufferService.buffer.lines;for(let j=u;j<E;j++){const T=S.get(j);if(!T)continue;const z=(d=S.get(j+1))===null||d===void 0?void 0:d.isWrapped;if(v+=T.translateToString(!z),!z||j===S.length-1){const k=document.createElement("div");k.textContent=v,w.push(k),v.length>0&&(_=k),v=""}}return{bufferElements:w,cursorElement:_}}getLinesScrolled(u){if(u.deltaY===0||u.shiftKey)return 0;let o=this._applyScrollModifier(u.deltaY,u);return u.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(o/=this._currentRowHeight+0,this._wheelPartialScroll+=o,o=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):u.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._bufferService.rows),o}_applyScrollModifier(u,o){const d=this._optionsService.rawOptions.fastScrollModifier;return d==="alt"&&o.altKey||d==="ctrl"&&o.ctrlKey||d==="shift"&&o.shiftKey?u*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:u*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(u){this._lastTouchY=u.touches[0].pageY}handleTouchMove(u){const o=this._lastTouchY-u.touches[0].pageY;return this._lastTouchY=u.touches[0].pageY,o!==0&&(this._viewportElement.scrollTop+=o,this._bubbleScroll(u,o))}};n.Viewport=h=p([b(2,x.IBufferService),b(3,x.IOptionsService),b(4,g.ICharSizeService),b(5,g.IRenderService),b(6,g.ICoreBrowserService),b(7,g.IThemeService)],h)},3107:function(m,n,c){var p=this&&this.__decorate||function(h,u,o,d){var _,v=arguments.length,w=v<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,o):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,u,o,d);else for(var E=h.length-1;E>=0;E--)(_=h[E])&&(w=(v<3?_(w):v>3?_(u,o,w):_(u,o))||w);return v>3&&w&&Object.defineProperty(u,o,w),w},b=this&&this.__param||function(h,u){return function(o,d){u(o,d,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferDecorationRenderer=void 0;const f=c(3656),g=c(4725),y=c(844),C=c(2585);let x=n.BufferDecorationRenderer=class extends y.Disposable{constructor(h,u,o,d){super(),this._screenElement=h,this._bufferService=u,this._decorationService=o,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(_=>this._removeDecoration(_))),this.register((0,y.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const h of this._decorationService.decorations)this._renderDecoration(h);this._dimensionsChanged=!1}_renderDecoration(h){this._refreshStyle(h),this._dimensionsChanged&&this._refreshXPosition(h)}_createElement(h){var u,o;const d=document.createElement("div");d.classList.add("xterm-decoration"),d.classList.toggle("xterm-decoration-top-layer",((u=h==null?void 0:h.options)===null||u===void 0?void 0:u.layer)==="top"),d.style.width=`${Math.round((h.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,d.style.height=(h.options.height||1)*this._renderService.dimensions.css.cell.height+"px",d.style.top=(h.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",d.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const _=(o=h.options.x)!==null&&o!==void 0?o:0;return _&&_>this._bufferService.cols&&(d.style.display="none"),this._refreshXPosition(h,d),d}_refreshStyle(h){const u=h.marker.line-this._bufferService.buffers.active.ydisp;if(u<0||u>=this._bufferService.rows)h.element&&(h.element.style.display="none",h.onRenderEmitter.fire(h.element));else{let o=this._decorationElements.get(h);o||(o=this._createElement(h),h.element=o,this._decorationElements.set(h,o),this._container.appendChild(o),h.onDispose(()=>{this._decorationElements.delete(h),o.remove()})),o.style.top=u*this._renderService.dimensions.css.cell.height+"px",o.style.display=this._altBufferIsActive?"none":"block",h.onRenderEmitter.fire(o)}}_refreshXPosition(h,u=h.element){var o;if(!u)return;const d=(o=h.options.x)!==null&&o!==void 0?o:0;(h.options.anchor||"left")==="right"?u.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":u.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(h){var u;(u=this._decorationElements.get(h))===null||u===void 0||u.remove(),this._decorationElements.delete(h),h.dispose()}};n.BufferDecorationRenderer=x=p([b(1,C.IBufferService),b(2,C.IDecorationService),b(3,g.IRenderService)],x)},5871:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorZoneStore=void 0,n.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(c){if(c.options.overviewRulerOptions){for(const p of this._zones)if(p.color===c.options.overviewRulerOptions.color&&p.position===c.options.overviewRulerOptions.position){if(this._lineIntersectsZone(p,c.marker.line))return;if(this._lineAdjacentToZone(p,c.marker.line,c.options.overviewRulerOptions.position))return void this._addLineToZone(p,c.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=c.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=c.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=c.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=c.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:c.options.overviewRulerOptions.color,position:c.options.overviewRulerOptions.position,startBufferLine:c.marker.line,endBufferLine:c.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(c){this._linePadding=c}_lineIntersectsZone(c,p){return p>=c.startBufferLine&&p<=c.endBufferLine}_lineAdjacentToZone(c,p,b){return p>=c.startBufferLine-this._linePadding[b||"full"]&&p<=c.endBufferLine+this._linePadding[b||"full"]}_addLineToZone(c,p){c.startBufferLine=Math.min(c.startBufferLine,p),c.endBufferLine=Math.max(c.endBufferLine,p)}}},5744:function(m,n,c){var p=this&&this.__decorate||function(_,v,w,E){var S,j=arguments.length,T=j<3?v:E===null?E=Object.getOwnPropertyDescriptor(v,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(_,v,w,E);else for(var z=_.length-1;z>=0;z--)(S=_[z])&&(T=(j<3?S(T):j>3?S(v,w,T):S(v,w))||T);return j>3&&T&&Object.defineProperty(v,w,T),T},b=this&&this.__param||function(_,v){return function(w,E){v(w,E,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OverviewRulerRenderer=void 0;const f=c(5871),g=c(3656),y=c(4725),C=c(844),x=c(2585),h={full:0,left:0,center:0,right:0},u={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0};let d=n.OverviewRulerRenderer=class extends C.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(_,v,w,E,S,j,T){var z;super(),this._viewportElement=_,this._screenElement=v,this._bufferService=w,this._decorationService=E,this._renderService=S,this._optionsService=j,this._coreBrowseService=T,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(z=this._viewportElement.parentElement)===null||z===void 0||z.insertBefore(this._canvas,this._viewportElement);const k=this._canvas.getContext("2d");if(!k)throw new Error("Ctx cannot be null");this._ctx=k,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,C.toDisposable)(()=>{var D;(D=this._canvas)===null||D===void 0||D.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,g.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const _=Math.floor(this._canvas.width/3),v=Math.ceil(this._canvas.width/3);u.full=this._canvas.width,u.left=_,u.center=v,u.right=_,this._refreshDrawHeightConstants(),o.full=0,o.left=0,o.center=u.left,o.right=u.left+u.center}_refreshDrawHeightConstants(){h.full=Math.round(2*this._coreBrowseService.dpr);const _=this._canvas.height/this._bufferService.buffer.lines.length,v=Math.round(Math.max(Math.min(_,12),6)*this._coreBrowseService.dpr);h.left=v,h.center=v,h.right=v}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const v of this._decorationService.decorations)this._colorZoneStore.addDecoration(v);this._ctx.lineWidth=1;const _=this._colorZoneStore.zones;for(const v of _)v.position!=="full"&&this._renderColorZone(v);for(const v of _)v.position==="full"&&this._renderColorZone(v);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(_){this._ctx.fillStyle=_.color,this._ctx.fillRect(o[_.position||"full"],Math.round((this._canvas.height-1)*(_.startBufferLine/this._bufferService.buffers.active.lines.length)-h[_.position||"full"]/2),u[_.position||"full"],Math.round((this._canvas.height-1)*((_.endBufferLine-_.startBufferLine)/this._bufferService.buffers.active.lines.length)+h[_.position||"full"]))}_queueRefresh(_,v){this._shouldUpdateDimensions=_||this._shouldUpdateDimensions,this._shouldUpdateAnchor=v||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};n.OverviewRulerRenderer=d=p([b(2,x.IBufferService),b(3,x.IDecorationService),b(4,y.IRenderService),b(5,x.IOptionsService),b(6,y.ICoreBrowserService)],d)},2950:function(m,n,c){var p=this&&this.__decorate||function(x,h,u,o){var d,_=arguments.length,v=_<3?h:o===null?o=Object.getOwnPropertyDescriptor(h,u):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(x,h,u,o);else for(var w=x.length-1;w>=0;w--)(d=x[w])&&(v=(_<3?d(v):_>3?d(h,u,v):d(h,u))||v);return _>3&&v&&Object.defineProperty(h,u,v),v},b=this&&this.__param||function(x,h){return function(u,o){h(u,o,x)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;const f=c(4725),g=c(2585),y=c(2584);let C=n.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(x,h,u,o,d,_){this._textarea=x,this._compositionView=h,this._bufferService=u,this._optionsService=o,this._coreService=d,this._renderService=_,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(x.keyCode===229||x.keyCode===16||x.keyCode===17||x.keyCode===18)return!1;this._finalizeComposition(!1)}return x.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){const h={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let u;this._isSendingComposition=!1,h.start+=this._dataAlreadySent.length,u=this._isComposing?this._textarea.value.substring(h.start,h.end):this._textarea.value.substring(h.start),u.length>0&&this._coreService.triggerDataEvent(u,!0)}},0)}else{this._isSendingComposition=!1;const h=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(h,!0)}}_handleAnyTextareaChanges(){const x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const h=this._textarea.value,u=h.replace(x,"");this._dataAlreadySent=u,h.length>x.length?this._coreService.triggerDataEvent(u,!0):h.length<x.length?this._coreService.triggerDataEvent(`${y.C0.DEL}`,!0):h.length===x.length&&h!==x&&this._coreService.triggerDataEvent(h,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const h=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),u=this._renderService.dimensions.css.cell.height,o=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,d=h*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=d+"px",this._compositionView.style.top=o+"px",this._compositionView.style.height=u+"px",this._compositionView.style.lineHeight=u+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const _=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=o+"px",this._textarea.style.width=Math.max(_.width,1)+"px",this._textarea.style.height=Math.max(_.height,1)+"px",this._textarea.style.lineHeight=_.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};n.CompositionHelper=C=p([b(2,g.IBufferService),b(3,g.IOptionsService),b(4,g.ICoreService),b(5,f.IRenderService)],C)},9806:(m,n)=>{function c(p,b,f){const g=f.getBoundingClientRect(),y=p.getComputedStyle(f),C=parseInt(y.getPropertyValue("padding-left")),x=parseInt(y.getPropertyValue("padding-top"));return[b.clientX-g.left-C,b.clientY-g.top-x]}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=c,n.getCoords=function(p,b,f,g,y,C,x,h,u){if(!C)return;const o=c(p,b,f);return o?(o[0]=Math.ceil((o[0]+(u?x/2:0))/x),o[1]=Math.ceil(o[1]/h),o[0]=Math.min(Math.max(o[0],1),g+(u?1:0)),o[1]=Math.min(Math.max(o[1],1),y),o):void 0}},9504:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;const p=c(2584);function b(h,u,o,d){const _=h-f(h,o),v=u-f(u,o),w=Math.abs(_-v)-function(E,S,j){let T=0;const z=E-f(E,j),k=S-f(S,j);for(let D=0;D<Math.abs(z-k);D++){const P=g(E,S)==="A"?-1:1,W=j.buffer.lines.get(z+P*D);W!=null&&W.isWrapped&&T++}return T}(h,u,o);return x(w,C(g(h,u),d))}function f(h,u){let o=0,d=u.buffer.lines.get(h),_=d==null?void 0:d.isWrapped;for(;_&&h>=0&&h<u.rows;)o++,d=u.buffer.lines.get(--h),_=d==null?void 0:d.isWrapped;return o}function g(h,u){return h>u?"A":"B"}function y(h,u,o,d,_,v){let w=h,E=u,S="";for(;w!==o||E!==d;)w+=_?1:-1,_&&w>v.cols-1?(S+=v.buffer.translateBufferLineToString(E,!1,h,w),w=0,h=0,E++):!_&&w<0&&(S+=v.buffer.translateBufferLineToString(E,!1,0,h+1),w=v.cols-1,h=w,E--);return S+v.buffer.translateBufferLineToString(E,!1,h,w)}function C(h,u){const o=u?"O":"[";return p.C0.ESC+o+h}function x(h,u){h=Math.floor(h);let o="";for(let d=0;d<h;d++)o+=u;return o}n.moveToCellSequence=function(h,u,o,d){const _=o.buffer.x,v=o.buffer.y;if(!o.buffer.hasScrollback)return function(S,j,T,z,k,D){return b(j,z,k,D).length===0?"":x(y(S,j,S,j-f(j,k),!1,k).length,C("D",D))}(_,v,0,u,o,d)+b(v,u,o,d)+function(S,j,T,z,k,D){let P;P=b(j,z,k,D).length>0?z-f(z,k):j;const W=z,H=function(I,A,R,M,L,K){let G;return G=b(R,M,L,K).length>0?M-f(M,L):A,I<R&&G<=M||I>=R&&G<M?"C":"D"}(S,j,T,z,k,D);return x(y(S,P,T,W,H==="C",k).length,C(H,D))}(_,v,h,u,o,d);let w;if(v===u)return w=_>h?"D":"C",x(Math.abs(_-h),C(w,d));w=v>u?"D":"C";const E=Math.abs(v-u);return x(function(S,j){return j.cols-S}(v>u?h:_,o)+(E-1)*o.cols+1+((v>u?_:h)-1),C(w,d))}},1296:function(m,n,c){var p=this&&this.__decorate||function(k,D,P,W){var H,I=arguments.length,A=I<3?D:W===null?W=Object.getOwnPropertyDescriptor(D,P):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(k,D,P,W);else for(var R=k.length-1;R>=0;R--)(H=k[R])&&(A=(I<3?H(A):I>3?H(D,P,A):H(D,P))||A);return I>3&&A&&Object.defineProperty(D,P,A),A},b=this&&this.__param||function(k,D){return function(P,W){D(P,W,k)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;const f=c(3787),g=c(2550),y=c(2223),C=c(6171),x=c(4725),h=c(8055),u=c(8460),o=c(844),d=c(2585),_="xterm-dom-renderer-owner-",v="xterm-rows",w="xterm-fg-",E="xterm-bg-",S="xterm-focus",j="xterm-selection";let T=1,z=n.DomRenderer=class extends o.Disposable{constructor(k,D,P,W,H,I,A,R,M,L){super(),this._element=k,this._screenElement=D,this._viewportElement=P,this._linkifier2=W,this._charSizeService=I,this._optionsService=A,this._bufferService=R,this._coreBrowserService=M,this._themeService=L,this._terminalClass=T++,this._rowElements=[],this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(v),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(j),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(K=>this._injectCss(K))),this._injectCss(this._themeService.colors),this._rowFactory=H.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(_+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(K=>this._handleLinkHover(K))),this.register(this._linkifier2.onHideLinkUnderline(K=>this._handleLinkLeave(K))),this.register((0,o.toDisposable)(()=>{this._element.classList.remove(_+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const k=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*k,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*k),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/k),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/k),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const P of this._rowElements)P.style.width=`${this.dimensions.css.canvas.width}px`,P.style.height=`${this.dimensions.css.cell.height}px`,P.style.lineHeight=`${this.dimensions.css.cell.height}px`,P.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const D=`${this._terminalSelector} .${v} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=D,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(k){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let D=`${this._terminalSelector} .${v} { color: ${k.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;D+=`${this._terminalSelector} .${v} .xterm-dim { color: ${h.color.multiplyOpacity(k.foreground,.5).css};}`,D+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,D+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",D+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${k.cursor.css};  color: ${k.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${k.cursor.css}; }}`,D+=`${this._terminalSelector} .${v}.${S} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${v}.${S} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${v} .xterm-cursor.xterm-cursor-block { background-color: ${k.cursor.css}; color: ${k.cursorAccent.css};}${this._terminalSelector} .${v} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${k.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${v} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${k.cursor.css} inset;}${this._terminalSelector} .${v} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${k.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,D+=`${this._terminalSelector} .${j} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${j} div { position: absolute; background-color: ${k.selectionBackgroundOpaque.css};}${this._terminalSelector} .${j} div { position: absolute; background-color: ${k.selectionInactiveBackgroundOpaque.css};}`;for(const[P,W]of k.ansi.entries())D+=`${this._terminalSelector} .${w}${P} { color: ${W.css}; }${this._terminalSelector} .${w}${P}.xterm-dim { color: ${h.color.multiplyOpacity(W,.5).css}; }${this._terminalSelector} .${E}${P} { background-color: ${W.css}; }`;D+=`${this._terminalSelector} .${w}${y.INVERTED_DEFAULT_COLOR} { color: ${h.color.opaque(k.background).css}; }${this._terminalSelector} .${w}${y.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${h.color.multiplyOpacity(h.color.opaque(k.background),.5).css}; }${this._terminalSelector} .${E}${y.INVERTED_DEFAULT_COLOR} { background-color: ${k.foreground.css}; }`,this._themeStyleElement.textContent=D}_setDefaultSpacing(){const k=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${k}px`,this._rowFactory.defaultSpacing=k}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(k,D){for(let P=this._rowElements.length;P<=D;P++){const W=document.createElement("div");this._rowContainer.appendChild(W),this._rowElements.push(W)}for(;this._rowElements.length>D;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(k,D){this._refreshRowElements(k,D),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(S)}handleFocus(){this._rowContainer.classList.add(S),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(k,D,P){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(k,D,P),this.renderRows(0,this._bufferService.rows-1),!k||!D)return;const W=k[1]-this._bufferService.buffer.ydisp,H=D[1]-this._bufferService.buffer.ydisp,I=Math.max(W,0),A=Math.min(H,this._bufferService.rows-1);if(I>=this._bufferService.rows||A<0)return;const R=document.createDocumentFragment();if(P){const M=k[0]>D[0];R.appendChild(this._createSelectionElement(I,M?D[0]:k[0],M?k[0]:D[0],A-I+1))}else{const M=W===I?k[0]:0,L=I===H?D[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(I,M,L));const K=A-I-1;if(R.appendChild(this._createSelectionElement(I+1,0,this._bufferService.cols,K)),I!==A){const G=H===A?D[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(A,0,G))}}this._selectionContainer.appendChild(R)}_createSelectionElement(k,D,P,W=1){const H=document.createElement("div");return H.style.height=W*this.dimensions.css.cell.height+"px",H.style.top=k*this.dimensions.css.cell.height+"px",H.style.left=D*this.dimensions.css.cell.width+"px",H.style.width=this.dimensions.css.cell.width*(P-D)+"px",H}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const k of this._rowElements)k.replaceChildren()}renderRows(k,D){const P=this._bufferService.buffer,W=P.ybase+P.y,H=Math.min(P.x,this._bufferService.cols-1),I=this._optionsService.rawOptions.cursorBlink,A=this._optionsService.rawOptions.cursorStyle,R=this._optionsService.rawOptions.cursorInactiveStyle;for(let M=k;M<=D;M++){const L=M+P.ydisp,K=this._rowElements[M],G=P.lines.get(L);if(!K||!G)break;K.replaceChildren(...this._rowFactory.createRow(G,L,L===W,A,R,H,I,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${_}${this._terminalClass}`}_handleLinkHover(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!0)}_handleLinkLeave(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!1)}_setCellUnderline(k,D,P,W,H,I){P<0&&(k=0),W<0&&(D=0);const A=this._bufferService.rows-1;P=Math.max(Math.min(P,A),0),W=Math.max(Math.min(W,A),0),H=Math.min(H,this._bufferService.cols);const R=this._bufferService.buffer,M=R.ybase+R.y,L=Math.min(R.x,H-1),K=this._optionsService.rawOptions.cursorBlink,G=this._optionsService.rawOptions.cursorStyle,X=this._optionsService.rawOptions.cursorInactiveStyle;for(let J=P;J<=W;++J){const re=J+R.ydisp,N=this._rowElements[J],F=R.lines.get(re);if(!N||!F)break;N.replaceChildren(...this._rowFactory.createRow(F,re,re===M,G,X,L,K,this.dimensions.css.cell.width,this._widthCache,I?J===P?k:0:-1,I?(J===W?D:H)-1:-1))}}};n.DomRenderer=z=p([b(4,d.IInstantiationService),b(5,x.ICharSizeService),b(6,d.IOptionsService),b(7,d.IBufferService),b(8,x.ICoreBrowserService),b(9,x.IThemeService)],z)},3787:function(m,n,c){var p=this&&this.__decorate||function(w,E,S,j){var T,z=arguments.length,k=z<3?E:j===null?j=Object.getOwnPropertyDescriptor(E,S):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(w,E,S,j);else for(var D=w.length-1;D>=0;D--)(T=w[D])&&(k=(z<3?T(k):z>3?T(E,S,k):T(E,S))||k);return z>3&&k&&Object.defineProperty(E,S,k),k},b=this&&this.__param||function(w,E){return function(S,j){E(S,j,w)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=void 0;const f=c(2223),g=c(643),y=c(511),C=c(2585),x=c(8055),h=c(4725),u=c(4269),o=c(6171),d=c(3734);let _=n.DomRendererRowFactory=class{constructor(w,E,S,j,T,z,k){this._document=w,this._characterJoinerService=E,this._optionsService=S,this._coreBrowserService=j,this._coreService=T,this._decorationService=z,this._themeService=k,this._workCell=new y.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(w,E,S){this._selectionStart=w,this._selectionEnd=E,this._columnSelectMode=S}createRow(w,E,S,j,T,z,k,D,P,W,H){const I=[],A=this._characterJoinerService.getJoinedCharacters(E),R=this._themeService.colors;let M,L=w.getNoBgTrimmedLength();S&&L<z+1&&(L=z+1);let K=0,G="",X=0,J=0,re=0,N=!1,F=0,V=!1,O=0;const B=[],q=W!==-1&&H!==-1;for(let Q=0;Q<L;Q++){w.loadCell(Q,this._workCell);let ie=this._workCell.getWidth();if(ie===0)continue;let ne=!1,Ne=Q,U=this._workCell;if(A.length>0&&Q===A[0][0]){ne=!0;const ke=A.shift();U=new u.JoinedCellData(this._workCell,w.translateToString(!0,ke[0],ke[1]),ke[1]-ke[0]),Ne=ke[1]-1,ie=U.getWidth()}const ee=this._isCellInSelection(Q,E),se=S&&Q===z,le=q&&Q>=W&&Q<=H;let de=!1;this._decorationService.forEachDecorationAtCell(Q,E,void 0,ke=>{de=!0});let ue=U.getChars()||g.WHITESPACE_CELL_CHAR;if(ue===" "&&(U.isUnderline()||U.isOverline())&&(ue=""),O=ie*D-P.get(ue,U.isBold(),U.isItalic()),M){if(K&&(ee&&V||!ee&&!V&&U.bg===X)&&(ee&&V&&R.selectionForeground||U.fg===J)&&U.extended.ext===re&&le===N&&O===F&&!se&&!ne&&!de){G+=ue,K++;continue}K&&(M.textContent=G),M=this._document.createElement("span"),K=0,G=""}else M=this._document.createElement("span");if(X=U.bg,J=U.fg,re=U.extended.ext,N=le,F=O,V=ee,ne&&z>=Q&&z<=Ne&&(z=Q),!this._coreService.isCursorHidden&&se){if(B.push("xterm-cursor"),this._coreBrowserService.isFocused)k&&B.push("xterm-cursor-blink"),B.push(j==="bar"?"xterm-cursor-bar":j==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(T)switch(T){case"outline":B.push("xterm-cursor-outline");break;case"block":B.push("xterm-cursor-block");break;case"bar":B.push("xterm-cursor-bar");break;case"underline":B.push("xterm-cursor-underline")}}if(U.isBold()&&B.push("xterm-bold"),U.isItalic()&&B.push("xterm-italic"),U.isDim()&&B.push("xterm-dim"),G=U.isInvisible()?g.WHITESPACE_CELL_CHAR:U.getChars()||g.WHITESPACE_CELL_CHAR,U.isUnderline()&&(B.push(`xterm-underline-${U.extended.underlineStyle}`),G===" "&&(G=""),!U.isUnderlineColorDefault()))if(U.isUnderlineColorRGB())M.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(U.getUnderlineColor()).join(",")})`;else{let ke=U.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&U.isBold()&&ke<8&&(ke+=8),M.style.textDecorationColor=R.ansi[ke].css}U.isOverline()&&(B.push("xterm-overline"),G===" "&&(G="")),U.isStrikethrough()&&B.push("xterm-strikethrough"),le&&(M.style.textDecoration="underline");let ae=U.getFgColor(),xe=U.getFgColorMode(),Ce=U.getBgColor(),dt=U.getBgColorMode();const Mt=!!U.isInverse();if(Mt){const ke=ae;ae=Ce,Ce=ke;const bi=xe;xe=dt,dt=bi}let at,yr,rt,Jt=!1;switch(this._decorationService.forEachDecorationAtCell(Q,E,void 0,ke=>{ke.options.layer!=="top"&&Jt||(ke.backgroundColorRGB&&(dt=50331648,Ce=ke.backgroundColorRGB.rgba>>8&16777215,at=ke.backgroundColorRGB),ke.foregroundColorRGB&&(xe=50331648,ae=ke.foregroundColorRGB.rgba>>8&16777215,yr=ke.foregroundColorRGB),Jt=ke.options.layer==="top")}),!Jt&&ee&&(at=this._coreBrowserService.isFocused?R.selectionBackgroundOpaque:R.selectionInactiveBackgroundOpaque,Ce=at.rgba>>8&16777215,dt=50331648,Jt=!0,R.selectionForeground&&(xe=50331648,ae=R.selectionForeground.rgba>>8&16777215,yr=R.selectionForeground)),Jt&&B.push("xterm-decoration-top"),dt){case 16777216:case 33554432:rt=R.ansi[Ce],B.push(`xterm-bg-${Ce}`);break;case 50331648:rt=x.rgba.toColor(Ce>>16,Ce>>8&255,255&Ce),this._addStyle(M,`background-color:#${v((Ce>>>0).toString(16),"0",6)}`);break;default:Mt?(rt=R.foreground,B.push(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):rt=R.background}switch(at||U.isDim()&&(at=x.color.multiplyOpacity(rt,.5)),xe){case 16777216:case 33554432:U.isBold()&&ae<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ae+=8),this._applyMinimumContrast(M,rt,R.ansi[ae],U,at,void 0)||B.push(`xterm-fg-${ae}`);break;case 50331648:const ke=x.rgba.toColor(ae>>16&255,ae>>8&255,255&ae);this._applyMinimumContrast(M,rt,ke,U,at,yr)||this._addStyle(M,`color:#${v(ae.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(M,rt,R.foreground,U,at,void 0)||Mt&&B.push(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}B.length&&(M.className=B.join(" "),B.length=0),se||ne||de?M.textContent=G:K++,O!==this.defaultSpacing&&(M.style.letterSpacing=`${O}px`),I.push(M),Q=Ne}return M&&K&&(M.textContent=G),I}_applyMinimumContrast(w,E,S,j,T,z){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,o.excludeFromContrastRatioDemands)(j.getCode()))return!1;const k=this._getContrastCache(j);let D;if(T||z||(D=k.getColor(E.rgba,S.rgba)),D===void 0){const P=this._optionsService.rawOptions.minimumContrastRatio/(j.isDim()?2:1);D=x.color.ensureContrastRatio(T||E,z||S,P),k.setColor((T||E).rgba,(z||S).rgba,D??null)}return!!D&&(this._addStyle(w,`color:${D.css}`),!0)}_getContrastCache(w){return w.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(w,E){w.setAttribute("style",`${w.getAttribute("style")||""}${E};`)}_isCellInSelection(w,E){const S=this._selectionStart,j=this._selectionEnd;return!(!S||!j)&&(this._columnSelectMode?S[0]<=j[0]?w>=S[0]&&E>=S[1]&&w<j[0]&&E<=j[1]:w<S[0]&&E>=S[1]&&w>=j[0]&&E<=j[1]:E>S[1]&&E<j[1]||S[1]===j[1]&&E===S[1]&&w>=S[0]&&w<j[0]||S[1]<j[1]&&E===j[1]&&w<j[0]||S[1]<j[1]&&E===S[1]&&w>=S[0])}};function v(w,E,S){for(;w.length<S;)w=E+w;return w}n.DomRendererRowFactory=_=p([b(1,h.ICharacterJoinerService),b(2,C.IOptionsService),b(3,h.ICoreBrowserService),b(4,C.ICoreService),b(5,C.IDecorationService),b(6,h.IThemeService)],_)},2550:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WidthCache=void 0,n.WidthCache=class{constructor(c){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=c.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const p=c.createElement("span"),b=c.createElement("span");b.style.fontWeight="bold";const f=c.createElement("span");f.style.fontStyle="italic";const g=c.createElement("span");g.style.fontWeight="bold",g.style.fontStyle="italic",this._measureElements=[p,b,f,g],this._container.appendChild(p),this._container.appendChild(b),this._container.appendChild(f),this._container.appendChild(g),c.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(c,p,b,f){c===this._font&&p===this._fontSize&&b===this._weight&&f===this._weightBold||(this._font=c,this._fontSize=p,this._weight=b,this._weightBold=f,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${b}`,this._measureElements[1].style.fontWeight=`${f}`,this._measureElements[2].style.fontWeight=`${b}`,this._measureElements[3].style.fontWeight=`${f}`,this.clear())}get(c,p,b){let f=0;if(!p&&!b&&c.length===1&&(f=c.charCodeAt(0))<256)return this._flat[f]!==-9999?this._flat[f]:this._flat[f]=this._measure(c,0);let g=c;p&&(g+="B"),b&&(g+="I");let y=this._holey.get(g);if(y===void 0){let C=0;p&&(C|=1),b&&(C|=2),y=this._measure(c,C),this._holey.set(g,y)}return y}_measure(c,p){const b=this._measureElements[p];return b.textContent=c.repeat(32),b.offsetWidth/32}}},2223:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;const p=c(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=p.isFirefox||p.isLegacyEdge?"bottom":"ideographic"},6171:(m,n)=>{function c(p){return 57508<=p&&p<=57558}Object.defineProperty(n,"__esModule",{value:!0}),n.createRenderDimensions=n.excludeFromContrastRatioDemands=n.isRestrictedPowerlineGlyph=n.isPowerlineGlyph=n.throwIfFalsy=void 0,n.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},n.isPowerlineGlyph=c,n.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},n.excludeFromContrastRatioDemands=function(p){return c(p)||function(b){return 9472<=b&&b<=9631}(p)},n.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0,n.SelectionModel=class{constructor(c){this._bufferService=c,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?c%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)-1]:[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[c,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[Math.max(c,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const c=this.selectionStart,p=this.selectionEnd;return!(!c||!p)&&(c[1]>p[1]||c[1]===p[1]&&c[0]>p[0])}handleTrim(c){return this.selectionStart&&(this.selectionStart[1]-=c),this.selectionEnd&&(this.selectionEnd[1]-=c),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(m,n,c){var p=this&&this.__decorate||function(h,u,o,d){var _,v=arguments.length,w=v<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,o):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,u,o,d);else for(var E=h.length-1;E>=0;E--)(_=h[E])&&(w=(v<3?_(w):v>3?_(u,o,w):_(u,o))||w);return v>3&&w&&Object.defineProperty(u,o,w),w},b=this&&this.__param||function(h,u){return function(o,d){u(o,d,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;const f=c(2585),g=c(8460),y=c(844);let C=n.CharSizeService=class extends y.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(h,u,o){super(),this._optionsService=o,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(h,u,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const h=this._measureStrategy.measure();h.width===this.width&&h.height===this.height||(this.width=h.width,this.height=h.height,this._onCharSizeChange.fire())}};n.CharSizeService=C=p([b(2,f.IOptionsService)],C);class x{constructor(u,o,d){this._document=u,this._parentElement=o,this._optionsService=d,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const u={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return u.width!==0&&u.height!==0&&(this._result.width=u.width/32,this._result.height=Math.ceil(u.height)),this._result}}},4269:function(m,n,c){var p=this&&this.__decorate||function(u,o,d,_){var v,w=arguments.length,E=w<3?o:_===null?_=Object.getOwnPropertyDescriptor(o,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,o,d,_);else for(var S=u.length-1;S>=0;S--)(v=u[S])&&(E=(w<3?v(E):w>3?v(o,d,E):v(o,d))||E);return w>3&&E&&Object.defineProperty(o,d,E),E},b=this&&this.__param||function(u,o){return function(d,_){o(d,_,u)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;const f=c(3734),g=c(643),y=c(511),C=c(2585);class x extends f.AttributeData{constructor(o,d,_){super(),this.content=0,this.combinedData="",this.fg=o.fg,this.bg=o.bg,this.combinedData=d,this._width=_}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(o){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.JoinedCellData=x;let h=n.CharacterJoinerService=class gg{constructor(o){this._bufferService=o,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new y.CellData}register(o){const d={id:this._nextCharacterJoinerId++,handler:o};return this._characterJoiners.push(d),d.id}deregister(o){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===o)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(o){if(this._characterJoiners.length===0)return[];const d=this._bufferService.buffer.lines.get(o);if(!d||d.length===0)return[];const _=[],v=d.translateToString(!0);let w=0,E=0,S=0,j=d.getFg(0),T=d.getBg(0);for(let z=0;z<d.getTrimmedLength();z++)if(d.loadCell(z,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==j||this._workCell.bg!==T){if(z-w>1){const k=this._getJoinedRanges(v,S,E,d,w);for(let D=0;D<k.length;D++)_.push(k[D])}w=z,S=E,j=this._workCell.fg,T=this._workCell.bg}E+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1){const z=this._getJoinedRanges(v,S,E,d,w);for(let k=0;k<z.length;k++)_.push(z[k])}return _}_getJoinedRanges(o,d,_,v,w){const E=o.substring(d,_);let S=[];try{S=this._characterJoiners[0].handler(E)}catch(j){console.error(j)}for(let j=1;j<this._characterJoiners.length;j++)try{const T=this._characterJoiners[j].handler(E);for(let z=0;z<T.length;z++)gg._mergeRanges(S,T[z])}catch(T){console.error(T)}return this._stringRangesToCellRanges(S,v,w),S}_stringRangesToCellRanges(o,d,_){let v=0,w=!1,E=0,S=o[v];if(S){for(let j=_;j<this._bufferService.cols;j++){const T=d.getWidth(j),z=d.getString(j).length||g.WHITESPACE_CELL_CHAR.length;if(T!==0){if(!w&&S[0]<=E&&(S[0]=j,w=!0),S[1]<=E){if(S[1]=j,S=o[++v],!S)break;S[0]<=E?(S[0]=j,w=!0):w=!1}E+=z}}S&&(S[1]=this._bufferService.cols)}}static _mergeRanges(o,d){let _=!1;for(let v=0;v<o.length;v++){const w=o[v];if(_){if(d[1]<=w[0])return o[v-1][1]=d[1],o;if(d[1]<=w[1])return o[v-1][1]=Math.max(d[1],w[1]),o.splice(v,1),o;o.splice(v,1),v--}else{if(d[1]<=w[0])return o.splice(v,0,d),o;if(d[1]<=w[1])return w[0]=Math.min(d[0],w[0]),o;d[0]<w[1]&&(w[0]=Math.min(d[0],w[0]),_=!0)}}return _?o[o.length-1][1]=d[1]:o.push(d),o}};n.CharacterJoinerService=h=p([b(0,C.IBufferService)],h)},5114:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0,n.CoreBrowserService=class{constructor(c,p){this._textarea=c,this.window=p,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(m,n,c){var p=this&&this.__decorate||function(C,x,h,u){var o,d=arguments.length,_=d<3?x:u===null?u=Object.getOwnPropertyDescriptor(x,h):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(C,x,h,u);else for(var v=C.length-1;v>=0;v--)(o=C[v])&&(_=(d<3?o(_):d>3?o(x,h,_):o(x,h))||_);return d>3&&_&&Object.defineProperty(x,h,_),_},b=this&&this.__param||function(C,x){return function(h,u){x(h,u,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;const f=c(4725),g=c(9806);let y=n.MouseService=class{constructor(C,x){this._renderService=C,this._charSizeService=x}getCoords(C,x,h,u,o){return(0,g.getCoords)(window,C,x,h,u,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,o)}getMouseReportCoords(C,x){const h=(0,g.getCoordsRelativeToElement)(window,C,x);if(this._charSizeService.hasValidSize)return h[0]=Math.min(Math.max(h[0],0),this._renderService.dimensions.css.canvas.width-1),h[1]=Math.min(Math.max(h[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(h[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(h[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(h[0]),y:Math.floor(h[1])}}};n.MouseService=y=p([b(0,f.IRenderService),b(1,f.ICharSizeService)],y)},3230:function(m,n,c){var p=this&&this.__decorate||function(_,v,w,E){var S,j=arguments.length,T=j<3?v:E===null?E=Object.getOwnPropertyDescriptor(v,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(_,v,w,E);else for(var z=_.length-1;z>=0;z--)(S=_[z])&&(T=(j<3?S(T):j>3?S(v,w,T):S(v,w))||T);return j>3&&T&&Object.defineProperty(v,w,T),T},b=this&&this.__param||function(_,v){return function(w,E){v(w,E,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;const f=c(3656),g=c(6193),y=c(5596),C=c(4725),x=c(8460),h=c(844),u=c(7226),o=c(2585);let d=n.RenderService=class extends h.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(_,v,w,E,S,j,T,z){if(super(),this._rowCount=_,this._charSizeService=E,this._renderer=this.register(new h.MutableDisposable),this._pausedResizeTask=new u.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new x.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new x.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new x.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new x.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new g.RenderDebouncer(T.window,(k,D)=>this._renderRows(k,D)),this.register(this._renderDebouncer),this._screenDprMonitor=new y.ScreenDprMonitor(T.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(j.onResize(()=>this._fullRefresh())),this.register(j.buffers.onBufferActivate(()=>{var k;return(k=this._renderer.value)===null||k===void 0?void 0:k.clear()})),this.register(w.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(S.onDecorationRegistered(()=>this._fullRefresh())),this.register(S.onDecorationRemoved(()=>this._fullRefresh())),this.register(w.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(j.cols,j.rows),this._fullRefresh()})),this.register(w.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(j.buffer.y,j.buffer.y,!0))),this.register((0,f.addDisposableDomListener)(T.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(z.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in T.window){const k=new T.window.IntersectionObserver(D=>this._handleIntersectionChange(D[D.length-1]),{threshold:0});k.observe(v),this.register({dispose:()=>k.disconnect()})}}_handleIntersectionChange(_){this._isPaused=_.isIntersecting===void 0?_.intersectionRatio===0:!_.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(_,v,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(_,v,this._rowCount))}_renderRows(_,v){this._renderer.value&&(_=Math.min(_,this._rowCount-1),v=Math.min(v,this._rowCount-1),this._renderer.value.renderRows(_,v),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:_,end:v}),this._onRender.fire({start:_,end:v}),this._isNextRenderRedrawOnly=!0)}resize(_,v){this._rowCount=v,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(_){this._renderer.value=_,this._renderer.value.onRequestRedraw(v=>this.refreshRows(v.start,v.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(_){return this._renderDebouncer.addRefreshCallback(_)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var _,v;this._renderer.value&&((v=(_=this._renderer.value).clearTextureAtlas)===null||v===void 0||v.call(_),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(_,v){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(_,v)):this._renderer.value.handleResize(_,v),this._fullRefresh())}handleCharSizeChanged(){var _;(_=this._renderer.value)===null||_===void 0||_.handleCharSizeChanged()}handleBlur(){var _;(_=this._renderer.value)===null||_===void 0||_.handleBlur()}handleFocus(){var _;(_=this._renderer.value)===null||_===void 0||_.handleFocus()}handleSelectionChanged(_,v,w){var E;this._selectionState.start=_,this._selectionState.end=v,this._selectionState.columnSelectMode=w,(E=this._renderer.value)===null||E===void 0||E.handleSelectionChanged(_,v,w)}handleCursorMove(){var _;(_=this._renderer.value)===null||_===void 0||_.handleCursorMove()}clear(){var _;(_=this._renderer.value)===null||_===void 0||_.clear()}};n.RenderService=d=p([b(2,o.IOptionsService),b(3,C.ICharSizeService),b(4,o.IDecorationService),b(5,o.IBufferService),b(6,C.ICoreBrowserService),b(7,C.IThemeService)],d)},9312:function(m,n,c){var p=this&&this.__decorate||function(S,j,T,z){var k,D=arguments.length,P=D<3?j:z===null?z=Object.getOwnPropertyDescriptor(j,T):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(S,j,T,z);else for(var W=S.length-1;W>=0;W--)(k=S[W])&&(P=(D<3?k(P):D>3?k(j,T,P):k(j,T))||P);return D>3&&P&&Object.defineProperty(j,T,P),P},b=this&&this.__param||function(S,j){return function(T,z){j(T,z,S)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;const f=c(9806),g=c(9504),y=c(456),C=c(4725),x=c(8460),h=c(844),u=c(6114),o=c(4841),d=c(511),_=c(2585),v="",w=new RegExp(v,"g");let E=n.SelectionService=class extends h.Disposable{constructor(S,j,T,z,k,D,P,W,H){super(),this._element=S,this._screenElement=j,this._linkifier=T,this._bufferService=z,this._coreService=k,this._mouseService=D,this._optionsService=P,this._renderService=W,this._coreBrowserService=H,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new d.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new x.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new x.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new x.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=I=>this._handleMouseMove(I),this._mouseUpListener=I=>this._handleMouseUp(I),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(I=>this._handleTrim(I)),this.register(this._bufferService.buffers.onBufferActivate(I=>this._handleBufferActivate(I))),this.enable(),this._model=new y.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,h.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const S=this._model.finalSelectionStart,j=this._model.finalSelectionEnd;return!(!S||!j||S[0]===j[0]&&S[1]===j[1])}get selectionText(){const S=this._model.finalSelectionStart,j=this._model.finalSelectionEnd;if(!S||!j)return"";const T=this._bufferService.buffer,z=[];if(this._activeSelectionMode===3){if(S[0]===j[0])return"";const k=S[0]<j[0]?S[0]:j[0],D=S[0]<j[0]?j[0]:S[0];for(let P=S[1];P<=j[1];P++){const W=T.translateBufferLineToString(P,!0,k,D);z.push(W)}}else{const k=S[1]===j[1]?j[0]:void 0;z.push(T.translateBufferLineToString(S[1],!0,S[0],k));for(let D=S[1]+1;D<=j[1]-1;D++){const P=T.lines.get(D),W=T.translateBufferLineToString(D,!0);P!=null&&P.isWrapped?z[z.length-1]+=W:z.push(W)}if(S[1]!==j[1]){const D=T.lines.get(j[1]),P=T.translateBufferLineToString(j[1],!0,0,j[0]);D&&D.isWrapped?z[z.length-1]+=P:z.push(P)}}return z.map(k=>k.replace(w," ")).join(u.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(S){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),u.isLinux&&S&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(S){const j=this._getMouseBufferCoords(S),T=this._model.finalSelectionStart,z=this._model.finalSelectionEnd;return!!(T&&z&&j)&&this._areCoordsInSelection(j,T,z)}isCellInSelection(S,j){const T=this._model.finalSelectionStart,z=this._model.finalSelectionEnd;return!(!T||!z)&&this._areCoordsInSelection([S,j],T,z)}_areCoordsInSelection(S,j,T){return S[1]>j[1]&&S[1]<T[1]||j[1]===T[1]&&S[1]===j[1]&&S[0]>=j[0]&&S[0]<T[0]||j[1]<T[1]&&S[1]===T[1]&&S[0]<T[0]||j[1]<T[1]&&S[1]===j[1]&&S[0]>=j[0]}_selectWordAtCursor(S,j){var T,z;const k=(z=(T=this._linkifier.currentLink)===null||T===void 0?void 0:T.link)===null||z===void 0?void 0:z.range;if(k)return this._model.selectionStart=[k.start.x-1,k.start.y-1],this._model.selectionStartLength=(0,o.getRangeLength)(k,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const D=this._getMouseBufferCoords(S);return!!D&&(this._selectWordAt(D,j),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(S,j){this._model.clearSelection(),S=Math.max(S,0),j=Math.min(j,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,S],this._model.selectionEnd=[this._bufferService.cols,j],this.refresh(),this._onSelectionChange.fire()}_handleTrim(S){this._model.handleTrim(S)&&this.refresh()}_getMouseBufferCoords(S){const j=this._mouseService.getCoords(S,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(j)return j[0]--,j[1]--,j[1]+=this._bufferService.buffer.ydisp,j}_getMouseEventScrollAmount(S){let j=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,S,this._screenElement)[1];const T=this._renderService.dimensions.css.canvas.height;return j>=0&&j<=T?0:(j>T&&(j-=T),j=Math.min(Math.max(j,-50),50),j/=50,j/Math.abs(j)+Math.round(14*j))}shouldForceSelection(S){return u.isMac?S.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:S.shiftKey}handleMouseDown(S){if(this._mouseDownTimeStamp=S.timeStamp,(S.button!==2||!this.hasSelection)&&S.button===0){if(!this._enabled){if(!this.shouldForceSelection(S))return;S.stopPropagation()}S.preventDefault(),this._dragScrollAmount=0,this._enabled&&S.shiftKey?this._handleIncrementalClick(S):S.detail===1?this._handleSingleClick(S):S.detail===2?this._handleDoubleClick(S):S.detail===3&&this._handleTripleClick(S),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(S){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(S))}_handleSingleClick(S){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(S)?3:0,this._model.selectionStart=this._getMouseBufferCoords(S),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const j=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);j&&j.length!==this._model.selectionStart[0]&&j.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(S){this._selectWordAtCursor(S,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(S){const j=this._getMouseBufferCoords(S);j&&(this._activeSelectionMode=2,this._selectLineAt(j[1]))}shouldColumnSelect(S){return S.altKey&&!(u.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(S){if(S.stopImmediatePropagation(),!this._model.selectionStart)return;const j=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(S),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(S),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const T=this._bufferService.buffer;if(this._model.selectionEnd[1]<T.lines.length){const z=T.lines.get(this._model.selectionEnd[1]);z&&z.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}j&&j[0]===this._model.selectionEnd[0]&&j[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const S=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(S.ydisp+this._bufferService.rows,S.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=S.ydisp),this.refresh()}}_handleMouseUp(S){const j=S.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&j<500&&S.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const T=this._mouseService.getCoords(S,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(T&&T[0]!==void 0&&T[1]!==void 0){const z=(0,g.moveToCellSequence)(T[0]-1,T[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(z,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const S=this._model.finalSelectionStart,j=this._model.finalSelectionEnd,T=!(!S||!j||S[0]===j[0]&&S[1]===j[1]);T?S&&j&&(this._oldSelectionStart&&this._oldSelectionEnd&&S[0]===this._oldSelectionStart[0]&&S[1]===this._oldSelectionStart[1]&&j[0]===this._oldSelectionEnd[0]&&j[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(S,j,T)):this._oldHasSelection&&this._fireOnSelectionChange(S,j,T)}_fireOnSelectionChange(S,j,T){this._oldSelectionStart=S,this._oldSelectionEnd=j,this._oldHasSelection=T,this._onSelectionChange.fire()}_handleBufferActivate(S){this.clearSelection(),this._trimListener.dispose(),this._trimListener=S.activeBuffer.lines.onTrim(j=>this._handleTrim(j))}_convertViewportColToCharacterIndex(S,j){let T=j;for(let z=0;j>=z;z++){const k=S.loadCell(z,this._workCell).getChars().length;this._workCell.getWidth()===0?T--:k>1&&j!==z&&(T+=k-1)}return T}setSelection(S,j,T){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[S,j],this._model.selectionStartLength=T,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(S){this._isClickInSelection(S)||(this._selectWordAtCursor(S,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(S,j,T=!0,z=!0){if(S[0]>=this._bufferService.cols)return;const k=this._bufferService.buffer,D=k.lines.get(S[1]);if(!D)return;const P=k.translateBufferLineToString(S[1],!1);let W=this._convertViewportColToCharacterIndex(D,S[0]),H=W;const I=S[0]-W;let A=0,R=0,M=0,L=0;if(P.charAt(W)===" "){for(;W>0&&P.charAt(W-1)===" ";)W--;for(;H<P.length&&P.charAt(H+1)===" ";)H++}else{let X=S[0],J=S[0];D.getWidth(X)===0&&(A++,X--),D.getWidth(J)===2&&(R++,J++);const re=D.getString(J).length;for(re>1&&(L+=re-1,H+=re-1);X>0&&W>0&&!this._isCharWordSeparator(D.loadCell(X-1,this._workCell));){D.loadCell(X-1,this._workCell);const N=this._workCell.getChars().length;this._workCell.getWidth()===0?(A++,X--):N>1&&(M+=N-1,W-=N-1),W--,X--}for(;J<D.length&&H+1<P.length&&!this._isCharWordSeparator(D.loadCell(J+1,this._workCell));){D.loadCell(J+1,this._workCell);const N=this._workCell.getChars().length;this._workCell.getWidth()===2?(R++,J++):N>1&&(L+=N-1,H+=N-1),H++,J++}}H++;let K=W+I-A+M,G=Math.min(this._bufferService.cols,H-W+A+R-M-L);if(j||P.slice(W,H).trim()!==""){if(T&&K===0&&D.getCodePoint(0)!==32){const X=k.lines.get(S[1]-1);if(X&&D.isWrapped&&X.getCodePoint(this._bufferService.cols-1)!==32){const J=this._getWordAt([this._bufferService.cols-1,S[1]-1],!1,!0,!1);if(J){const re=this._bufferService.cols-J.start;K-=re,G+=re}}}if(z&&K+G===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const X=k.lines.get(S[1]+1);if(X!=null&&X.isWrapped&&X.getCodePoint(0)!==32){const J=this._getWordAt([0,S[1]+1],!1,!1,!0);J&&(G+=J.length)}}return{start:K,length:G}}}_selectWordAt(S,j){const T=this._getWordAt(S,j);if(T){for(;T.start<0;)T.start+=this._bufferService.cols,S[1]--;this._model.selectionStart=[T.start,S[1]],this._model.selectionStartLength=T.length}}_selectToWordAt(S){const j=this._getWordAt(S,!0);if(j){let T=S[1];for(;j.start<0;)j.start+=this._bufferService.cols,T--;if(!this._model.areSelectionValuesReversed())for(;j.start+j.length>this._bufferService.cols;)j.length-=this._bufferService.cols,T++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?j.start:j.start+j.length,T]}}_isCharWordSeparator(S){return S.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(S.getChars())>=0}_selectLineAt(S){const j=this._bufferService.buffer.getWrappedRangeForLine(S),T={start:{x:0,y:j.first},end:{x:this._bufferService.cols-1,y:j.last}};this._model.selectionStart=[0,j.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,o.getRangeLength)(T,this._bufferService.cols)}};n.SelectionService=E=p([b(3,_.IBufferService),b(4,_.ICoreService),b(5,C.IMouseService),b(6,_.IOptionsService),b(7,C.IRenderService),b(8,C.ICoreBrowserService)],E)},4725:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IThemeService=n.ICharacterJoinerService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;const p=c(8343);n.ICharSizeService=(0,p.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,p.createDecorator)("CoreBrowserService"),n.IMouseService=(0,p.createDecorator)("MouseService"),n.IRenderService=(0,p.createDecorator)("RenderService"),n.ISelectionService=(0,p.createDecorator)("SelectionService"),n.ICharacterJoinerService=(0,p.createDecorator)("CharacterJoinerService"),n.IThemeService=(0,p.createDecorator)("ThemeService")},6731:function(m,n,c){var p=this&&this.__decorate||function(E,S,j,T){var z,k=arguments.length,D=k<3?S:T===null?T=Object.getOwnPropertyDescriptor(S,j):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(E,S,j,T);else for(var P=E.length-1;P>=0;P--)(z=E[P])&&(D=(k<3?z(D):k>3?z(S,j,D):z(S,j))||D);return k>3&&D&&Object.defineProperty(S,j,D),D},b=this&&this.__param||function(E,S){return function(j,T){S(j,T,E)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeService=n.DEFAULT_ANSI_COLORS=void 0;const f=c(7239),g=c(8055),y=c(8460),C=c(844),x=c(2585),h=g.css.toColor("#ffffff"),u=g.css.toColor("#000000"),o=g.css.toColor("#ffffff"),d=g.css.toColor("#000000"),_={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],S=[0,95,135,175,215,255];for(let j=0;j<216;j++){const T=S[j/36%6|0],z=S[j/6%6|0],k=S[j%6];E.push({css:g.channels.toCss(T,z,k),rgba:g.channels.toRgba(T,z,k)})}for(let j=0;j<24;j++){const T=8+10*j;E.push({css:g.channels.toCss(T,T,T),rgba:g.channels.toRgba(T,T,T)})}return E})());let v=n.ThemeService=class extends C.Disposable{get colors(){return this._colors}constructor(E){super(),this._optionsService=E,this._contrastCache=new f.ColorContrastCache,this._halfContrastCache=new f.ColorContrastCache,this._onChangeColors=this.register(new y.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:h,background:u,cursor:o,cursorAccent:d,selectionForeground:void 0,selectionBackgroundTransparent:_,selectionBackgroundOpaque:g.color.blend(u,_),selectionInactiveBackgroundTransparent:_,selectionInactiveBackgroundOpaque:g.color.blend(u,_),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(E={}){const S=this._colors;if(S.foreground=w(E.foreground,h),S.background=w(E.background,u),S.cursor=w(E.cursor,o),S.cursorAccent=w(E.cursorAccent,d),S.selectionBackgroundTransparent=w(E.selectionBackground,_),S.selectionBackgroundOpaque=g.color.blend(S.background,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundTransparent=w(E.selectionInactiveBackground,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundOpaque=g.color.blend(S.background,S.selectionInactiveBackgroundTransparent),S.selectionForeground=E.selectionForeground?w(E.selectionForeground,g.NULL_COLOR):void 0,S.selectionForeground===g.NULL_COLOR&&(S.selectionForeground=void 0),g.color.isOpaque(S.selectionBackgroundTransparent)&&(S.selectionBackgroundTransparent=g.color.opacity(S.selectionBackgroundTransparent,.3)),g.color.isOpaque(S.selectionInactiveBackgroundTransparent)&&(S.selectionInactiveBackgroundTransparent=g.color.opacity(S.selectionInactiveBackgroundTransparent,.3)),S.ansi=n.DEFAULT_ANSI_COLORS.slice(),S.ansi[0]=w(E.black,n.DEFAULT_ANSI_COLORS[0]),S.ansi[1]=w(E.red,n.DEFAULT_ANSI_COLORS[1]),S.ansi[2]=w(E.green,n.DEFAULT_ANSI_COLORS[2]),S.ansi[3]=w(E.yellow,n.DEFAULT_ANSI_COLORS[3]),S.ansi[4]=w(E.blue,n.DEFAULT_ANSI_COLORS[4]),S.ansi[5]=w(E.magenta,n.DEFAULT_ANSI_COLORS[5]),S.ansi[6]=w(E.cyan,n.DEFAULT_ANSI_COLORS[6]),S.ansi[7]=w(E.white,n.DEFAULT_ANSI_COLORS[7]),S.ansi[8]=w(E.brightBlack,n.DEFAULT_ANSI_COLORS[8]),S.ansi[9]=w(E.brightRed,n.DEFAULT_ANSI_COLORS[9]),S.ansi[10]=w(E.brightGreen,n.DEFAULT_ANSI_COLORS[10]),S.ansi[11]=w(E.brightYellow,n.DEFAULT_ANSI_COLORS[11]),S.ansi[12]=w(E.brightBlue,n.DEFAULT_ANSI_COLORS[12]),S.ansi[13]=w(E.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),S.ansi[14]=w(E.brightCyan,n.DEFAULT_ANSI_COLORS[14]),S.ansi[15]=w(E.brightWhite,n.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const j=Math.min(S.ansi.length-16,E.extendedAnsi.length);for(let T=0;T<j;T++)S.ansi[T+16]=w(E.extendedAnsi[T],n.DEFAULT_ANSI_COLORS[T+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let S=0;S<this._restoreColors.ansi.length;++S)this._colors.ansi[S]=this._restoreColors.ansi[S]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function w(E,S){if(E!==void 0)try{return g.css.toColor(E)}catch{}return S}n.ThemeService=v=p([b(0,x.IOptionsService)],v)},6349:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;const p=c(8460),b=c(844);class f extends b.Disposable{constructor(y){super(),this._maxLength=y,this.onDeleteEmitter=this.register(new p.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new p.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new p.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(y){if(this._maxLength===y)return;const C=new Array(y);for(let x=0;x<Math.min(y,this.length);x++)C[x]=this._array[this._getCyclicIndex(x)];this._array=C,this._maxLength=y,this._startIndex=0}get length(){return this._length}set length(y){if(y>this._length)for(let C=this._length;C<y;C++)this._array[C]=void 0;this._length=y}get(y){return this._array[this._getCyclicIndex(y)]}set(y,C){this._array[this._getCyclicIndex(y)]=C}push(y){this._array[this._getCyclicIndex(this._length)]=y,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(y,C,...x){if(C){for(let h=y;h<this._length-C;h++)this._array[this._getCyclicIndex(h)]=this._array[this._getCyclicIndex(h+C)];this._length-=C,this.onDeleteEmitter.fire({index:y,amount:C})}for(let h=this._length-1;h>=y;h--)this._array[this._getCyclicIndex(h+x.length)]=this._array[this._getCyclicIndex(h)];for(let h=0;h<x.length;h++)this._array[this._getCyclicIndex(y+h)]=x[h];if(x.length&&this.onInsertEmitter.fire({index:y,amount:x.length}),this._length+x.length>this._maxLength){const h=this._length+x.length-this._maxLength;this._startIndex+=h,this._length=this._maxLength,this.onTrimEmitter.fire(h)}else this._length+=x.length}trimStart(y){y>this._length&&(y=this._length),this._startIndex+=y,this._length-=y,this.onTrimEmitter.fire(y)}shiftElements(y,C,x){if(!(C<=0)){if(y<0||y>=this._length)throw new Error("start argument out of range");if(y+x<0)throw new Error("Cannot shift elements in list beyond index 0");if(x>0){for(let u=C-1;u>=0;u--)this.set(y+u+x,this.get(y+u));const h=y+C+x-this._length;if(h>0)for(this._length+=h;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let h=0;h<C;h++)this.set(y+h+x,this.get(y+h))}}_getCyclicIndex(y){return(this._startIndex+y)%this._maxLength}}n.CircularList=f},1439:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function c(p,b=5){if(typeof p!="object")return p;const f=Array.isArray(p)?[]:{};for(const g in p)f[g]=b<=1?p[g]:p[g]&&c(p[g],b-1);return f}},8055:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=n.NULL_COLOR=void 0;const p=c(6114);let b=0,f=0,g=0,y=0;var C,x,h,u,o;function d(v){const w=v.toString(16);return w.length<2?"0"+w:w}function _(v,w){return v<w?(w+.05)/(v+.05):(v+.05)/(w+.05)}n.NULL_COLOR={css:"#00000000",rgba:0},function(v){v.toCss=function(w,E,S,j){return j!==void 0?`#${d(w)}${d(E)}${d(S)}${d(j)}`:`#${d(w)}${d(E)}${d(S)}`},v.toRgba=function(w,E,S,j=255){return(w<<24|E<<16|S<<8|j)>>>0}}(C||(n.channels=C={})),function(v){function w(E,S){return y=Math.round(255*S),[b,f,g]=o.toChannels(E.rgba),{css:C.toCss(b,f,g,y),rgba:C.toRgba(b,f,g,y)}}v.blend=function(E,S){if(y=(255&S.rgba)/255,y===1)return{css:S.css,rgba:S.rgba};const j=S.rgba>>24&255,T=S.rgba>>16&255,z=S.rgba>>8&255,k=E.rgba>>24&255,D=E.rgba>>16&255,P=E.rgba>>8&255;return b=k+Math.round((j-k)*y),f=D+Math.round((T-D)*y),g=P+Math.round((z-P)*y),{css:C.toCss(b,f,g),rgba:C.toRgba(b,f,g)}},v.isOpaque=function(E){return(255&E.rgba)==255},v.ensureContrastRatio=function(E,S,j){const T=o.ensureContrastRatio(E.rgba,S.rgba,j);if(T)return o.toColor(T>>24&255,T>>16&255,T>>8&255)},v.opaque=function(E){const S=(255|E.rgba)>>>0;return[b,f,g]=o.toChannels(S),{css:C.toCss(b,f,g),rgba:S}},v.opacity=w,v.multiplyOpacity=function(E,S){return y=255&E.rgba,w(E,y*S/255)},v.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]}}(x||(n.color=x={})),function(v){let w,E;if(!p.isNode){const S=document.createElement("canvas");S.width=1,S.height=1;const j=S.getContext("2d",{willReadFrequently:!0});j&&(w=j,w.globalCompositeOperation="copy",E=w.createLinearGradient(0,0,1,1))}v.toColor=function(S){if(S.match(/#[\da-f]{3,8}/i))switch(S.length){case 4:return b=parseInt(S.slice(1,2).repeat(2),16),f=parseInt(S.slice(2,3).repeat(2),16),g=parseInt(S.slice(3,4).repeat(2),16),o.toColor(b,f,g);case 5:return b=parseInt(S.slice(1,2).repeat(2),16),f=parseInt(S.slice(2,3).repeat(2),16),g=parseInt(S.slice(3,4).repeat(2),16),y=parseInt(S.slice(4,5).repeat(2),16),o.toColor(b,f,g,y);case 7:return{css:S,rgba:(parseInt(S.slice(1),16)<<8|255)>>>0};case 9:return{css:S,rgba:parseInt(S.slice(1),16)>>>0}}const j=S.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(j)return b=parseInt(j[1]),f=parseInt(j[2]),g=parseInt(j[3]),y=Math.round(255*(j[5]===void 0?1:parseFloat(j[5]))),o.toColor(b,f,g,y);if(!w||!E)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=E,w.fillStyle=S,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[b,f,g,y]=w.getImageData(0,0,1,1).data,y!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:C.toRgba(b,f,g,y),css:S}}}(h||(n.css=h={})),function(v){function w(E,S,j){const T=E/255,z=S/255,k=j/255;return .2126*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))+.7152*(z<=.03928?z/12.92:Math.pow((z+.055)/1.055,2.4))+.0722*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))}v.relativeLuminance=function(E){return w(E>>16&255,E>>8&255,255&E)},v.relativeLuminance2=w}(u||(n.rgb=u={})),function(v){function w(S,j,T){const z=S>>24&255,k=S>>16&255,D=S>>8&255;let P=j>>24&255,W=j>>16&255,H=j>>8&255,I=_(u.relativeLuminance2(P,W,H),u.relativeLuminance2(z,k,D));for(;I<T&&(P>0||W>0||H>0);)P-=Math.max(0,Math.ceil(.1*P)),W-=Math.max(0,Math.ceil(.1*W)),H-=Math.max(0,Math.ceil(.1*H)),I=_(u.relativeLuminance2(P,W,H),u.relativeLuminance2(z,k,D));return(P<<24|W<<16|H<<8|255)>>>0}function E(S,j,T){const z=S>>24&255,k=S>>16&255,D=S>>8&255;let P=j>>24&255,W=j>>16&255,H=j>>8&255,I=_(u.relativeLuminance2(P,W,H),u.relativeLuminance2(z,k,D));for(;I<T&&(P<255||W<255||H<255);)P=Math.min(255,P+Math.ceil(.1*(255-P))),W=Math.min(255,W+Math.ceil(.1*(255-W))),H=Math.min(255,H+Math.ceil(.1*(255-H))),I=_(u.relativeLuminance2(P,W,H),u.relativeLuminance2(z,k,D));return(P<<24|W<<16|H<<8|255)>>>0}v.ensureContrastRatio=function(S,j,T){const z=u.relativeLuminance(S>>8),k=u.relativeLuminance(j>>8);if(_(z,k)<T){if(k<z){const W=w(S,j,T),H=_(z,u.relativeLuminance(W>>8));if(H<T){const I=E(S,j,T);return H>_(z,u.relativeLuminance(I>>8))?W:I}return W}const D=E(S,j,T),P=_(z,u.relativeLuminance(D>>8));if(P<T){const W=w(S,j,T);return P>_(z,u.relativeLuminance(W>>8))?D:W}return D}},v.reduceLuminance=w,v.increaseLuminance=E,v.toChannels=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},v.toColor=function(S,j,T,z){return{css:C.toCss(S,j,T,z),rgba:C.toRgba(S,j,T,z)}}}(o||(n.rgba=o={})),n.toPaddedHex=d,n.contrastRatio=_},8969:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;const p=c(844),b=c(2585),f=c(4348),g=c(7866),y=c(744),C=c(7302),x=c(6975),h=c(8460),u=c(1753),o=c(1480),d=c(7994),_=c(9282),v=c(5435),w=c(5981),E=c(2660);let S=!1;class j extends p.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new h.EventEmitter),this._onScroll.event(z=>{var k;(k=this._onScrollApi)===null||k===void 0||k.fire(z.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(z){for(const k in z)this.optionsService.options[k]=z[k]}constructor(z){super(),this._windowsWrappingHeuristics=this.register(new p.MutableDisposable),this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new h.EventEmitter),this._instantiationService=new f.InstantiationService,this.optionsService=this.register(new C.OptionsService(z)),this._instantiationService.setService(b.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(y.BufferService)),this._instantiationService.setService(b.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(b.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(b.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(u.CoreMouseService)),this._instantiationService.setService(b.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(o.UnicodeService)),this._instantiationService.setService(b.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(d.CharsetService),this._instantiationService.setService(b.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(b.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new v.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,h.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,h.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,h.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,h.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new w.WriteBuffer((k,D)=>this._inputHandler.parse(k,D))),this.register((0,h.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(z,k){this._writeBuffer.write(z,k)}writeSync(z,k){this._logService.logLevel<=b.LogLevelEnum.WARN&&!S&&(this._logService.warn("writeSync is unreliable and will be removed soon."),S=!0),this._writeBuffer.writeSync(z,k)}resize(z,k){isNaN(z)||isNaN(k)||(z=Math.max(z,y.MINIMUM_COLS),k=Math.max(k,y.MINIMUM_ROWS),this._bufferService.resize(z,k))}scroll(z,k=!1){this._bufferService.scroll(z,k)}scrollLines(z,k,D){this._bufferService.scrollLines(z,k,D)}scrollPages(z){this.scrollLines(z*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(z){const k=z-this._bufferService.buffer.ydisp;k!==0&&this.scrollLines(k)}registerEscHandler(z,k){return this._inputHandler.registerEscHandler(z,k)}registerDcsHandler(z,k){return this._inputHandler.registerDcsHandler(z,k)}registerCsiHandler(z,k){return this._inputHandler.registerCsiHandler(z,k)}registerOscHandler(z,k){return this._inputHandler.registerOscHandler(z,k)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let z=!1;const k=this.optionsService.rawOptions.windowsPty;k&&k.buildNumber!==void 0&&k.buildNumber!==void 0?z=k.backend==="conpty"&&k.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(z=!0),z?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const z=[];z.push(this.onLineFeed(_.updateWindowsModeWrappedState.bind(null,this._bufferService))),z.push(this.registerCsiHandler({final:"H"},()=>((0,_.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,p.toDisposable)(()=>{for(const k of z)k.dispose()})}}}n.CoreTerminal=j},8460:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.forwardEvent=n.EventEmitter=void 0,n.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let p=0;p<this._listeners.length;p++)if(this._listeners[p]===c)return void this._listeners.splice(p,1)}}})),this._event}fire(c,p){const b=[];for(let f=0;f<this._listeners.length;f++)b.push(this._listeners[f]);for(let f=0;f<b.length;f++)b[f].call(void 0,c,p)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},n.forwardEvent=function(c,p){return c(b=>p.fire(b))}},5435:function(m,n,c){var p=this&&this.__decorate||function(I,A,R,M){var L,K=arguments.length,G=K<3?A:M===null?M=Object.getOwnPropertyDescriptor(A,R):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(I,A,R,M);else for(var X=I.length-1;X>=0;X--)(L=I[X])&&(G=(K<3?L(G):K>3?L(A,R,G):L(A,R))||G);return K>3&&G&&Object.defineProperty(A,R,G),G},b=this&&this.__param||function(I,A){return function(R,M){A(R,M,I)}};Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;const f=c(2584),g=c(7116),y=c(2015),C=c(844),x=c(482),h=c(8437),u=c(8460),o=c(643),d=c(511),_=c(3734),v=c(2585),w=c(6242),E=c(6351),S=c(5941),j={"(":0,")":1,"*":2,"+":3,"-":1,".":2},T=131072;function z(I,A){if(I>24)return A.setWinLines||!1;switch(I){case 1:return!!A.restoreWin;case 2:return!!A.minimizeWin;case 3:return!!A.setWinPosition;case 4:return!!A.setWinSizePixels;case 5:return!!A.raiseWin;case 6:return!!A.lowerWin;case 7:return!!A.refreshWin;case 8:return!!A.setWinSizeChars;case 9:return!!A.maximizeWin;case 10:return!!A.fullscreenWin;case 11:return!!A.getWinState;case 13:return!!A.getWinPosition;case 14:return!!A.getWinSizePixels;case 15:return!!A.getScreenSizePixels;case 16:return!!A.getCellSizePixels;case 18:return!!A.getWinSizeChars;case 19:return!!A.getScreenSizeChars;case 20:return!!A.getIconTitle;case 21:return!!A.getWinTitle;case 22:return!!A.pushTitle;case 23:return!!A.popTitle;case 24:return!!A.setWinLines}return!1}var k;(function(I){I[I.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",I[I.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(k||(n.WindowsOptionsReportType=k={}));let D=0;class P extends C.Disposable{getAttrData(){return this._curAttrData}constructor(A,R,M,L,K,G,X,J,re=new y.EscapeSequenceParser){super(),this._bufferService=A,this._charsetService=R,this._coreService=M,this._logService=L,this._optionsService=K,this._oscLinkService=G,this._coreMouseService=X,this._unicodeService=J,this._parser=re,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new u.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new u.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new u.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new u.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new u.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new u.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new u.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new u.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new u.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new u.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new u.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new W(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(N=>this._activeBuffer=N.activeBuffer)),this._parser.setCsiHandlerFallback((N,F)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(N),params:F.toArray()})}),this._parser.setEscHandlerFallback(N=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(N)})}),this._parser.setExecuteHandlerFallback(N=>{this._logService.debug("Unknown EXECUTE code: ",{code:N})}),this._parser.setOscHandlerFallback((N,F,V)=>{this._logService.debug("Unknown OSC code: ",{identifier:N,action:F,data:V})}),this._parser.setDcsHandlerFallback((N,F,V)=>{F==="HOOK"&&(V=V.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(N),action:F,payload:V})}),this._parser.setPrintHandler((N,F,V)=>this.print(N,F,V)),this._parser.registerCsiHandler({final:"@"},N=>this.insertChars(N)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},N=>this.scrollLeft(N)),this._parser.registerCsiHandler({final:"A"},N=>this.cursorUp(N)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},N=>this.scrollRight(N)),this._parser.registerCsiHandler({final:"B"},N=>this.cursorDown(N)),this._parser.registerCsiHandler({final:"C"},N=>this.cursorForward(N)),this._parser.registerCsiHandler({final:"D"},N=>this.cursorBackward(N)),this._parser.registerCsiHandler({final:"E"},N=>this.cursorNextLine(N)),this._parser.registerCsiHandler({final:"F"},N=>this.cursorPrecedingLine(N)),this._parser.registerCsiHandler({final:"G"},N=>this.cursorCharAbsolute(N)),this._parser.registerCsiHandler({final:"H"},N=>this.cursorPosition(N)),this._parser.registerCsiHandler({final:"I"},N=>this.cursorForwardTab(N)),this._parser.registerCsiHandler({final:"J"},N=>this.eraseInDisplay(N,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},N=>this.eraseInDisplay(N,!0)),this._parser.registerCsiHandler({final:"K"},N=>this.eraseInLine(N,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},N=>this.eraseInLine(N,!0)),this._parser.registerCsiHandler({final:"L"},N=>this.insertLines(N)),this._parser.registerCsiHandler({final:"M"},N=>this.deleteLines(N)),this._parser.registerCsiHandler({final:"P"},N=>this.deleteChars(N)),this._parser.registerCsiHandler({final:"S"},N=>this.scrollUp(N)),this._parser.registerCsiHandler({final:"T"},N=>this.scrollDown(N)),this._parser.registerCsiHandler({final:"X"},N=>this.eraseChars(N)),this._parser.registerCsiHandler({final:"Z"},N=>this.cursorBackwardTab(N)),this._parser.registerCsiHandler({final:"`"},N=>this.charPosAbsolute(N)),this._parser.registerCsiHandler({final:"a"},N=>this.hPositionRelative(N)),this._parser.registerCsiHandler({final:"b"},N=>this.repeatPrecedingCharacter(N)),this._parser.registerCsiHandler({final:"c"},N=>this.sendDeviceAttributesPrimary(N)),this._parser.registerCsiHandler({prefix:">",final:"c"},N=>this.sendDeviceAttributesSecondary(N)),this._parser.registerCsiHandler({final:"d"},N=>this.linePosAbsolute(N)),this._parser.registerCsiHandler({final:"e"},N=>this.vPositionRelative(N)),this._parser.registerCsiHandler({final:"f"},N=>this.hVPosition(N)),this._parser.registerCsiHandler({final:"g"},N=>this.tabClear(N)),this._parser.registerCsiHandler({final:"h"},N=>this.setMode(N)),this._parser.registerCsiHandler({prefix:"?",final:"h"},N=>this.setModePrivate(N)),this._parser.registerCsiHandler({final:"l"},N=>this.resetMode(N)),this._parser.registerCsiHandler({prefix:"?",final:"l"},N=>this.resetModePrivate(N)),this._parser.registerCsiHandler({final:"m"},N=>this.charAttributes(N)),this._parser.registerCsiHandler({final:"n"},N=>this.deviceStatus(N)),this._parser.registerCsiHandler({prefix:"?",final:"n"},N=>this.deviceStatusPrivate(N)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},N=>this.softReset(N)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},N=>this.setCursorStyle(N)),this._parser.registerCsiHandler({final:"r"},N=>this.setScrollRegion(N)),this._parser.registerCsiHandler({final:"s"},N=>this.saveCursor(N)),this._parser.registerCsiHandler({final:"t"},N=>this.windowOptions(N)),this._parser.registerCsiHandler({final:"u"},N=>this.restoreCursor(N)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},N=>this.insertColumns(N)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},N=>this.deleteColumns(N)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},N=>this.selectProtected(N)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},N=>this.requestMode(N,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},N=>this.requestMode(N,!1)),this._parser.setExecuteHandler(f.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(f.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(f.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(f.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(f.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(f.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(f.C1.IND,()=>this.index()),this._parser.setExecuteHandler(f.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(f.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new w.OscHandler(N=>(this.setTitle(N),this.setIconName(N),!0))),this._parser.registerOscHandler(1,new w.OscHandler(N=>this.setIconName(N))),this._parser.registerOscHandler(2,new w.OscHandler(N=>this.setTitle(N))),this._parser.registerOscHandler(4,new w.OscHandler(N=>this.setOrReportIndexedColor(N))),this._parser.registerOscHandler(8,new w.OscHandler(N=>this.setHyperlink(N))),this._parser.registerOscHandler(10,new w.OscHandler(N=>this.setOrReportFgColor(N))),this._parser.registerOscHandler(11,new w.OscHandler(N=>this.setOrReportBgColor(N))),this._parser.registerOscHandler(12,new w.OscHandler(N=>this.setOrReportCursorColor(N))),this._parser.registerOscHandler(104,new w.OscHandler(N=>this.restoreIndexedColor(N))),this._parser.registerOscHandler(110,new w.OscHandler(N=>this.restoreFgColor(N))),this._parser.registerOscHandler(111,new w.OscHandler(N=>this.restoreBgColor(N))),this._parser.registerOscHandler(112,new w.OscHandler(N=>this.restoreCursorColor(N))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const N in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:N},()=>this.selectCharset("("+N)),this._parser.registerEscHandler({intermediates:")",final:N},()=>this.selectCharset(")"+N)),this._parser.registerEscHandler({intermediates:"*",final:N},()=>this.selectCharset("*"+N)),this._parser.registerEscHandler({intermediates:"+",final:N},()=>this.selectCharset("+"+N)),this._parser.registerEscHandler({intermediates:"-",final:N},()=>this.selectCharset("-"+N)),this._parser.registerEscHandler({intermediates:".",final:N},()=>this.selectCharset("."+N)),this._parser.registerEscHandler({intermediates:"/",final:N},()=>this.selectCharset("/"+N));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(N=>(this._logService.error("Parsing error: ",N),N)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new E.DcsHandler((N,F)=>this.requestStatusString(N,F)))}_preserveStack(A,R,M,L){this._parseStack.paused=!0,this._parseStack.cursorStartX=A,this._parseStack.cursorStartY=R,this._parseStack.decodedLength=M,this._parseStack.position=L}_logSlowResolvingAsync(A){this._logService.logLevel<=v.LogLevelEnum.WARN&&Promise.race([A,new Promise((R,M)=>setTimeout(()=>M("#SLOW_TIMEOUT"),5e3))]).catch(R=>{if(R!=="#SLOW_TIMEOUT")throw R;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(A,R){let M,L=this._activeBuffer.x,K=this._activeBuffer.y,G=0;const X=this._parseStack.paused;if(X){if(M=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,R))return this._logSlowResolvingAsync(M),M;L=this._parseStack.cursorStartX,K=this._parseStack.cursorStartY,this._parseStack.paused=!1,A.length>T&&(G=this._parseStack.position+T)}if(this._logService.logLevel<=v.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof A=="string"?` "${A}"`:` "${Array.prototype.map.call(A,J=>String.fromCharCode(J)).join("")}"`),typeof A=="string"?A.split("").map(J=>J.charCodeAt(0)):A),this._parseBuffer.length<A.length&&this._parseBuffer.length<T&&(this._parseBuffer=new Uint32Array(Math.min(A.length,T))),X||this._dirtyRowTracker.clearRange(),A.length>T)for(let J=G;J<A.length;J+=T){const re=J+T<A.length?J+T:A.length,N=typeof A=="string"?this._stringDecoder.decode(A.substring(J,re),this._parseBuffer):this._utf8Decoder.decode(A.subarray(J,re),this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,N))return this._preserveStack(L,K,N,J),this._logSlowResolvingAsync(M),M}else if(!X){const J=typeof A=="string"?this._stringDecoder.decode(A,this._parseBuffer):this._utf8Decoder.decode(A,this._parseBuffer);if(M=this._parser.parse(this._parseBuffer,J))return this._preserveStack(L,K,J,0),this._logSlowResolvingAsync(M),M}this._activeBuffer.x===L&&this._activeBuffer.y===K||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(A,R,M){let L,K;const G=this._charsetService.charset,X=this._optionsService.rawOptions.screenReaderMode,J=this._bufferService.cols,re=this._coreService.decPrivateModes.wraparound,N=this._coreService.modes.insertMode,F=this._curAttrData;let V=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&M-R>0&&V.getWidth(this._activeBuffer.x-1)===2&&V.setCellFromCodePoint(this._activeBuffer.x-1,0,1,F.fg,F.bg,F.extended);for(let O=R;O<M;++O){if(L=A[O],K=this._unicodeService.wcwidth(L),L<127&&G){const B=G[String.fromCharCode(L)];B&&(L=B.charCodeAt(0))}if(X&&this._onA11yChar.fire((0,x.stringFromCodePoint)(L)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),K||!this._activeBuffer.x){if(this._activeBuffer.x+K-1>=J){if(re){for(;this._activeBuffer.x<J;)V.setCellFromCodePoint(this._activeBuffer.x++,0,1,F.fg,F.bg,F.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),V=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=J-1,K===2)continue}if(N&&(V.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(F),F),V.getWidth(J-1)===2&&V.setCellFromCodePoint(J-1,o.NULL_CELL_CODE,o.NULL_CELL_WIDTH,F.fg,F.bg,F.extended)),V.setCellFromCodePoint(this._activeBuffer.x++,L,K,F.fg,F.bg,F.extended),K>0)for(;--K;)V.setCellFromCodePoint(this._activeBuffer.x++,0,0,F.fg,F.bg,F.extended)}else V.getWidth(this._activeBuffer.x-1)?V.addCodepointToCell(this._activeBuffer.x-1,L):V.addCodepointToCell(this._activeBuffer.x-2,L)}M-R>0&&(V.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<J&&M-R>0&&V.getWidth(this._activeBuffer.x)===0&&!V.hasContent(this._activeBuffer.x)&&V.setCellFromCodePoint(this._activeBuffer.x,0,1,F.fg,F.bg,F.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(A,R){return A.final!=="t"||A.prefix||A.intermediates?this._parser.registerCsiHandler(A,R):this._parser.registerCsiHandler(A,M=>!z(M.params[0],this._optionsService.rawOptions.windowOptions)||R(M))}registerDcsHandler(A,R){return this._parser.registerDcsHandler(A,new E.DcsHandler(R))}registerEscHandler(A,R){return this._parser.registerEscHandler(A,R)}registerOscHandler(A,R){return this._parser.registerOscHandler(A,new w.OscHandler(R))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var A;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||A===void 0)&&A.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);R.hasWidth(this._activeBuffer.x)&&!R.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const A=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-A),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(A=this._bufferService.cols-1){this._activeBuffer.x=Math.min(A,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(A,R){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=A,this._activeBuffer.y=this._activeBuffer.scrollTop+R):(this._activeBuffer.x=A,this._activeBuffer.y=R),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(A,R){this._restrictCursor(),this._setCursor(this._activeBuffer.x+A,this._activeBuffer.y+R)}cursorUp(A){const R=this._activeBuffer.y-this._activeBuffer.scrollTop;return R>=0?this._moveCursor(0,-Math.min(R,A.params[0]||1)):this._moveCursor(0,-(A.params[0]||1)),!0}cursorDown(A){const R=this._activeBuffer.scrollBottom-this._activeBuffer.y;return R>=0?this._moveCursor(0,Math.min(R,A.params[0]||1)):this._moveCursor(0,A.params[0]||1),!0}cursorForward(A){return this._moveCursor(A.params[0]||1,0),!0}cursorBackward(A){return this._moveCursor(-(A.params[0]||1),0),!0}cursorNextLine(A){return this.cursorDown(A),this._activeBuffer.x=0,!0}cursorPrecedingLine(A){return this.cursorUp(A),this._activeBuffer.x=0,!0}cursorCharAbsolute(A){return this._setCursor((A.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(A){return this._setCursor(A.length>=2?(A.params[1]||1)-1:0,(A.params[0]||1)-1),!0}charPosAbsolute(A){return this._setCursor((A.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(A){return this._moveCursor(A.params[0]||1,0),!0}linePosAbsolute(A){return this._setCursor(this._activeBuffer.x,(A.params[0]||1)-1),!0}vPositionRelative(A){return this._moveCursor(0,A.params[0]||1),!0}hVPosition(A){return this.cursorPosition(A),!0}tabClear(A){const R=A.params[0];return R===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:R===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(A){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=A.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(A){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=A.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(A){const R=A.params[0];return R===1&&(this._curAttrData.bg|=536870912),R!==2&&R!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(A,R,M,L=!1,K=!1){const G=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);G.replaceCells(R,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),K),L&&(G.isWrapped=!1)}_resetBufferLine(A,R=!1){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);M&&(M.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),R),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+A),M.isWrapped=!1)}eraseInDisplay(A,R=!1){let M;switch(this._restrictCursor(this._bufferService.cols),A.params[0]){case 0:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);M<this._bufferService.rows;M++)this._resetBufferLine(M,R);this._dirtyRowTracker.markDirty(M);break;case 1:for(M=this._activeBuffer.y,this._dirtyRowTracker.markDirty(M),this._eraseInBufferLine(M,0,this._activeBuffer.x+1,!0,R),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(M+1).isWrapped=!1);M--;)this._resetBufferLine(M,R);this._dirtyRowTracker.markDirty(0);break;case 2:for(M=this._bufferService.rows,this._dirtyRowTracker.markDirty(M-1);M--;)this._resetBufferLine(M,R);this._dirtyRowTracker.markDirty(0);break;case 3:const L=this._activeBuffer.lines.length-this._bufferService.rows;L>0&&(this._activeBuffer.lines.trimStart(L),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-L,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-L,0),this._onScroll.fire(0))}return!0}eraseInLine(A,R=!1){switch(this._restrictCursor(this._bufferService.cols),A.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,R);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,R)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(A){this._restrictCursor();let R=A.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y,L=this._bufferService.rows-1-this._activeBuffer.scrollBottom,K=this._bufferService.rows-1+this._activeBuffer.ybase-L+1;for(;R--;)this._activeBuffer.lines.splice(K-1,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(A){this._restrictCursor();let R=A.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=this._activeBuffer.ybase+this._activeBuffer.y;let L;for(L=this._bufferService.rows-1-this._activeBuffer.scrollBottom,L=this._bufferService.rows-1+this._activeBuffer.ybase-L;R--;)this._activeBuffer.lines.splice(M,1),this._activeBuffer.lines.splice(L,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(A){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.insertCells(this._activeBuffer.x,A.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(A){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.deleteCells(this._activeBuffer.x,A.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(A){let R=A.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(A){let R=A.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=A.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);L.deleteCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),L.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=A.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);L.insertCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),L.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=A.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);L.insertCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),L.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(A){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=A.params[0]||1;for(let M=this._activeBuffer.scrollTop;M<=this._activeBuffer.scrollBottom;++M){const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);L.deleteCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),L.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(A){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(A.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(A){if(!this._parser.precedingCodepoint)return!0;const R=A.params[0]||1,M=new Uint32Array(R);for(let L=0;L<R;++L)M[L]=this._parser.precedingCodepoint;return this.print(M,0,M.length),!0}sendDeviceAttributesPrimary(A){return A.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(A){return A.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(A.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0}_is(A){return(this._optionsService.rawOptions.termName+"").indexOf(A)===0}setMode(A){for(let R=0;R<A.length;R++)switch(A.params[R]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(A){for(let R=0;R<A.length;R++)switch(A.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(A){for(let R=0;R<A.length;R++)switch(A.params[R]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(A){for(let R=0;R<A.length;R++)switch(A.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),A.params[R]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(A,R){const M=this._coreService.decPrivateModes,{activeProtocol:L,activeEncoding:K}=this._coreMouseService,G=this._coreService,{buffers:X,cols:J}=this._bufferService,{active:re,alt:N}=X,F=this._optionsService.rawOptions,V=Q=>Q?1:2,O=A.params[0];return B=O,q=R?O===2?4:O===4?V(G.modes.insertMode):O===12?3:O===20?V(F.convertEol):0:O===1?V(M.applicationCursorKeys):O===3?F.windowOptions.setWinLines?J===80?2:J===132?1:0:0:O===6?V(M.origin):O===7?V(M.wraparound):O===8?3:O===9?V(L==="X10"):O===12?V(F.cursorBlink):O===25?V(!G.isCursorHidden):O===45?V(M.reverseWraparound):O===66?V(M.applicationKeypad):O===67?4:O===1e3?V(L==="VT200"):O===1002?V(L==="DRAG"):O===1003?V(L==="ANY"):O===1004?V(M.sendFocus):O===1005?4:O===1006?V(K==="SGR"):O===1015?4:O===1016?V(K==="SGR_PIXELS"):O===1048?1:O===47||O===1047||O===1049?V(re===N):O===2004?V(M.bracketedPasteMode):0,G.triggerDataEvent(`${f.C0.ESC}[${R?"":"?"}${B};${q}$y`),!0;var B,q}_updateAttrColor(A,R,M,L,K){return R===2?(A|=50331648,A&=-16777216,A|=_.AttributeData.fromColorRGB([M,L,K])):R===5&&(A&=-50331904,A|=33554432|255&M),A}_extractColor(A,R,M){const L=[0,0,-1,0,0,0];let K=0,G=0;do{if(L[G+K]=A.params[R+G],A.hasSubParams(R+G)){const X=A.getSubParams(R+G);let J=0;do L[1]===5&&(K=1),L[G+J+1+K]=X[J];while(++J<X.length&&J+G+1+K<L.length);break}if(L[1]===5&&G+K>=2||L[1]===2&&G+K>=5)break;L[1]&&(K=1)}while(++G+R<A.length&&G+K<L.length);for(let X=2;X<L.length;++X)L[X]===-1&&(L[X]=0);switch(L[0]){case 38:M.fg=this._updateAttrColor(M.fg,L[1],L[3],L[4],L[5]);break;case 48:M.bg=this._updateAttrColor(M.bg,L[1],L[3],L[4],L[5]);break;case 58:M.extended=M.extended.clone(),M.extended.underlineColor=this._updateAttrColor(M.extended.underlineColor,L[1],L[3],L[4],L[5])}return G}_processUnderline(A,R){R.extended=R.extended.clone(),(!~A||A>5)&&(A=1),R.extended.underlineStyle=A,R.fg|=268435456,A===0&&(R.fg&=-268435457),R.updateExtended()}_processSGR0(A){A.fg=h.DEFAULT_ATTR_DATA.fg,A.bg=h.DEFAULT_ATTR_DATA.bg,A.extended=A.extended.clone(),A.extended.underlineStyle=0,A.extended.underlineColor&=-67108864,A.updateExtended()}charAttributes(A){if(A.length===1&&A.params[0]===0)return this._processSGR0(this._curAttrData),!0;const R=A.length;let M;const L=this._curAttrData;for(let K=0;K<R;K++)M=A.params[K],M>=30&&M<=37?(L.fg&=-50331904,L.fg|=16777216|M-30):M>=40&&M<=47?(L.bg&=-50331904,L.bg|=16777216|M-40):M>=90&&M<=97?(L.fg&=-50331904,L.fg|=16777224|M-90):M>=100&&M<=107?(L.bg&=-50331904,L.bg|=16777224|M-100):M===0?this._processSGR0(L):M===1?L.fg|=134217728:M===3?L.bg|=67108864:M===4?(L.fg|=268435456,this._processUnderline(A.hasSubParams(K)?A.getSubParams(K)[0]:1,L)):M===5?L.fg|=536870912:M===7?L.fg|=67108864:M===8?L.fg|=1073741824:M===9?L.fg|=2147483648:M===2?L.bg|=134217728:M===21?this._processUnderline(2,L):M===22?(L.fg&=-134217729,L.bg&=-134217729):M===23?L.bg&=-67108865:M===24?(L.fg&=-268435457,this._processUnderline(0,L)):M===25?L.fg&=-536870913:M===27?L.fg&=-67108865:M===28?L.fg&=-1073741825:M===29?L.fg&=2147483647:M===39?(L.fg&=-67108864,L.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):M===49?(L.bg&=-67108864,L.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):M===38||M===48||M===58?K+=this._extractColor(A,K,L):M===53?L.bg|=1073741824:M===55?L.bg&=-1073741825:M===59?(L.extended=L.extended.clone(),L.extended.underlineColor=-1,L.updateExtended()):M===100?(L.fg&=-67108864,L.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,L.bg&=-67108864,L.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",M);return!0}deviceStatus(A){switch(A.params[0]){case 5:this._coreService.triggerDataEvent(`${f.C0.ESC}[0n`);break;case 6:const R=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[${R};${M}R`)}return!0}deviceStatusPrivate(A){if(A.params[0]===6){const R=this._activeBuffer.y+1,M=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[?${R};${M}R`)}return!0}softReset(A){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(A){const R=A.params[0]||1;switch(R){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const M=R%2==1;return this._optionsService.options.cursorBlink=M,!0}setScrollRegion(A){const R=A.params[0]||1;let M;return(A.length<2||(M=A.params[1])>this._bufferService.rows||M===0)&&(M=this._bufferService.rows),M>R&&(this._activeBuffer.scrollTop=R-1,this._activeBuffer.scrollBottom=M-1,this._setCursor(0,0)),!0}windowOptions(A){if(!z(A.params[0],this._optionsService.rawOptions.windowOptions))return!0;const R=A.length>1?A.params[1]:0;switch(A.params[0]){case 14:R!==2&&this._onRequestWindowsOptionsReport.fire(k.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(k.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${f.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:R!==0&&R!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),R!==0&&R!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:R!==0&&R!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),R!==0&&R!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(A){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(A){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(A){return this._windowTitle=A,this._onTitleChange.fire(A),!0}setIconName(A){return this._iconName=A,!0}setOrReportIndexedColor(A){const R=[],M=A.split(";");for(;M.length>1;){const L=M.shift(),K=M.shift();if(/^\d+$/.exec(L)){const G=parseInt(L);if(H(G))if(K==="?")R.push({type:0,index:G});else{const X=(0,S.parseColor)(K);X&&R.push({type:1,index:G,color:X})}}}return R.length&&this._onColor.fire(R),!0}setHyperlink(A){const R=A.split(";");return!(R.length<2)&&(R[1]?this._createHyperlink(R[0],R[1]):!R[0]&&this._finishHyperlink())}_createHyperlink(A,R){this._getCurrentLinkId()&&this._finishHyperlink();const M=A.split(":");let L;const K=M.findIndex(G=>G.startsWith("id="));return K!==-1&&(L=M[K].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:L,uri:R}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(A,R){const M=A.split(";");for(let L=0;L<M.length&&!(R>=this._specialColors.length);++L,++R)if(M[L]==="?")this._onColor.fire([{type:0,index:this._specialColors[R]}]);else{const K=(0,S.parseColor)(M[L]);K&&this._onColor.fire([{type:1,index:this._specialColors[R],color:K}])}return!0}setOrReportFgColor(A){return this._setOrReportSpecialColor(A,0)}setOrReportBgColor(A){return this._setOrReportSpecialColor(A,1)}setOrReportCursorColor(A){return this._setOrReportSpecialColor(A,2)}restoreIndexedColor(A){if(!A)return this._onColor.fire([{type:2}]),!0;const R=[],M=A.split(";");for(let L=0;L<M.length;++L)if(/^\d+$/.exec(M[L])){const K=parseInt(M[L]);H(K)&&R.push({type:2,index:K})}return R.length&&this._onColor.fire(R),!0}restoreFgColor(A){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(A){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(A){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(A){return A.length!==2?(this.selectDefaultCharset(),!0):(A[0]==="/"||this._charsetService.setgCharset(j[A[0]],g.CHARSETS[A[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const A=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,A,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(A){return this._charsetService.setgLevel(A),!0}screenAlignmentPattern(){const A=new d.CellData;A.content=4194373,A.fg=this._curAttrData.fg,A.bg=this._curAttrData.bg,this._setCursor(0,0);for(let R=0;R<this._bufferService.rows;++R){const M=this._activeBuffer.ybase+this._activeBuffer.y+R,L=this._activeBuffer.lines.get(M);L&&(L.fill(A),L.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(A,R){const M=this._bufferService.buffer,L=this._optionsService.rawOptions;return(K=>(this._coreService.triggerDataEvent(`${f.C0.ESC}${K}${f.C0.ESC}\\`),!0))(A==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:A==='"p'?'P1$r61;1"p':A==="r"?`P1$r${M.scrollTop+1};${M.scrollBottom+1}r`:A==="m"?"P1$r0m":A===" q"?`P1$r${{block:2,underline:4,bar:6}[L.cursorStyle]-(L.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(A,R){this._dirtyRowTracker.markRangeDirty(A,R)}}n.InputHandler=P;let W=class{constructor(I){this._bufferService=I,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(I){I<this.start?this.start=I:I>this.end&&(this.end=I)}markRangeDirty(I,A){I>A&&(D=I,I=A,A=D),I<this.start&&(this.start=I),A>this.end&&(this.end=A)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function H(I){return 0<=I&&I<256}W=p([b(0,v.IBufferService)],W)},844:(m,n)=>{function c(p){for(const b of p)b.dispose();p.length=0}Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.toDisposable=n.MutableDisposable=n.Disposable=void 0,n.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const p of this._disposables)p.dispose();this._disposables.length=0}register(p){return this._disposables.push(p),p}unregister(p){const b=this._disposables.indexOf(p);b!==-1&&this._disposables.splice(b,1)}},n.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(p){var b;this._isDisposed||p===this._value||((b=this._value)===null||b===void 0||b.dispose(),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}},n.toDisposable=function(p){return{dispose:p}},n.disposeArray=c,n.getDisposeArrayDisposable=function(p){return{dispose:()=>c(p)}}},1505:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FourKeyMap=n.TwoKeyMap=void 0;class c{constructor(){this._data={}}set(b,f,g){this._data[b]||(this._data[b]={}),this._data[b][f]=g}get(b,f){return this._data[b]?this._data[b][f]:void 0}clear(){this._data={}}}n.TwoKeyMap=c,n.FourKeyMap=class{constructor(){this._data=new c}set(p,b,f,g,y){this._data.get(p,b)||this._data.set(p,b,new c),this._data.get(p,b).set(f,g,y)}get(p,b,f,g){var y;return(y=this._data.get(p,b))===null||y===void 0?void 0:y.get(f,g)}clear(){this._data.clear()}}},6114:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isChromeOS=n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.getSafariVersion=n.isSafari=n.isLegacyEdge=n.isFirefox=n.isNode=void 0,n.isNode=typeof navigator>"u";const c=n.isNode?"node":navigator.userAgent,p=n.isNode?"node":navigator.platform;n.isFirefox=c.includes("Firefox"),n.isLegacyEdge=c.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(c),n.getSafariVersion=function(){if(!n.isSafari)return 0;const b=c.match(/Version\/(\d+)/);return b===null||b.length<2?0:parseInt(b[1])},n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(p),n.isIpad=p==="iPad",n.isIphone=p==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(p),n.isLinux=p.indexOf("Linux")>=0,n.isChromeOS=/\bCrOS\b/.test(c)},6106:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SortedList=void 0;let c=0;n.SortedList=class{constructor(p){this._getKey=p,this._array=[]}clear(){this._array.length=0}insert(p){this._array.length!==0?(c=this._search(this._getKey(p)),this._array.splice(c,0,p)):this._array.push(p)}delete(p){if(this._array.length===0)return!1;const b=this._getKey(p);if(b===void 0||(c=this._search(b),c===-1)||this._getKey(this._array[c])!==b)return!1;do if(this._array[c]===p)return this._array.splice(c,1),!0;while(++c<this._array.length&&this._getKey(this._array[c])===b);return!1}*getKeyIterator(p){if(this._array.length!==0&&(c=this._search(p),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===p))do yield this._array[c];while(++c<this._array.length&&this._getKey(this._array[c])===p)}forEachByKey(p,b){if(this._array.length!==0&&(c=this._search(p),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===p))do b(this._array[c]);while(++c<this._array.length&&this._getKey(this._array[c])===p)}values(){return[...this._array].values()}_search(p){let b=0,f=this._array.length-1;for(;f>=b;){let g=b+f>>1;const y=this._getKey(this._array[g]);if(y>p)f=g-1;else{if(!(y<p)){for(;g>0&&this._getKey(this._array[g-1])===p;)g--;return g}b=g+1}}return b}}},7226:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DebouncedIdleTask=n.IdleTaskQueue=n.PriorityTaskQueue=void 0;const p=c(6114);class b{constructor(){this._tasks=[],this._i=0}enqueue(y){this._tasks.push(y),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(y){this._idleCallback=void 0;let C=0,x=0,h=y.timeRemaining(),u=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),x=Math.max(C,x),u=y.timeRemaining(),1.5*x>u)return h-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(h-C))}ms`),void this._start();h=u}this.clear()}}class f extends b{_requestCallback(y){return setTimeout(()=>y(this._createDeadline(16)))}_cancelCallback(y){clearTimeout(y)}_createDeadline(y){const C=Date.now()+y;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}n.PriorityTaskQueue=f,n.IdleTaskQueue=!p.isNode&&"requestIdleCallback"in window?class extends b{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:f,n.DebouncedIdleTask=class{constructor(){this._queue=new n.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;const p=c(643);n.updateWindowsModeWrappedState=function(b){const f=b.buffer.lines.get(b.buffer.ybase+b.buffer.y-1),g=f==null?void 0:f.get(b.cols-1),y=b.buffer.lines.get(b.buffer.ybase+b.buffer.y);y&&g&&(y.isWrapped=g[p.CHAR_DATA_CODE_INDEX]!==p.NULL_CELL_CODE&&g[p.CHAR_DATA_CODE_INDEX]!==p.WHITESPACE_CELL_CODE)}},3734:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;class c{constructor(){this.fg=0,this.bg=0,this.extended=new p}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new c;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}n.AttributeData=c;class p{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}constructor(f=0,g=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=g}clone(){return new p(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}n.ExtendedAttrs=p},9092:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.MAX_BUFFER_SIZE=void 0;const p=c(6349),b=c(7226),f=c(3734),g=c(8437),y=c(4634),C=c(511),x=c(643),h=c(4863),u=c(7116);n.MAX_BUFFER_SIZE=4294967295,n.Buffer=class{constructor(o,d,_){this._hasScrollback=o,this._optionsService=d,this._bufferService=_,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=u.DEFAULT_CHARSET,this.markers=[],this._nullCell=C.CellData.fromCharData([0,x.NULL_CELL_CHAR,x.NULL_CELL_WIDTH,x.NULL_CELL_CODE]),this._whitespaceCell=C.CellData.fromCharData([0,x.WHITESPACE_CELL_CHAR,x.WHITESPACE_CELL_WIDTH,x.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new b.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(o){return o?(this._nullCell.fg=o.fg,this._nullCell.bg=o.bg,this._nullCell.extended=o.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell}getWhitespaceCell(o){return o?(this._whitespaceCell.fg=o.fg,this._whitespaceCell.bg=o.bg,this._whitespaceCell.extended=o.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell}getBlankLine(o,d){return new g.BufferLine(this._bufferService.cols,this.getNullCell(o),d)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const o=this.ybase+this.y-this.ydisp;return o>=0&&o<this._rows}_getCorrectBufferLength(o){if(!this._hasScrollback)return o;const d=o+this._optionsService.rawOptions.scrollback;return d>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:d}fillViewportRows(o){if(this.lines.length===0){o===void 0&&(o=g.DEFAULT_ATTR_DATA);let d=this._rows;for(;d--;)this.lines.push(this.getBlankLine(o))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(o,d){const _=this.getNullCell(g.DEFAULT_ATTR_DATA);let v=0;const w=this._getCorrectBufferLength(d);if(w>this.lines.maxLength&&(this.lines.maxLength=w),this.lines.length>0){if(this._cols<o)for(let S=0;S<this.lines.length;S++)v+=+this.lines.get(S).resize(o,_);let E=0;if(this._rows<d)for(let S=this._rows;S<d;S++)this.lines.length<d+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(o,_)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(o,_)));else for(let S=this._rows;S>d;S--)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(w<this.lines.maxLength){const S=this.lines.length-w;S>0&&(this.lines.trimStart(S),this.ybase=Math.max(this.ybase-S,0),this.ydisp=Math.max(this.ydisp-S,0),this.savedY=Math.max(this.savedY-S,0)),this.lines.maxLength=w}this.x=Math.min(this.x,o-1),this.y=Math.min(this.y,d-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,o-1),this.scrollTop=0}if(this.scrollBottom=d-1,this._isReflowEnabled&&(this._reflow(o,d),this._cols>o))for(let E=0;E<this.lines.length;E++)v+=+this.lines.get(E).resize(o,_);this._cols=o,this._rows=d,this._memoryCleanupQueue.clear(),v>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let o=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,o=!1);let d=0;for(;this._memoryCleanupPosition<this.lines.length;)if(d+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),d>100)return!0;return o}get _isReflowEnabled(){const o=this._optionsService.rawOptions.windowsPty;return o&&o.buildNumber?this._hasScrollback&&o.backend==="conpty"&&o.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(o,d){this._cols!==o&&(o>this._cols?this._reflowLarger(o,d):this._reflowSmaller(o,d))}_reflowLarger(o,d){const _=(0,y.reflowLargerGetLinesToRemove)(this.lines,this._cols,o,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(_.length>0){const v=(0,y.reflowLargerCreateNewLayout)(this.lines,_);(0,y.reflowLargerApplyNewLayout)(this.lines,v.layout),this._reflowLargerAdjustViewport(o,d,v.countRemoved)}}_reflowLargerAdjustViewport(o,d,_){const v=this.getNullCell(g.DEFAULT_ATTR_DATA);let w=_;for(;w-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<d&&this.lines.push(new g.BufferLine(o,v))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-_,0)}_reflowSmaller(o,d){const _=this.getNullCell(g.DEFAULT_ATTR_DATA),v=[];let w=0;for(let E=this.lines.length-1;E>=0;E--){let S=this.lines.get(E);if(!S||!S.isWrapped&&S.getTrimmedLength()<=o)continue;const j=[S];for(;S.isWrapped&&E>0;)S=this.lines.get(--E),j.unshift(S);const T=this.ybase+this.y;if(T>=E&&T<E+j.length)continue;const z=j[j.length-1].getTrimmedLength(),k=(0,y.reflowSmallerGetNewLineLengths)(j,this._cols,o),D=k.length-j.length;let P;P=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const W=[];for(let L=0;L<D;L++){const K=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);W.push(K)}W.length>0&&(v.push({start:E+j.length+w,newLines:W}),w+=W.length),j.push(...W);let H=k.length-1,I=k[H];I===0&&(H--,I=k[H]);let A=j.length-D-1,R=z;for(;A>=0;){const L=Math.min(R,I);if(j[H]===void 0)break;if(j[H].copyCellsFrom(j[A],R-L,I-L,L,!0),I-=L,I===0&&(H--,I=k[H]),R-=L,R===0){A--;const K=Math.max(A,0);R=(0,y.getWrappedLineTrimmedLength)(j,K,this._cols)}}for(let L=0;L<j.length;L++)k[L]<o&&j[L].setCell(k[L],_);let M=D-P;for(;M-- >0;)this.ybase===0?this.y<d-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+w)-d&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+d-1)}if(v.length>0){const E=[],S=[];for(let H=0;H<this.lines.length;H++)S.push(this.lines.get(H));const j=this.lines.length;let T=j-1,z=0,k=v[z];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+w);let D=0;for(let H=Math.min(this.lines.maxLength-1,j+w-1);H>=0;H--)if(k&&k.start>T+D){for(let I=k.newLines.length-1;I>=0;I--)this.lines.set(H--,k.newLines[I]);H++,E.push({index:T+1,amount:k.newLines.length}),D+=k.newLines.length,k=v[++z]}else this.lines.set(H,S[T--]);let P=0;for(let H=E.length-1;H>=0;H--)E[H].index+=P,this.lines.onInsertEmitter.fire(E[H]),P+=E[H].amount;const W=Math.max(0,j+w-this.lines.maxLength);W>0&&this.lines.onTrimEmitter.fire(W)}}translateBufferLineToString(o,d,_=0,v){const w=this.lines.get(o);return w?w.translateToString(d,_,v):""}getWrappedRangeForLine(o){let d=o,_=o;for(;d>0&&this.lines.get(d).isWrapped;)d--;for(;_+1<this.lines.length&&this.lines.get(_+1).isWrapped;)_++;return{first:d,last:_}}setupTabStops(o){for(o!=null?this.tabs[o]||(o=this.prevStop(o)):(this.tabs={},o=0);o<this._cols;o+=this._optionsService.rawOptions.tabStopWidth)this.tabs[o]=!0}prevStop(o){for(o==null&&(o=this.x);!this.tabs[--o]&&o>0;);return o>=this._cols?this._cols-1:o<0?0:o}nextStop(o){for(o==null&&(o=this.x);!this.tabs[++o]&&o<this._cols;);return o>=this._cols?this._cols-1:o<0?0:o}clearMarkers(o){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].line===o&&(this.markers[d].dispose(),this.markers.splice(d--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let o=0;o<this.markers.length;o++)this.markers[o].dispose(),this.markers.splice(o--,1);this._isClearing=!1}addMarker(o){const d=new h.Marker(o);return this.markers.push(d),d.register(this.lines.onTrim(_=>{d.line-=_,d.line<0&&d.dispose()})),d.register(this.lines.onInsert(_=>{d.line>=_.index&&(d.line+=_.amount)})),d.register(this.lines.onDelete(_=>{d.line>=_.index&&d.line<_.index+_.amount&&d.dispose(),d.line>_.index&&(d.line-=_.amount)})),d.register(d.onDispose(()=>this._removeMarker(d))),d}_removeMarker(o){this._isClearing||this.markers.splice(this.markers.indexOf(o),1)}}},8437:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;const p=c(3734),b=c(511),f=c(643),g=c(482);n.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);let y=0;class C{constructor(h,u,o=!1){this.isWrapped=o,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*h);const d=u||b.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]);for(let _=0;_<h;++_)this.setCell(_,d);this.length=h}get(h){const u=this._data[3*h+0],o=2097151&u;return[this._data[3*h+1],2097152&u?this._combined[h]:o?(0,g.stringFromCodePoint)(o):"",u>>22,2097152&u?this._combined[h].charCodeAt(this._combined[h].length-1):o]}set(h,u){this._data[3*h+1]=u[f.CHAR_DATA_ATTR_INDEX],u[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[h]=u[1],this._data[3*h+0]=2097152|h|u[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*h+0]=u[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|u[f.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(h){return this._data[3*h+0]>>22}hasWidth(h){return 12582912&this._data[3*h+0]}getFg(h){return this._data[3*h+1]}getBg(h){return this._data[3*h+2]}hasContent(h){return 4194303&this._data[3*h+0]}getCodePoint(h){const u=this._data[3*h+0];return 2097152&u?this._combined[h].charCodeAt(this._combined[h].length-1):2097151&u}isCombined(h){return 2097152&this._data[3*h+0]}getString(h){const u=this._data[3*h+0];return 2097152&u?this._combined[h]:2097151&u?(0,g.stringFromCodePoint)(2097151&u):""}isProtected(h){return 536870912&this._data[3*h+2]}loadCell(h,u){return y=3*h,u.content=this._data[y+0],u.fg=this._data[y+1],u.bg=this._data[y+2],2097152&u.content&&(u.combinedData=this._combined[h]),268435456&u.bg&&(u.extended=this._extendedAttrs[h]),u}setCell(h,u){2097152&u.content&&(this._combined[h]=u.combinedData),268435456&u.bg&&(this._extendedAttrs[h]=u.extended),this._data[3*h+0]=u.content,this._data[3*h+1]=u.fg,this._data[3*h+2]=u.bg}setCellFromCodePoint(h,u,o,d,_,v){268435456&_&&(this._extendedAttrs[h]=v),this._data[3*h+0]=u|o<<22,this._data[3*h+1]=d,this._data[3*h+2]=_}addCodepointToCell(h,u){let o=this._data[3*h+0];2097152&o?this._combined[h]+=(0,g.stringFromCodePoint)(u):(2097151&o?(this._combined[h]=(0,g.stringFromCodePoint)(2097151&o)+(0,g.stringFromCodePoint)(u),o&=-2097152,o|=2097152):o=u|4194304,this._data[3*h+0]=o)}insertCells(h,u,o,d){if((h%=this.length)&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs),u<this.length-h){const _=new b.CellData;for(let v=this.length-h-u-1;v>=0;--v)this.setCell(h+u+v,this.loadCell(h+v,_));for(let v=0;v<u;++v)this.setCell(h+v,o)}else for(let _=h;_<this.length;++_)this.setCell(_,o);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs)}deleteCells(h,u,o,d){if(h%=this.length,u<this.length-h){const _=new b.CellData;for(let v=0;v<this.length-h-u;++v)this.setCell(h+v,this.loadCell(h+u+v,_));for(let v=this.length-u;v<this.length;++v)this.setCell(v,o)}else for(let _=h;_<this.length;++_)this.setCell(_,o);h&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs),this.getWidth(h)!==0||this.hasContent(h)||this.setCellFromCodePoint(h,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs)}replaceCells(h,u,o,d,_=!1){if(_)for(h&&this.getWidth(h-1)===2&&!this.isProtected(h-1)&&this.setCellFromCodePoint(h-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs),u<this.length&&this.getWidth(u-1)===2&&!this.isProtected(u)&&this.setCellFromCodePoint(u,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs);h<u&&h<this.length;)this.isProtected(h)||this.setCell(h,o),h++;else for(h&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h-1,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs),u<this.length&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u,0,1,(d==null?void 0:d.fg)||0,(d==null?void 0:d.bg)||0,(d==null?void 0:d.extended)||new p.ExtendedAttrs);h<u&&h<this.length;)this.setCell(h++,o)}resize(h,u){if(h===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const o=3*h;if(h>this.length){if(this._data.buffer.byteLength>=4*o)this._data=new Uint32Array(this._data.buffer,0,o);else{const d=new Uint32Array(o);d.set(this._data),this._data=d}for(let d=this.length;d<h;++d)this.setCell(d,u)}else{this._data=this._data.subarray(0,o);const d=Object.keys(this._combined);for(let v=0;v<d.length;v++){const w=parseInt(d[v],10);w>=h&&delete this._combined[w]}const _=Object.keys(this._extendedAttrs);for(let v=0;v<_.length;v++){const w=parseInt(_[v],10);w>=h&&delete this._extendedAttrs[w]}}return this.length=h,4*o*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const h=new Uint32Array(this._data.length);return h.set(this._data),this._data=h,1}return 0}fill(h,u=!1){if(u)for(let o=0;o<this.length;++o)this.isProtected(o)||this.setCell(o,h);else{this._combined={},this._extendedAttrs={};for(let o=0;o<this.length;++o)this.setCell(o,h)}}copyFrom(h){this.length!==h.length?this._data=new Uint32Array(h._data):this._data.set(h._data),this.length=h.length,this._combined={};for(const u in h._combined)this._combined[u]=h._combined[u];this._extendedAttrs={};for(const u in h._extendedAttrs)this._extendedAttrs[u]=h._extendedAttrs[u];this.isWrapped=h.isWrapped}clone(){const h=new C(0);h._data=new Uint32Array(this._data),h.length=this.length;for(const u in this._combined)h._combined[u]=this._combined[u];for(const u in this._extendedAttrs)h._extendedAttrs[u]=this._extendedAttrs[u];return h.isWrapped=this.isWrapped,h}getTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0])return h+(this._data[3*h+0]>>22);return 0}getNoBgTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0]||50331648&this._data[3*h+2])return h+(this._data[3*h+0]>>22);return 0}copyCellsFrom(h,u,o,d,_){const v=h._data;if(_)for(let E=d-1;E>=0;E--){for(let S=0;S<3;S++)this._data[3*(o+E)+S]=v[3*(u+E)+S];268435456&v[3*(u+E)+2]&&(this._extendedAttrs[o+E]=h._extendedAttrs[u+E])}else for(let E=0;E<d;E++){for(let S=0;S<3;S++)this._data[3*(o+E)+S]=v[3*(u+E)+S];268435456&v[3*(u+E)+2]&&(this._extendedAttrs[o+E]=h._extendedAttrs[u+E])}const w=Object.keys(h._combined);for(let E=0;E<w.length;E++){const S=parseInt(w[E],10);S>=u&&(this._combined[S-u+o]=h._combined[S])}}translateToString(h=!1,u=0,o=this.length){h&&(o=Math.min(o,this.getTrimmedLength()));let d="";for(;u<o;){const _=this._data[3*u+0],v=2097151&_;d+=2097152&_?this._combined[u]:v?(0,g.stringFromCodePoint)(v):f.WHITESPACE_CELL_CHAR,u+=_>>22||1}return d}}n.BufferLine=C},4841:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(c,p){if(c.start.y>c.end.y)throw new Error(`Buffer range end (${c.end.x}, ${c.end.y}) cannot be before start (${c.start.x}, ${c.start.y})`);return p*(c.end.y-c.start.y)+(c.end.x-c.start.x+1)}},4634:(m,n)=>{function c(p,b,f){if(b===p.length-1)return p[b].getTrimmedLength();const g=!p[b].hasContent(f-1)&&p[b].getWidth(f-1)===1,y=p[b+1].getWidth(0)===2;return g&&y?f-1:f}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(p,b,f,g,y){const C=[];for(let x=0;x<p.length-1;x++){let h=x,u=p.get(++h);if(!u.isWrapped)continue;const o=[p.get(x)];for(;h<p.length&&u.isWrapped;)o.push(u),u=p.get(++h);if(g>=x&&g<h){x+=o.length-1;continue}let d=0,_=c(o,d,b),v=1,w=0;for(;v<o.length;){const S=c(o,v,b),j=S-w,T=f-_,z=Math.min(j,T);o[d].copyCellsFrom(o[v],w,_,z,!1),_+=z,_===f&&(d++,_=0),w+=z,w===S&&(v++,w=0),_===0&&d!==0&&o[d-1].getWidth(f-1)===2&&(o[d].copyCellsFrom(o[d-1],f-1,_++,1,!1),o[d-1].setCell(f-1,y))}o[d].replaceCells(_,f,y);let E=0;for(let S=o.length-1;S>0&&(S>d||o[S].getTrimmedLength()===0);S--)E++;E>0&&(C.push(x+o.length-E),C.push(E)),x+=o.length-1}return C},n.reflowLargerCreateNewLayout=function(p,b){const f=[];let g=0,y=b[g],C=0;for(let x=0;x<p.length;x++)if(y===x){const h=b[++g];p.onDeleteEmitter.fire({index:x-C,amount:h}),x+=h-1,C+=h,y=b[++g]}else f.push(x);return{layout:f,countRemoved:C}},n.reflowLargerApplyNewLayout=function(p,b){const f=[];for(let g=0;g<b.length;g++)f.push(p.get(b[g]));for(let g=0;g<f.length;g++)p.set(g,f[g]);p.length=b.length},n.reflowSmallerGetNewLineLengths=function(p,b,f){const g=[],y=p.map((u,o)=>c(p,o,b)).reduce((u,o)=>u+o);let C=0,x=0,h=0;for(;h<y;){if(y-h<f){g.push(y-h);break}C+=f;const u=c(p,x,b);C>u&&(C-=u,x++);const o=p[x].getWidth(C-1)===2;o&&C--;const d=o?f-1:f;g.push(d),h+=d}return g},n.getWrappedLineTrimmedLength=c},5295:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;const p=c(8460),b=c(844),f=c(9092);class g extends b.Disposable{constructor(C,x){super(),this._optionsService=C,this._bufferService=x,this._onBufferActivate=this.register(new p.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,x){this._normal.resize(C,x),this._alt.resize(C,x),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}n.BufferSet=g},511:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;const p=c(482),b=c(643),f=c(3734);class g extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const x=new g;return x.setFromCharData(C),x}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,p.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[b.CHAR_DATA_ATTR_INDEX],this.bg=0;let x=!1;if(C[b.CHAR_DATA_CHAR_INDEX].length>2)x=!0;else if(C[b.CHAR_DATA_CHAR_INDEX].length===2){const h=C[b.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=h&&h<=56319){const u=C[b.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=u&&u<=57343?this.content=1024*(h-55296)+u-56320+65536|C[b.CHAR_DATA_WIDTH_INDEX]<<22:x=!0}else x=!0}else this.content=C[b.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[b.CHAR_DATA_WIDTH_INDEX]<<22;x&&(this.combinedData=C[b.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[b.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.CellData=g},643:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_EXT=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=0,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.DEFAULT_EXT=0,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;const p=c(8460),b=c(844);class f{get id(){return this._id}constructor(y){this.line=y,this.isDisposed=!1,this._disposables=[],this._id=f._nextId++,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,b.disposeArray)(this._disposables),this._disposables.length=0)}register(y){return this._disposables.push(y),y}}n.Marker=f,f._nextId=1},7116:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},n.CHARSETS.A={"#":""},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},n.CHARSETS.C=n.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.E=n.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},n.CHARSETS.H=n.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(m,n)=>{var c,p,b;Object.defineProperty(n,"__esModule",{value:!0}),n.C1_ESCAPED=n.C1=n.C0=void 0,function(f){f.NUL="\0",f.SOH="",f.STX="",f.ETX="",f.EOT="",f.ENQ="",f.ACK="",f.BEL="\x07",f.BS="\b",f.HT="	",f.LF=`
`,f.VT="\v",f.FF="\f",f.CR="\r",f.SO="",f.SI="",f.DLE="",f.DC1="",f.DC2="",f.DC3="",f.DC4="",f.NAK="",f.SYN="",f.ETB="",f.CAN="",f.EM="",f.SUB="",f.ESC="\x1B",f.FS="",f.GS="",f.RS="",f.US="",f.SP=" ",f.DEL=""}(c||(n.C0=c={})),function(f){f.PAD="",f.HOP="",f.BPH="",f.NBH="",f.IND="",f.NEL="",f.SSA="",f.ESA="",f.HTS="",f.HTJ="",f.VTS="",f.PLD="",f.PLU="",f.RI="",f.SS2="",f.SS3="",f.DCS="",f.PU1="",f.PU2="",f.STS="",f.CCH="",f.MW="",f.SPA="",f.EPA="",f.SOS="",f.SGCI="",f.SCI="",f.CSI="",f.ST="",f.OSC="",f.PM="",f.APC=""}(p||(n.C1=p={})),function(f){f.ST=`${c.ESC}\\`}(b||(n.C1_ESCAPED=b={}))},7399:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;const p=c(2584),b={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(f,g,y,C){const x={type:0,cancel:!1,key:void 0},h=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?x.key=g?p.C0.ESC+"OA":p.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?x.key=g?p.C0.ESC+"OD":p.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?x.key=g?p.C0.ESC+"OC":p.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(x.key=g?p.C0.ESC+"OB":p.C0.ESC+"[B");break;case 8:if(f.altKey){x.key=p.C0.ESC+p.C0.DEL;break}x.key=p.C0.DEL;break;case 9:if(f.shiftKey){x.key=p.C0.ESC+"[Z";break}x.key=p.C0.HT,x.cancel=!0;break;case 13:x.key=f.altKey?p.C0.ESC+p.C0.CR:p.C0.CR,x.cancel=!0;break;case 27:x.key=p.C0.ESC,f.altKey&&(x.key=p.C0.ESC+p.C0.ESC),x.cancel=!0;break;case 37:if(f.metaKey)break;h?(x.key=p.C0.ESC+"[1;"+(h+1)+"D",x.key===p.C0.ESC+"[1;3D"&&(x.key=p.C0.ESC+(y?"b":"[1;5D"))):x.key=g?p.C0.ESC+"OD":p.C0.ESC+"[D";break;case 39:if(f.metaKey)break;h?(x.key=p.C0.ESC+"[1;"+(h+1)+"C",x.key===p.C0.ESC+"[1;3C"&&(x.key=p.C0.ESC+(y?"f":"[1;5C"))):x.key=g?p.C0.ESC+"OC":p.C0.ESC+"[C";break;case 38:if(f.metaKey)break;h?(x.key=p.C0.ESC+"[1;"+(h+1)+"A",y||x.key!==p.C0.ESC+"[1;3A"||(x.key=p.C0.ESC+"[1;5A")):x.key=g?p.C0.ESC+"OA":p.C0.ESC+"[A";break;case 40:if(f.metaKey)break;h?(x.key=p.C0.ESC+"[1;"+(h+1)+"B",y||x.key!==p.C0.ESC+"[1;3B"||(x.key=p.C0.ESC+"[1;5B")):x.key=g?p.C0.ESC+"OB":p.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(x.key=p.C0.ESC+"[2~");break;case 46:x.key=h?p.C0.ESC+"[3;"+(h+1)+"~":p.C0.ESC+"[3~";break;case 36:x.key=h?p.C0.ESC+"[1;"+(h+1)+"H":g?p.C0.ESC+"OH":p.C0.ESC+"[H";break;case 35:x.key=h?p.C0.ESC+"[1;"+(h+1)+"F":g?p.C0.ESC+"OF":p.C0.ESC+"[F";break;case 33:f.shiftKey?x.type=2:f.ctrlKey?x.key=p.C0.ESC+"[5;"+(h+1)+"~":x.key=p.C0.ESC+"[5~";break;case 34:f.shiftKey?x.type=3:f.ctrlKey?x.key=p.C0.ESC+"[6;"+(h+1)+"~":x.key=p.C0.ESC+"[6~";break;case 112:x.key=h?p.C0.ESC+"[1;"+(h+1)+"P":p.C0.ESC+"OP";break;case 113:x.key=h?p.C0.ESC+"[1;"+(h+1)+"Q":p.C0.ESC+"OQ";break;case 114:x.key=h?p.C0.ESC+"[1;"+(h+1)+"R":p.C0.ESC+"OR";break;case 115:x.key=h?p.C0.ESC+"[1;"+(h+1)+"S":p.C0.ESC+"OS";break;case 116:x.key=h?p.C0.ESC+"[15;"+(h+1)+"~":p.C0.ESC+"[15~";break;case 117:x.key=h?p.C0.ESC+"[17;"+(h+1)+"~":p.C0.ESC+"[17~";break;case 118:x.key=h?p.C0.ESC+"[18;"+(h+1)+"~":p.C0.ESC+"[18~";break;case 119:x.key=h?p.C0.ESC+"[19;"+(h+1)+"~":p.C0.ESC+"[19~";break;case 120:x.key=h?p.C0.ESC+"[20;"+(h+1)+"~":p.C0.ESC+"[20~";break;case 121:x.key=h?p.C0.ESC+"[21;"+(h+1)+"~":p.C0.ESC+"[21~";break;case 122:x.key=h?p.C0.ESC+"[23;"+(h+1)+"~":p.C0.ESC+"[23~";break;case 123:x.key=h?p.C0.ESC+"[24;"+(h+1)+"~":p.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(y&&!C||!f.altKey||f.metaKey)!y||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?x.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(x.key=p.C0.US),f.key==="@"&&(x.key=p.C0.NUL)):f.keyCode===65&&(x.type=1);else{const u=b[f.keyCode],o=u==null?void 0:u[f.shiftKey?1:0];if(o)x.key=p.C0.ESC+o;else if(f.keyCode>=65&&f.keyCode<=90){const d=f.ctrlKey?f.keyCode-64:f.keyCode+32;let _=String.fromCharCode(d);f.shiftKey&&(_=_.toUpperCase()),x.key=p.C0.ESC+_}else if(f.keyCode===32)x.key=p.C0.ESC+(f.ctrlKey?p.C0.NUL:" ");else if(f.key==="Dead"&&f.code.startsWith("Key")){let d=f.code.slice(3,4);f.shiftKey||(d=d.toLowerCase()),x.key=p.C0.ESC+d,x.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?x.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?x.key=p.C0.NUL:f.keyCode>=51&&f.keyCode<=55?x.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?x.key=p.C0.DEL:f.keyCode===219?x.key=p.C0.ESC:f.keyCode===220?x.key=p.C0.FS:f.keyCode===221&&(x.key=p.C0.GS)}return x}},482:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(c){return c>65535?(c-=65536,String.fromCharCode(55296+(c>>10))+String.fromCharCode(c%1024+56320)):String.fromCharCode(c)},n.utf32ToString=function(c,p=0,b=c.length){let f="";for(let g=p;g<b;++g){let y=c[g];y>65535?(y-=65536,f+=String.fromCharCode(55296+(y>>10))+String.fromCharCode(y%1024+56320)):f+=String.fromCharCode(y)}return f},n.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(c,p){const b=c.length;if(!b)return 0;let f=0,g=0;if(this._interim){const y=c.charCodeAt(g++);56320<=y&&y<=57343?p[f++]=1024*(this._interim-55296)+y-56320+65536:(p[f++]=this._interim,p[f++]=y),this._interim=0}for(let y=g;y<b;++y){const C=c.charCodeAt(y);if(55296<=C&&C<=56319){if(++y>=b)return this._interim=C,f;const x=c.charCodeAt(y);56320<=x&&x<=57343?p[f++]=1024*(C-55296)+x-56320+65536:(p[f++]=C,p[f++]=x)}else C!==65279&&(p[f++]=C)}return f}},n.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(c,p){const b=c.length;if(!b)return 0;let f,g,y,C,x=0,h=0,u=0;if(this.interim[0]){let _=!1,v=this.interim[0];v&=(224&v)==192?31:(240&v)==224?15:7;let w,E=0;for(;(w=63&this.interim[++E])&&E<4;)v<<=6,v|=w;const S=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,j=S-E;for(;u<j;){if(u>=b)return 0;if(w=c[u++],(192&w)!=128){u--,_=!0;break}this.interim[E++]=w,v<<=6,v|=63&w}_||(S===2?v<128?u--:p[x++]=v:S===3?v<2048||v>=55296&&v<=57343||v===65279||(p[x++]=v):v<65536||v>1114111||(p[x++]=v)),this.interim.fill(0)}const o=b-4;let d=u;for(;d<b;){for(;!(!(d<o)||128&(f=c[d])||128&(g=c[d+1])||128&(y=c[d+2])||128&(C=c[d+3]));)p[x++]=f,p[x++]=g,p[x++]=y,p[x++]=C,d+=4;if(f=c[d++],f<128)p[x++]=f;else if((224&f)==192){if(d>=b)return this.interim[0]=f,x;if(g=c[d++],(192&g)!=128){d--;continue}if(h=(31&f)<<6|63&g,h<128){d--;continue}p[x++]=h}else if((240&f)==224){if(d>=b)return this.interim[0]=f,x;if(g=c[d++],(192&g)!=128){d--;continue}if(d>=b)return this.interim[0]=f,this.interim[1]=g,x;if(y=c[d++],(192&y)!=128){d--;continue}if(h=(15&f)<<12|(63&g)<<6|63&y,h<2048||h>=55296&&h<=57343||h===65279)continue;p[x++]=h}else if((248&f)==240){if(d>=b)return this.interim[0]=f,x;if(g=c[d++],(192&g)!=128){d--;continue}if(d>=b)return this.interim[0]=f,this.interim[1]=g,x;if(y=c[d++],(192&y)!=128){d--;continue}if(d>=b)return this.interim[0]=f,this.interim[1]=g,this.interim[2]=y,x;if(C=c[d++],(192&C)!=128){d--;continue}if(h=(7&f)<<18|(63&g)<<12|(63&y)<<6|63&C,h<65536||h>1114111)continue;p[x++]=h}}return x}}},225:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;const c=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let b;n.UnicodeV6=class{constructor(){if(this.version="6",!b){b=new Uint8Array(65536),b.fill(1),b[0]=0,b.fill(0,1,32),b.fill(0,127,160),b.fill(2,4352,4448),b[9001]=2,b[9002]=2,b.fill(2,11904,42192),b[12351]=1,b.fill(2,44032,55204),b.fill(2,63744,64256),b.fill(2,65040,65050),b.fill(2,65072,65136),b.fill(2,65280,65377),b.fill(2,65504,65511);for(let f=0;f<c.length;++f)b.fill(0,c[f][0],c[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?b[f]:function(g,y){let C,x=0,h=y.length-1;if(g<y[0][0]||g>y[h][1])return!1;for(;h>=x;)if(C=x+h>>1,g>y[C][1])x=C+1;else{if(!(g<y[C][0]))return!0;h=C-1}return!1}(f,p)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}}},5981:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;const p=c(8460),b=c(844);class f extends b.Disposable{constructor(y){super(),this._action=y,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new p.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(y,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let x;for(this._isSyncWriting=!0;x=this._writeBuffer.shift();){this._action(x);const h=this._callbacks.shift();h&&h()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(y,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=y.length,this._writeBuffer.push(y),this._callbacks.push(C)}_innerWrite(y=0,C=!0){const x=y||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const h=this._writeBuffer[this._bufferOffset],u=this._action(h,C);if(u){const d=_=>Date.now()-x>=12?setTimeout(()=>this._innerWrite(0,_)):this._innerWrite(x,_);return void u.catch(_=>(queueMicrotask(()=>{throw _}),Promise.resolve(!1))).then(d)}const o=this._callbacks[this._bufferOffset];if(o&&o(),this._bufferOffset++,this._pendingData-=h.length,Date.now()-x>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}n.WriteBuffer=f},5941:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;const c=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,p=/^[\da-f]+$/;function b(f,g){const y=f.toString(16),C=y.length<2?"0"+y:y;switch(g){case 4:return y[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}n.parseColor=function(f){if(!f)return;let g=f.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const y=c.exec(g);if(y){const C=y[1]?15:y[4]?255:y[7]?4095:65535;return[Math.round(parseInt(y[1]||y[4]||y[7]||y[10],16)/C*255),Math.round(parseInt(y[2]||y[5]||y[8]||y[11],16)/C*255),Math.round(parseInt(y[3]||y[6]||y[9]||y[12],16)/C*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),p.exec(g)&&[3,6,9,12].includes(g.length))){const y=g.length/3,C=[0,0,0];for(let x=0;x<3;++x){const h=parseInt(g.slice(y*x,y*x+y),16);C[x]=y===1?h<<4:y===2?h:y===3?h>>4:h>>8}return C}},n.toRgbString=function(f,g=16){const[y,C,x]=f;return`rgb:${b(y,g)}/${b(C,g)}/${b(x,g)}`}},5770:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;const p=c(482),b=c(8742),f=c(5770),g=[];n.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(C,x){this._handlers[C]===void 0&&(this._handlers[C]=[]);const h=this._handlers[C];return h.push(x),{dispose:()=>{const u=h.indexOf(x);u!==-1&&h.splice(u,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(C,x){if(this.reset(),this._ident=C,this._active=this._handlers[C]||g,this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(C,x,h){if(this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].put(C,x,h);else this._handlerFb(this._ident,"PUT",(0,p.utf32ToString)(C,x,h))}unhook(C,x=!0){if(this._active.length){let h=!1,u=this._active.length-1,o=!1;if(this._stack.paused&&(u=this._stack.loopPosition-1,h=x,o=this._stack.fallThrough,this._stack.paused=!1),!o&&h===!1){for(;u>=0&&(h=this._active[u].unhook(C),h!==!0);u--)if(h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!1,h;u--}for(;u>=0;u--)if(h=this._active[u].unhook(!1),h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!0,h}else this._handlerFb(this._ident,"UNHOOK",C);this._active=g,this._ident=0}};const y=new b.Params;y.addParam(0),n.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=y,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():y,this._data="",this._hitLimit=!1}put(C,x,h){this._hitLimit||(this._data+=(0,p.utf32ToString)(C,x,h),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let x=!1;if(this._hitLimit)x=!1;else if(C&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then(h=>(this._params=y,this._data="",this._hitLimit=!1,h));return this._params=y,this._data="",this._hitLimit=!1,x}}},2015:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;const p=c(844),b=c(8742),f=c(6242),g=c(6351);class y{constructor(u){this.table=new Uint8Array(u)}setDefault(u,o){this.table.fill(u<<4|o)}add(u,o,d,_){this.table[o<<8|u]=d<<4|_}addMany(u,o,d,_){for(let v=0;v<u.length;v++)this.table[o<<8|u[v]]=d<<4|_}}n.TransitionTable=y;const C=160;n.VT500_TRANSITION_TABLE=function(){const h=new y(4095),u=Array.apply(null,Array(256)).map((E,S)=>S),o=(E,S)=>u.slice(E,S),d=o(32,127),_=o(0,24);_.push(25),_.push.apply(_,o(28,32));const v=o(0,14);let w;for(w in h.setDefault(1,0),h.addMany(d,0,2,0),v)h.addMany([24,26,153,154],w,3,0),h.addMany(o(128,144),w,3,0),h.addMany(o(144,152),w,3,0),h.add(156,w,0,0),h.add(27,w,11,1),h.add(157,w,4,8),h.addMany([152,158,159],w,0,7),h.add(155,w,11,3),h.add(144,w,11,9);return h.addMany(_,0,3,0),h.addMany(_,1,3,1),h.add(127,1,0,1),h.addMany(_,8,0,8),h.addMany(_,3,3,3),h.add(127,3,0,3),h.addMany(_,4,3,4),h.add(127,4,0,4),h.addMany(_,6,3,6),h.addMany(_,5,3,5),h.add(127,5,0,5),h.addMany(_,2,3,2),h.add(127,2,0,2),h.add(93,1,4,8),h.addMany(d,8,5,8),h.add(127,8,5,8),h.addMany([156,27,24,26,7],8,6,0),h.addMany(o(28,32),8,0,8),h.addMany([88,94,95],1,0,7),h.addMany(d,7,0,7),h.addMany(_,7,0,7),h.add(156,7,0,0),h.add(127,7,0,7),h.add(91,1,11,3),h.addMany(o(64,127),3,7,0),h.addMany(o(48,60),3,8,4),h.addMany([60,61,62,63],3,9,4),h.addMany(o(48,60),4,8,4),h.addMany(o(64,127),4,7,0),h.addMany([60,61,62,63],4,0,6),h.addMany(o(32,64),6,0,6),h.add(127,6,0,6),h.addMany(o(64,127),6,0,0),h.addMany(o(32,48),3,9,5),h.addMany(o(32,48),5,9,5),h.addMany(o(48,64),5,0,6),h.addMany(o(64,127),5,7,0),h.addMany(o(32,48),4,9,5),h.addMany(o(32,48),1,9,2),h.addMany(o(32,48),2,9,2),h.addMany(o(48,127),2,10,0),h.addMany(o(48,80),1,10,0),h.addMany(o(81,88),1,10,0),h.addMany([89,90,92],1,10,0),h.addMany(o(96,127),1,10,0),h.add(80,1,11,9),h.addMany(_,9,0,9),h.add(127,9,0,9),h.addMany(o(28,32),9,0,9),h.addMany(o(32,48),9,9,12),h.addMany(o(48,60),9,8,10),h.addMany([60,61,62,63],9,9,10),h.addMany(_,11,0,11),h.addMany(o(32,128),11,0,11),h.addMany(o(28,32),11,0,11),h.addMany(_,10,0,10),h.add(127,10,0,10),h.addMany(o(28,32),10,0,10),h.addMany(o(48,60),10,8,10),h.addMany([60,61,62,63],10,0,11),h.addMany(o(32,48),10,9,12),h.addMany(_,12,0,12),h.add(127,12,0,12),h.addMany(o(28,32),12,0,12),h.addMany(o(32,48),12,9,12),h.addMany(o(48,64),12,0,11),h.addMany(o(64,127),12,12,13),h.addMany(o(64,127),10,12,13),h.addMany(o(64,127),9,12,13),h.addMany(_,13,13,13),h.addMany(d,13,13,13),h.add(127,13,0,13),h.addMany([27,156,24,26],13,14,0),h.add(C,0,2,0),h.add(C,8,5,8),h.add(C,6,0,6),h.add(C,11,0,11),h.add(C,13,13,13),h}();class x extends p.Disposable{constructor(u=n.VT500_TRANSITION_TABLE){super(),this._transitions=u,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new b.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(o,d,_)=>{},this._executeHandlerFb=o=>{},this._csiHandlerFb=(o,d)=>{},this._escHandlerFb=o=>{},this._errorHandlerFb=o=>o,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,p.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new f.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(u,o=[64,126]){let d=0;if(u.prefix){if(u.prefix.length>1)throw new Error("only one byte as prefix supported");if(d=u.prefix.charCodeAt(0),d&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(u.intermediates){if(u.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let v=0;v<u.intermediates.length;++v){const w=u.intermediates.charCodeAt(v);if(32>w||w>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=w}}if(u.final.length!==1)throw new Error("final must be a single byte");const _=u.final.charCodeAt(0);if(o[0]>_||_>o[1])throw new Error(`final must be in range ${o[0]} .. ${o[1]}`);return d<<=8,d|=_,d}identToString(u){const o=[];for(;u;)o.push(String.fromCharCode(255&u)),u>>=8;return o.reverse().join("")}setPrintHandler(u){this._printHandler=u}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(u,o){const d=this._identifier(u,[48,126]);this._escHandlers[d]===void 0&&(this._escHandlers[d]=[]);const _=this._escHandlers[d];return _.push(o),{dispose:()=>{const v=_.indexOf(o);v!==-1&&_.splice(v,1)}}}clearEscHandler(u){this._escHandlers[this._identifier(u,[48,126])]&&delete this._escHandlers[this._identifier(u,[48,126])]}setEscHandlerFallback(u){this._escHandlerFb=u}setExecuteHandler(u,o){this._executeHandlers[u.charCodeAt(0)]=o}clearExecuteHandler(u){this._executeHandlers[u.charCodeAt(0)]&&delete this._executeHandlers[u.charCodeAt(0)]}setExecuteHandlerFallback(u){this._executeHandlerFb=u}registerCsiHandler(u,o){const d=this._identifier(u);this._csiHandlers[d]===void 0&&(this._csiHandlers[d]=[]);const _=this._csiHandlers[d];return _.push(o),{dispose:()=>{const v=_.indexOf(o);v!==-1&&_.splice(v,1)}}}clearCsiHandler(u){this._csiHandlers[this._identifier(u)]&&delete this._csiHandlers[this._identifier(u)]}setCsiHandlerFallback(u){this._csiHandlerFb=u}registerDcsHandler(u,o){return this._dcsParser.registerHandler(this._identifier(u),o)}clearDcsHandler(u){this._dcsParser.clearHandler(this._identifier(u))}setDcsHandlerFallback(u){this._dcsParser.setHandlerFallback(u)}registerOscHandler(u,o){return this._oscParser.registerHandler(u,o)}clearOscHandler(u){this._oscParser.clearHandler(u)}setOscHandlerFallback(u){this._oscParser.setHandlerFallback(u)}setErrorHandler(u){this._errorHandler=u}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(u,o,d,_,v){this._parseStack.state=u,this._parseStack.handlers=o,this._parseStack.handlerPos=d,this._parseStack.transition=_,this._parseStack.chunkPos=v}parse(u,o,d){let _,v=0,w=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(d===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const S=this._parseStack.handlers;let j=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(d===!1&&j>-1){for(;j>=0&&(_=S[j](this._params),_!==!0);j--)if(_ instanceof Promise)return this._parseStack.handlerPos=j,_}this._parseStack.handlers=[];break;case 4:if(d===!1&&j>-1){for(;j>=0&&(_=S[j](),_!==!0);j--)if(_ instanceof Promise)return this._parseStack.handlerPos=j,_}this._parseStack.handlers=[];break;case 6:if(v=u[this._parseStack.chunkPos],_=this._dcsParser.unhook(v!==24&&v!==26,d),_)return _;v===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(v=u[this._parseStack.chunkPos],_=this._oscParser.end(v!==24&&v!==26,d),_)return _;v===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let S=E;S<o;++S){switch(v=u[S],w=this._transitions.table[this.currentState<<8|(v<160?v:C)],w>>4){case 2:for(let D=S+1;;++D){if(D>=o||(v=u[D])<32||v>126&&v<C){this._printHandler(u,S,D),S=D-1;break}if(++D>=o||(v=u[D])<32||v>126&&v<C){this._printHandler(u,S,D),S=D-1;break}if(++D>=o||(v=u[D])<32||v>126&&v<C){this._printHandler(u,S,D),S=D-1;break}if(++D>=o||(v=u[D])<32||v>126&&v<C){this._printHandler(u,S,D),S=D-1;break}}break;case 3:this._executeHandlers[v]?this._executeHandlers[v]():this._executeHandlerFb(v),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:S,code:v,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const j=this._csiHandlers[this._collect<<8|v];let T=j?j.length-1:-1;for(;T>=0&&(_=j[T](this._params),_!==!0);T--)if(_ instanceof Promise)return this._preserveStack(3,j,T,w,S),_;T<0&&this._csiHandlerFb(this._collect<<8|v,this._params),this.precedingCodepoint=0;break;case 8:do switch(v){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(v-48)}while(++S<o&&(v=u[S])>47&&v<60);S--;break;case 9:this._collect<<=8,this._collect|=v;break;case 10:const z=this._escHandlers[this._collect<<8|v];let k=z?z.length-1:-1;for(;k>=0&&(_=z[k](),_!==!0);k--)if(_ instanceof Promise)return this._preserveStack(4,z,k,w,S),_;k<0&&this._escHandlerFb(this._collect<<8|v),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|v,this._params);break;case 13:for(let D=S+1;;++D)if(D>=o||(v=u[D])===24||v===26||v===27||v>127&&v<C){this._dcsParser.put(u,S,D),S=D-1;break}break;case 14:if(_=this._dcsParser.unhook(v!==24&&v!==26),_)return this._preserveStack(6,[],0,w,S),_;v===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let D=S+1;;D++)if(D>=o||(v=u[D])<32||v>127&&v<C){this._oscParser.put(u,S,D),S=D-1;break}break;case 6:if(_=this._oscParser.end(v!==24&&v!==26),_)return this._preserveStack(5,[],0,w,S),_;v===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&w}}}n.EscapeSequenceParser=x},6242:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;const p=c(5770),b=c(482),f=[];n.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,y){this._handlers[g]===void 0&&(this._handlers[g]=[]);const C=this._handlers[g];return C.push(y),{dispose:()=>{const x=C.indexOf(y);x!==-1&&C.splice(x,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,y,C){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(g,y,C);else this._handlerFb(this._id,"PUT",(0,b.utf32ToString)(g,y,C))}start(){this.reset(),this._state=1}put(g,y,C){if(this._state!==3){if(this._state===1)for(;y<C;){const x=g[y++];if(x===59){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+x-48}this._state===2&&C-y>0&&this._put(g,y,C)}}end(g,y=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,x=this._active.length-1,h=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,C=y,h=this._stack.fallThrough,this._stack.paused=!1),!h&&C===!1){for(;x>=0&&(C=this._active[x].end(g),C!==!0);x--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,C;x--}for(;x>=0;x--)if(C=this._active[x].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",g);this._active=f,this._id=-1,this._state=0}}},n.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,y,C){this._hitLimit||(this._data+=(0,b.utf32ToString)(g,y,C),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let y=!1;if(this._hitLimit)y=!1;else if(g&&(y=this._handler(this._data),y instanceof Promise))return y.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,y}}},8742:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;const c=2147483647;class p{static fromArray(f){const g=new p;if(!f.length)return g;for(let y=Array.isArray(f[0])?1:0;y<f.length;++y){const C=f[y];if(Array.isArray(C))for(let x=0;x<C.length;++x)g.addSubParam(C[x]);else g.addParam(C)}return g}constructor(f=32,g=32){if(this.maxLength=f,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const f=new p(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let g=0;g<this.length;++g){f.push(this.params[g]);const y=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-y>0&&f.push(Array.prototype.slice.call(this._subParams,y,C))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>c?c:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>c?c:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const g=this._subParamsIdx[f]>>8,y=255&this._subParamsIdx[f];return y-g>0?this._subParams.subarray(g,y):null}getSubParamsAll(){const f={};for(let g=0;g<this.length;++g){const y=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-y>0&&(f[g]=this._subParams.slice(y,C))}return f}addDigit(f){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const y=this._digitIsSub?this._subParams:this.params,C=y[g-1];y[g-1]=~C?Math.min(10*C+f,c):f}}n.Params=p},5741:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0,n.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let c=this._addons.length-1;c>=0;c--)this._addons[c].instance.dispose()}loadAddon(c,p){const b={instance:p,dispose:p.dispose,isDisposed:!1};this._addons.push(b),p.dispose=()=>this._wrappedAddonDispose(b),p.activate(c)}_wrappedAddonDispose(c){if(c.isDisposed)return;let p=-1;for(let b=0;b<this._addons.length;b++)if(this._addons[b]===c){p=b;break}if(p===-1)throw new Error("Could not dispose an addon that has not been loaded");c.isDisposed=!0,c.dispose.apply(c.instance),this._addons.splice(p,1)}}},8771:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;const p=c(3785),b=c(511);n.BufferApiView=class{constructor(f,g){this._buffer=f,this.type=g}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const g=this._buffer.lines.get(f);if(g)return new p.BufferLineApiView(g)}getNullCell(){return new b.CellData}}},3785:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;const p=c(511);n.BufferLineApiView=class{constructor(b){this._line=b}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(b,f){if(!(b<0||b>=this._line.length))return f?(this._line.loadCell(b,f),f):this._line.loadCell(b,new p.CellData)}translateToString(b,f,g){return this._line.translateToString(b,f,g)}}},8285:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;const p=c(8771),b=c(8460),f=c(844);class g extends f.Disposable{constructor(C){super(),this._core=C,this._onBufferChange=this.register(new b.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new p.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new p.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}n.BufferNamespaceApi=g},7975:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0,n.ParserApi=class{constructor(c){this._core=c}registerCsiHandler(c,p){return this._core.registerCsiHandler(c,b=>p(b.toArray()))}addCsiHandler(c,p){return this.registerCsiHandler(c,p)}registerDcsHandler(c,p){return this._core.registerDcsHandler(c,(b,f)=>p(b,f.toArray()))}addDcsHandler(c,p){return this.registerDcsHandler(c,p)}registerEscHandler(c,p){return this._core.registerEscHandler(c,p)}addEscHandler(c,p){return this.registerEscHandler(c,p)}registerOscHandler(c,p){return this._core.registerOscHandler(c,p)}addOscHandler(c,p){return this.registerOscHandler(c,p)}}},7090:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0,n.UnicodeApi=class{constructor(c){this._core=c}register(c){this._core.unicodeService.register(c)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(c){this._core.unicodeService.activeVersion=c}}},744:function(m,n,c){var p=this&&this.__decorate||function(h,u,o,d){var _,v=arguments.length,w=v<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,o):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,u,o,d);else for(var E=h.length-1;E>=0;E--)(_=h[E])&&(w=(v<3?_(w):v>3?_(u,o,w):_(u,o))||w);return v>3&&w&&Object.defineProperty(u,o,w),w},b=this&&this.__param||function(h,u){return function(o,d){u(o,d,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;const f=c(8460),g=c(844),y=c(5295),C=c(2585);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;let x=n.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(h){super(),this.isUserScrolling=!1,this._onResize=this.register(new f.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(h.rawOptions.cols||0,n.MINIMUM_COLS),this.rows=Math.max(h.rawOptions.rows||0,n.MINIMUM_ROWS),this.buffers=this.register(new y.BufferSet(h,this))}resize(h,u){this.cols=h,this.rows=u,this.buffers.resize(h,u),this._onResize.fire({cols:h,rows:u})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(h,u=!1){const o=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===h.fg&&d.getBg(0)===h.bg||(d=o.getBlankLine(h,u),this._cachedBlankLine=d),d.isWrapped=u;const _=o.ybase+o.scrollTop,v=o.ybase+o.scrollBottom;if(o.scrollTop===0){const w=o.lines.isFull;v===o.lines.length-1?w?o.lines.recycle().copyFrom(d):o.lines.push(d.clone()):o.lines.splice(v+1,0,d.clone()),w?this.isUserScrolling&&(o.ydisp=Math.max(o.ydisp-1,0)):(o.ybase++,this.isUserScrolling||o.ydisp++)}else{const w=v-_+1;o.lines.shiftElements(_+1,w-1,-1),o.lines.set(v,d.clone())}this.isUserScrolling||(o.ydisp=o.ybase),this._onScroll.fire(o.ydisp)}scrollLines(h,u,o){const d=this.buffer;if(h<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else h+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const _=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+h,d.ybase),0),_!==d.ydisp&&(u||this._onScroll.fire(d.ydisp))}};n.BufferService=x=p([b(0,C.IOptionsService)],x)},7994:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0,n.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(c){this.glevel=c,this.charset=this._charsets[c]}setgCharset(c,p){this._charsets[c]=p,this.glevel===c&&(this.charset=p)}}},1753:function(m,n,c){var p=this&&this.__decorate||function(d,_,v,w){var E,S=arguments.length,j=S<3?_:w===null?w=Object.getOwnPropertyDescriptor(_,v):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(d,_,v,w);else for(var T=d.length-1;T>=0;T--)(E=d[T])&&(j=(S<3?E(j):S>3?E(_,v,j):E(_,v))||j);return S>3&&j&&Object.defineProperty(_,v,j),j},b=this&&this.__param||function(d,_){return function(v,w){_(v,w,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;const f=c(2585),g=c(8460),y=c(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:d=>d.button!==4&&d.action===1&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)},VT200:{events:19,restrict:d=>d.action!==32},DRAG:{events:23,restrict:d=>d.action!==32||d.button!==3},ANY:{events:31,restrict:d=>!0}};function x(d,_){let v=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return d.button===4?(v|=64,v|=d.action):(v|=3&d.button,4&d.button&&(v|=64),8&d.button&&(v|=128),d.action===32?v|=32:d.action!==0||_||(v|=3)),v}const h=String.fromCharCode,u={DEFAULT:d=>{const _=[x(d,!1)+32,d.col+32,d.row+32];return _[0]>255||_[1]>255||_[2]>255?"":`\x1B[M${h(_[0])}${h(_[1])}${h(_[2])}`},SGR:d=>{const _=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${x(d,!0)};${d.col};${d.row}${_}`},SGR_PIXELS:d=>{const _=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${x(d,!0)};${d.x};${d.y}${_}`}};let o=n.CoreMouseService=class extends y.Disposable{constructor(d,_){super(),this._bufferService=d,this._coreService=_,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const v of Object.keys(C))this.addProtocol(v,C[v]);for(const v of Object.keys(u))this.addEncoding(v,u[v]);this.reset()}addProtocol(d,_){this._protocols[d]=_}addEncoding(d,_){this._encodings[d]=_}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(d){if(!this._protocols[d])throw new Error(`unknown protocol "${d}"`);this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(d){if(!this._encodings[d])throw new Error(`unknown encoding "${d}"`);this._activeEncoding=d}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||d.button===4&&d.action===32||d.button===3&&d.action!==32||d.button!==4&&(d.action===2||d.action===3)||(d.col++,d.row++,d.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,d,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(d))return!1;const _=this._encodings[this._activeEncoding](d);return _&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(_):this._coreService.triggerDataEvent(_,!0)),this._lastEvent=d,!0}explainEvents(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}}_equalEvents(d,_,v){if(v){if(d.x!==_.x||d.y!==_.y)return!1}else if(d.col!==_.col||d.row!==_.row)return!1;return d.button===_.button&&d.action===_.action&&d.ctrl===_.ctrl&&d.alt===_.alt&&d.shift===_.shift}};n.CoreMouseService=o=p([b(0,f.IBufferService),b(1,f.ICoreService)],o)},6975:function(m,n,c){var p=this&&this.__decorate||function(o,d,_,v){var w,E=arguments.length,S=E<3?d:v===null?v=Object.getOwnPropertyDescriptor(d,_):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(o,d,_,v);else for(var j=o.length-1;j>=0;j--)(w=o[j])&&(S=(E<3?w(S):E>3?w(d,_,S):w(d,_))||S);return E>3&&S&&Object.defineProperty(d,_,S),S},b=this&&this.__param||function(o,d){return function(_,v){d(_,v,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;const f=c(1439),g=c(8460),y=c(844),C=c(2585),x=Object.freeze({insertMode:!1}),h=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let u=n.CoreService=class extends y.Disposable{constructor(o,d,_){super(),this._bufferService=o,this._logService=d,this._optionsService=_,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,f.clone)(x),this.decPrivateModes=(0,f.clone)(h)}reset(){this.modes=(0,f.clone)(x),this.decPrivateModes=(0,f.clone)(h)}triggerDataEvent(o,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const _=this._bufferService.buffer;d&&this._optionsService.rawOptions.scrollOnUserInput&&_.ybase!==_.ydisp&&this._onRequestScrollToBottom.fire(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${o}"`,()=>o.split("").map(v=>v.charCodeAt(0))),this._onData.fire(o)}triggerBinaryEvent(o){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${o}"`,()=>o.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(o))}};n.CoreService=u=p([b(0,C.IBufferService),b(1,C.ILogService),b(2,C.IOptionsService)],u)},9074:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DecorationService=void 0;const p=c(8055),b=c(8460),f=c(844),g=c(6106);let y=0,C=0;class x extends f.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(o=>o==null?void 0:o.marker.line),this._onDecorationRegistered=this.register(new b.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new b.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,f.toDisposable)(()=>this.reset()))}registerDecoration(o){if(o.marker.isDisposed)return;const d=new h(o);if(d){const _=d.marker.onDispose(()=>d.dispose());d.onDispose(()=>{d&&(this._decorations.delete(d)&&this._onDecorationRemoved.fire(d),_.dispose())}),this._decorations.insert(d),this._onDecorationRegistered.fire(d)}return d}reset(){for(const o of this._decorations.values())o.dispose();this._decorations.clear()}*getDecorationsAtCell(o,d,_){var v,w,E;let S=0,j=0;for(const T of this._decorations.getKeyIterator(d))S=(v=T.options.x)!==null&&v!==void 0?v:0,j=S+((w=T.options.width)!==null&&w!==void 0?w:1),o>=S&&o<j&&(!_||((E=T.options.layer)!==null&&E!==void 0?E:"bottom")===_)&&(yield T)}forEachDecorationAtCell(o,d,_,v){this._decorations.forEachByKey(d,w=>{var E,S,j;y=(E=w.options.x)!==null&&E!==void 0?E:0,C=y+((S=w.options.width)!==null&&S!==void 0?S:1),o>=y&&o<C&&(!_||((j=w.options.layer)!==null&&j!==void 0?j:"bottom")===_)&&v(w)})}}n.DecorationService=x;class h extends f.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=p.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=p.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(o){super(),this.options=o,this.onRenderEmitter=this.register(new b.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new b.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=o.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;const p=c(2585),b=c(8343);class f{constructor(...y){this._entries=new Map;for(const[C,x]of y)this.set(C,x)}set(y,C){const x=this._entries.get(y);return this._entries.set(y,C),x}forEach(y){for(const[C,x]of this._entries.entries())y(C,x)}has(y){return this._entries.has(y)}get(y){return this._entries.get(y)}}n.ServiceCollection=f,n.InstantiationService=class{constructor(){this._services=new f,this._services.set(p.IInstantiationService,this)}setService(g,y){this._services.set(g,y)}getService(g){return this._services.get(g)}createInstance(g,...y){const C=(0,b.getServiceDependencies)(g).sort((u,o)=>u.index-o.index),x=[];for(const u of C){const o=this._services.get(u.id);if(!o)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${u.id}.`);x.push(o)}const h=C.length>0?C[0].index:y.length;if(y.length!==h)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${h+1} conflicts with ${y.length} static arguments`);return new g(...y,...x)}}},7866:function(m,n,c){var p=this&&this.__decorate||function(h,u,o,d){var _,v=arguments.length,w=v<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,o):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,u,o,d);else for(var E=h.length-1;E>=0;E--)(_=h[E])&&(w=(v<3?_(w):v>3?_(u,o,w):_(u,o))||w);return v>3&&w&&Object.defineProperty(u,o,w),w},b=this&&this.__param||function(h,u){return function(o,d){u(o,d,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.traceCall=n.setTraceLogger=n.LogService=void 0;const f=c(844),g=c(2585),y={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let C,x=n.LogService=class extends f.Disposable{get logLevel(){return this._logLevel}constructor(h){super(),this._optionsService=h,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),C=this}_updateLogLevel(){this._logLevel=y[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(h){for(let u=0;u<h.length;u++)typeof h[u]=="function"&&(h[u]=h[u]())}_log(h,u,o){this._evalLazyOptionalParams(o),h.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+u,...o)}trace(h,...u){var o,d;this._logLevel<=g.LogLevelEnum.TRACE&&this._log((d=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.trace.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,h,u)}debug(h,...u){var o,d;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log((d=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.debug.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.log,h,u)}info(h,...u){var o,d;this._logLevel<=g.LogLevelEnum.INFO&&this._log((d=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.info.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.info,h,u)}warn(h,...u){var o,d;this._logLevel<=g.LogLevelEnum.WARN&&this._log((d=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.warn.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.warn,h,u)}error(h,...u){var o,d;this._logLevel<=g.LogLevelEnum.ERROR&&this._log((d=(o=this._optionsService.options.logger)===null||o===void 0?void 0:o.error.bind(this._optionsService.options.logger))!==null&&d!==void 0?d:console.error,h,u)}};n.LogService=x=p([b(0,g.IOptionsService)],x),n.setTraceLogger=function(h){C=h},n.traceCall=function(h,u,o){if(typeof o.value!="function")throw new Error("not supported");const d=o.value;o.value=function(..._){if(C.logLevel!==g.LogLevelEnum.TRACE)return d.apply(this,_);C.trace(`GlyphRenderer#${d.name}(${_.map(w=>JSON.stringify(w)).join(", ")})`);const v=d.apply(this,_);return C.trace(`GlyphRenderer#${d.name} return`,v),v}}},7302:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=void 0;const p=c(8460),b=c(844),f=c(6114);n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class y extends b.Disposable{constructor(x){super(),this._onOptionChange=this.register(new p.EventEmitter),this.onOptionChange=this._onOptionChange.event;const h=Object.assign({},n.DEFAULT_OPTIONS);for(const u in x)if(u in h)try{const o=x[u];h[u]=this._sanitizeAndValidateOption(u,o)}catch(o){console.error(o)}this.rawOptions=h,this.options=Object.assign({},h),this._setupOptions()}onSpecificOptionChange(x,h){return this.onOptionChange(u=>{u===x&&h(this.rawOptions[x])})}onMultipleOptionChange(x,h){return this.onOptionChange(u=>{x.indexOf(u)!==-1&&h()})}_setupOptions(){const x=u=>{if(!(u in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${u}"`);return this.rawOptions[u]},h=(u,o)=>{if(!(u in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${u}"`);o=this._sanitizeAndValidateOption(u,o),this.rawOptions[u]!==o&&(this.rawOptions[u]=o,this._onOptionChange.fire(u))};for(const u in this.rawOptions){const o={get:x.bind(this,u),set:h.bind(this,u)};Object.defineProperty(this.options,u,o)}}_sanitizeAndValidateOption(x,h){switch(x){case"cursorStyle":if(h||(h=n.DEFAULT_OPTIONS[x]),!function(u){return u==="block"||u==="underline"||u==="bar"}(h))throw new Error(`"${h}" is not a valid value for ${x}`);break;case"wordSeparator":h||(h=n.DEFAULT_OPTIONS[x]);break;case"fontWeight":case"fontWeightBold":if(typeof h=="number"&&1<=h&&h<=1e3)break;h=g.includes(h)?h:n.DEFAULT_OPTIONS[x];break;case"cursorWidth":h=Math.floor(h);case"lineHeight":case"tabStopWidth":if(h<1)throw new Error(`${x} cannot be less than 1, value: ${h}`);break;case"minimumContrastRatio":h=Math.max(1,Math.min(21,Math.round(10*h)/10));break;case"scrollback":if((h=Math.min(h,4294967295))<0)throw new Error(`${x} cannot be less than 0, value: ${h}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(h<=0)throw new Error(`${x} cannot be less than or equal to 0, value: ${h}`);break;case"rows":case"cols":if(!h&&h!==0)throw new Error(`${x} must be numeric, value: ${h}`);break;case"windowsPty":h=h??{}}return h}}n.OptionsService=y},2660:function(m,n,c){var p=this&&this.__decorate||function(y,C,x,h){var u,o=arguments.length,d=o<3?C:h===null?h=Object.getOwnPropertyDescriptor(C,x):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(y,C,x,h);else for(var _=y.length-1;_>=0;_--)(u=y[_])&&(d=(o<3?u(d):o>3?u(C,x,d):u(C,x))||d);return o>3&&d&&Object.defineProperty(C,x,d),d},b=this&&this.__param||function(y,C){return function(x,h){C(x,h,y)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkService=void 0;const f=c(2585);let g=n.OscLinkService=class{constructor(y){this._bufferService=y,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(y){const C=this._bufferService.buffer;if(y.id===void 0){const _=C.addMarker(C.ybase+C.y),v={data:y,id:this._nextId++,lines:[_]};return _.onDispose(()=>this._removeMarkerFromLink(v,_)),this._dataByLinkId.set(v.id,v),v.id}const x=y,h=this._getEntryIdKey(x),u=this._entriesWithId.get(h);if(u)return this.addLineToLink(u.id,C.ybase+C.y),u.id;const o=C.addMarker(C.ybase+C.y),d={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[o]};return o.onDispose(()=>this._removeMarkerFromLink(d,o)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(y,C){const x=this._dataByLinkId.get(y);if(x&&x.lines.every(h=>h.line!==C)){const h=this._bufferService.buffer.addMarker(C);x.lines.push(h),h.onDispose(()=>this._removeMarkerFromLink(x,h))}}getLinkData(y){var C;return(C=this._dataByLinkId.get(y))===null||C===void 0?void 0:C.data}_getEntryIdKey(y){return`${y.id};;${y.uri}`}_removeMarkerFromLink(y,C){const x=y.lines.indexOf(C);x!==-1&&(y.lines.splice(x,1),y.lines.length===0&&(y.data.id!==void 0&&this._entriesWithId.delete(y.key),this._dataByLinkId.delete(y.id)))}};n.OscLinkService=g=p([b(0,f.IBufferService)],g)},8343:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0;const c="di$target",p="di$dependencies";n.serviceRegistry=new Map,n.getServiceDependencies=function(b){return b[p]||[]},n.createDecorator=function(b){if(n.serviceRegistry.has(b))return n.serviceRegistry.get(b);const f=function(g,y,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,h,u){h[c]===h?h[p].push({id:x,index:u}):(h[p]=[{id:x,index:u}],h[c]=h)})(f,g,C)};return f.toString=()=>b,n.serviceRegistry.set(b,f),f}},2585:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.IUnicodeService=n.IOscLinkService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;const p=c(8343);var b;n.IBufferService=(0,p.createDecorator)("BufferService"),n.ICoreMouseService=(0,p.createDecorator)("CoreMouseService"),n.ICoreService=(0,p.createDecorator)("CoreService"),n.ICharsetService=(0,p.createDecorator)("CharsetService"),n.IInstantiationService=(0,p.createDecorator)("InstantiationService"),function(f){f[f.TRACE=0]="TRACE",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.OFF=5]="OFF"}(b||(n.LogLevelEnum=b={})),n.ILogService=(0,p.createDecorator)("LogService"),n.IOptionsService=(0,p.createDecorator)("OptionsService"),n.IOscLinkService=(0,p.createDecorator)("OscLinkService"),n.IUnicodeService=(0,p.createDecorator)("UnicodeService"),n.IDecorationService=(0,p.createDecorator)("DecorationService")},1480:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;const p=c(8460),b=c(225);n.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new p.EventEmitter,this.onChange=this._onChange.event;const f=new b.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let g=0;const y=f.length;for(let C=0;C<y;++C){let x=f.charCodeAt(C);if(55296<=x&&x<=56319){if(++C>=y)return g+this.wcwidth(x);const h=f.charCodeAt(C);56320<=h&&h<=57343?x=1024*(x-55296)+h-56320+65536:g+=this.wcwidth(h)}g+=this.wcwidth(x)}return g}}}},i={};function r(m){var n=i[m];if(n!==void 0)return n.exports;var c=i[m]={exports:{}};return s[m].call(c.exports,c,c.exports,r),c.exports}var l={};return(()=>{var m=l;Object.defineProperty(m,"__esModule",{value:!0}),m.Terminal=void 0;const n=r(9042),c=r(3236),p=r(844),b=r(5741),f=r(8285),g=r(7975),y=r(7090),C=["cols","rows"];class x extends p.Disposable{constructor(u){super(),this._core=this.register(new c.Terminal(u)),this._addonManager=this.register(new b.AddonManager),this._publicOptions=Object.assign({},this._core.options);const o=_=>this._core.options[_],d=(_,v)=>{this._checkReadonlyOptions(_),this._core.options[_]=v};for(const _ in this._core.options){const v={get:o.bind(this,_),set:d.bind(this,_)};Object.defineProperty(this._publicOptions,_,v)}}_checkReadonlyOptions(u){if(C.includes(u))throw new Error(`Option "${u}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new y.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new f.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const u=this._core.coreService.decPrivateModes;let o="none";switch(this._core.coreMouseService.activeProtocol){case"X10":o="x10";break;case"VT200":o="vt200";break;case"DRAG":o="drag";break;case"ANY":o="any"}return{applicationCursorKeysMode:u.applicationCursorKeys,applicationKeypadMode:u.applicationKeypad,bracketedPasteMode:u.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:o,originMode:u.origin,reverseWraparoundMode:u.reverseWraparound,sendFocusMode:u.sendFocus,wraparoundMode:u.wraparound}}get options(){return this._publicOptions}set options(u){for(const o in u)this._publicOptions[o]=u[o]}blur(){this._core.blur()}focus(){this._core.focus()}resize(u,o){this._verifyIntegers(u,o),this._core.resize(u,o)}open(u){this._core.open(u)}attachCustomKeyEventHandler(u){this._core.attachCustomKeyEventHandler(u)}registerLinkProvider(u){return this._core.registerLinkProvider(u)}registerCharacterJoiner(u){return this._checkProposedApi(),this._core.registerCharacterJoiner(u)}deregisterCharacterJoiner(u){this._checkProposedApi(),this._core.deregisterCharacterJoiner(u)}registerMarker(u=0){return this._verifyIntegers(u),this._core.registerMarker(u)}registerDecoration(u){var o,d,_;return this._checkProposedApi(),this._verifyPositiveIntegers((o=u.x)!==null&&o!==void 0?o:0,(d=u.width)!==null&&d!==void 0?d:0,(_=u.height)!==null&&_!==void 0?_:0),this._core.registerDecoration(u)}hasSelection(){return this._core.hasSelection()}select(u,o,d){this._verifyIntegers(u,o,d),this._core.select(u,o,d)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(u,o){this._verifyIntegers(u,o),this._core.selectLines(u,o)}dispose(){super.dispose()}scrollLines(u){this._verifyIntegers(u),this._core.scrollLines(u)}scrollPages(u){this._verifyIntegers(u),this._core.scrollPages(u)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(u){this._verifyIntegers(u),this._core.scrollToLine(u)}clear(){this._core.clear()}write(u,o){this._core.write(u,o)}writeln(u,o){this._core.write(u),this._core.write(`\r
`,o)}paste(u){this._core.paste(u)}refresh(u,o){this._verifyIntegers(u,o),this._core.refresh(u,o)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(u){this._addonManager.loadAddon(this,u)}static get strings(){return n}_verifyIntegers(...u){for(const o of u)if(o===1/0||isNaN(o)||o%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...u){for(const o of u)if(o&&(o===1/0||isNaN(o)||o%1!=0||o<0))throw new Error("This API only accepts positive integers")}}m.Terminal=x})(),l})())})(vg);var Kx=vg.exports,_g={exports:{}};(function(e,t){(function(s,i){e.exports=i()})(self,()=>(()=>{var s={};return(()=>{var i=s;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(r){this._terminal=r}dispose(){}fit(){const r=this.proposeDimensions();if(!r||!this._terminal||isNaN(r.cols)||isNaN(r.rows))return;const l=this._terminal._core;this._terminal.rows===r.rows&&this._terminal.cols===r.cols||(l._renderService.clear(),this._terminal.resize(r.cols,r.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const r=this._terminal._core,l=r._renderService.dimensions;if(l.css.cell.width===0||l.css.cell.height===0)return;const m=this._terminal.options.scrollback===0?0:r.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),c=parseInt(n.getPropertyValue("height")),p=Math.max(0,parseInt(n.getPropertyValue("width"))),b=window.getComputedStyle(this._terminal.element),f=c-(parseInt(b.getPropertyValue("padding-top"))+parseInt(b.getPropertyValue("padding-bottom"))),g=p-(parseInt(b.getPropertyValue("padding-right"))+parseInt(b.getPropertyValue("padding-left")))-m;return{cols:Math.max(2,Math.floor(g/l.css.cell.width)),rows:Math.max(1,Math.floor(f/l.css.cell.height))}}}})(),s})())})(_g);var Yx=_g.exports;function Vx(){var i,r,l,m;const e=(r=(i=import.meta)==null?void 0:i.env)==null?void 0:r.VITE_WS_URL;(m=(l=import.meta)==null?void 0:l.env)!=null&&m.VITE_WS_PORT;const s=`${location.protocol==="https:"?"wss":"ws"}://${location.host}/ws`;return e||s}function Xx({connectionId:e,openTab:t}){const[s,i]=$.useState([]),[r,l]=$.useState(""),[m,n]=$.useState("disconnected"),[c,p]=$.useState(null),[b,f]=$.useState(!1),g=$.useRef(null),y=$.useRef(null),C=$.useRef(null),x=$.useRef(null),h=$.useMemo(()=>(s||[]).filter(k=>k.type==="ssh"),[s]);$.useEffect(()=>{(async()=>{const k=await Bn();i(k.connections||[]);const D=(k.connections||[]).filter(H=>H.type==="ssh"),W=D.find(H=>H.id===e)||D[0];W&&l(W.id)})()},[e]),$.useEffect(()=>{const k=new WebSocket(Vx());return k.onmessage=D=>{var P,W;try{const H=JSON.parse(D.data);(H==null?void 0:H.type)==="ssh"&&((P=H==null?void 0:H.data)==null?void 0:P.event)==="shellData"&&H.data.sessionId===c&&((W=y.current)==null||W.write(H.data.data))}catch{}},x.current=k,()=>{try{k.close()}catch{}}},[c]),$.useEffect(()=>{let k=!1;function D(){if(k)return;const W=g.current;if(!W||!W.isConnected){requestAnimationFrame(D);return}try{const H=new Kx.Terminal({rendererType:"canvas",fontFamily:"JetBrains Mono, Fira Code, Consolas, monospace",fontSize:13,convertEol:!0,cursorBlink:!0,theme:{background:"#ffffff",foreground:"#111827"}}),I=new Yx.FitAddon;H.loadAddon(I),H.open(W),requestAnimationFrame(()=>requestAnimationFrame(()=>{try{I.fit()}catch{}})),y.current=H,C.current=I;const A=()=>{requestAnimationFrame(()=>{try{I.fit()}catch{}})};return window.addEventListener("resize",A),H.onData(async R=>{if(c)try{await $e(r,"shellInput",{sessionId:c,data:R})}catch{}}),()=>{window.removeEventListener("resize",A);try{H.dispose()}catch{}}}catch{setTimeout(D,16)}}const P=D();return()=>{k=!0,typeof P=="function"&&P()}},[]);async function u(){var k,D,P,W,H;if(r){f(!0);try{await cr(r),n("connected");const I=((k=y.current)==null?void 0:k.cols)||80,A=((D=y.current)==null?void 0:D.rows)||24,R=await $e(r,"shellOpen",{cols:I,rows:A}),M=(P=R==null?void 0:R.data)==null?void 0:P.sessionId;p(M),(W=y.current)==null||W.write(`\r
`)}catch(I){(H=y.current)==null||H.writeln(`\r
Error: ${I.message}`)}finally{f(!1)}}}async function o(){if(r){f(!0);try{c&&(await $e(r,"shellClose",{sessionId:c}),p(null)),await ur(r),n("disconnected")}finally{f(!1)}}}$.useEffect(()=>{const k=setInterval(()=>{var W,H;if(!c)return;const D=(W=y.current)==null?void 0:W.cols,P=(H=y.current)==null?void 0:H.rows;D&&P&&$e(r,"shellResize",{sessionId:c,cols:D,rows:P}).catch(()=>{})},1500);return()=>clearInterval(k)},[c,r]);const[d,_]=$.useState("."),[v,w]=$.useState([]);async function E(){var k;if(!(!r||m!=="connected"))try{const D=await $e(r,"sftpList",{path:d}),P=((k=D==null?void 0:D.data)==null?void 0:k.entries)||(D==null?void 0:D.entries)||[];w(P)}catch(D){console.error(D)}}async function S(k){var D;try{const P=d.endsWith("/")?`${d}${k}`:`${d}/${k}`,W=await $e(r,"sftpGet",{path:P}),H=((D=W==null?void 0:W.data)==null?void 0:D.base64)||(W==null?void 0:W.base64);if(!H)return;const I=j(H),A=URL.createObjectURL(I),R=document.createElement("a");R.href=A,R.download=k,R.click(),URL.revokeObjectURL(A)}catch(P){console.error(P)}}function j(k){const D=atob(k),P=new Array(D.length);for(let H=0;H<D.length;H++)P[H]=D.charCodeAt(H);const W=new Uint8Array(P);return new Blob([W])}async function T(k){const D=await k.arrayBuffer();let P="";const W=new Uint8Array(D);for(let A=0;A<W.length;A++)P+=String.fromCharCode(W[A]);const H=btoa(P),I=d.endsWith("/")?`${d}${k.name}`:`${d}/${k.name}`;await $e(r,"sftpPut",{path:I,base64:H}),await E()}async function z(k){if(k&&k==="ssh_local"){const P=(await _s({name:"SSH localhost",type:"ssh",config:{host:"localhost",port:22,username:"user"}})).connection;l(P.id),typeof t=="function"&&t("ssh",{connectionId:P.id,connection:P,title:`SSH  ${P.name}`})}}return a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Quick pick:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:k=>{const D=k.target.value;k.target.value="",z(D)},children:[a.jsx("option",{children:"Pick"}),a.jsx("option",{value:"ssh_local",children:"SSH localhost (22)"})]})]}),a.jsx(Qx,{connections:s,selectedId:r,status:m}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"SSH Connection"}),a.jsx("select",{className:"border rounded px-3 py-2 min-w-[16rem]",value:r,onChange:k=>l(k.target.value),children:h.map(k=>{var D;return a.jsxs("option",{value:k.id,children:[k.name," (",(D=k.config)==null?void 0:D.host,")"]},k.id)})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:u,disabled:!r||b||m==="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[b?a.jsx(Ls,{size:14,className:"animate-spin"}):a.jsx(Tc,{size:14})," Connect"]}),a.jsxs("button",{onClick:o,disabled:!r||b||m!=="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[a.jsx(Dc,{size:14})," Disconnect"]})]})]}),a.jsx("div",{className:"border rounded h-[360px] overflow-hidden",children:a.jsx("div",{ref:g,className:"h-full","aria-label":"SSH Terminal"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"border rounded p-3",children:[a.jsxs("div",{className:"flex items-end gap-2 mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"SFTP Path"}),a.jsx("input",{className:"w-full border rounded px-2 py-1",value:d,onChange:k=>_(k.target.value)})]}),a.jsx("button",{className:"px-3 py-1.5 border rounded",disabled:m!=="connected",onClick:E,children:"List"}),a.jsxs("label",{className:"px-3 py-1.5 border rounded cursor-pointer",children:["Upload",a.jsx("input",{type:"file",className:"hidden",onChange:k=>k.target.files&&k.target.files[0]&&T(k.target.files[0])})]})]}),a.jsxs("div",{className:"max-h-48 overflow-auto text-sm",children:[v.map((k,D)=>a.jsxs("div",{className:"flex items-center justify-between border-b py-1",children:[a.jsx("span",{className:"font-mono",children:k.filename}),a.jsx("button",{className:"px-2 py-0.5 text-xs border rounded",onClick:()=>S(k.filename),children:"Download"})]},D)),v.length===0&&a.jsx("div",{className:"text-gray-500",children:"No entries"})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:["Status: ",m,c?`  session ${c.slice(0,8)}`:""]})]})]})}function Qx({connections:e,selectedId:t,status:s}){const i=(e||[]).find(r=>r.id===t)||null;return a.jsx("div",{className:"ml-auto",children:a.jsx(yi,{connection:i||void 0,status:s})})}function Jx({connectionId:e}){const[t,s]=$.useState([]),[i,r]=$.useState(""),[l,m]=$.useState("disconnected"),[n,c]=$.useState([]),[p,b]=$.useState(""),[f,g]=$.useState([]),[y,C]=$.useState("default"),[x,h]=$.useState([]),[u,o]=$.useState(!1),[d,_]=$.useState([]),[v,w]=$.useState(null),[E,S]=$.useState(null),[j,T]=$.useState("/bin/sh"),z=$.useMemo(()=>(t||[]).filter(G=>G.type==="k8s"),[t]);$.useEffect(()=>{(async()=>{const G=await Bn();s(G.connections||[]);const X=(G.connections||[]).filter(N=>N.type==="k8s"),re=X.find(N=>N.id===e)||X[0];re&&r(re.id)})()},[e]);async function k(){if(i){o(!0);try{await cr(i),m("connected"),await P(),await H()}finally{o(!1)}}}async function D(){if(i){o(!0);try{await ur(i),m("disconnected"),c([]),g([])}finally{o(!1)}}}async function P(){const G=await $e(i,"contexts",{}),X=(G==null?void 0:G.data)||G,J=(X.contexts||[]).map(re=>re.name||(re==null?void 0:re.name));c(J),b(X.current||"")}async function W(G){await $e(i,"useContext",{name:G}),await P(),await H()}async function H(){var J;const G=await $e(i,"namespaces",{}),X=(G==null?void 0:G.data)||G;g(X.namespaces||[]),(J=X.namespaces)!=null&&J.length&&!X.namespaces.includes(y)&&C(X.namespaces[0])}async function I(){const G=await $e(i,"pods",{namespace:y}),X=(G==null?void 0:G.data)||G;h(X.pods||[])}$.useEffect(()=>{const G=new WebSocket(location.origin.replace("http","ws"));return G.onmessage=X=>{var J;try{const re=JSON.parse(X.data);(re==null?void 0:re.type)==="k8s"&&((J=re==null?void 0:re.data)==null?void 0:J.event)==="logLine"&&re.data.connectionId===i&&(!v||re.data.id===v)&&_(N=>[...N,re.data.line].slice(-1e3))}catch{}},()=>{try{G.close()}catch{}}},[i,v]);async function A(G,X){var N;const J=await $e(i,"logsStart",{namespace:y,pod:G,container:X,tailLines:200}),re=((N=J==null?void 0:J.data)==null?void 0:N.id)||(J==null?void 0:J.id);w(re),_([])}async function R(){v&&(await $e(i,"logsStop",{id:v}),w(null))}async function M(G,X){var F;const J=j.trim().split(/\s+/),re=await $e(i,"execOpen",{namespace:y,pod:G,container:X,command:J,tty:!0}),N=((F=re==null?void 0:re.data)==null?void 0:F.id)||(re==null?void 0:re.id);S(N)}async function L(G){E&&await $e(i,"execInput",{id:E,data:G})}async function K(){E&&(await $e(i,"execClose",{id:E}),S(null))}return a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx(Zx,{connections:t,selectedId:i,status:l}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"Kubernetes Connection"}),a.jsx("select",{className:"border rounded px-3 py-2 min-w-[16rem]",value:i,onChange:G=>r(G.target.value),children:z.map(G=>{var X,J,re;return a.jsxs("option",{value:G.id,children:[G.name," (",((X=G.config)==null?void 0:X.context)||((J=G.config)==null?void 0:J.kubeconfigPath)||((re=G.config)==null?void 0:re.kubeconfigSource),")"]},G.id)})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:k,disabled:!i||u||l==="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[u?a.jsx(Ls,{size:14,className:"animate-spin"}):a.jsx(Tc,{size:14})," Connect"]}),a.jsxs("button",{onClick:D,disabled:!i||u||l!=="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[a.jsx(Dc,{size:14})," Disconnect"]}),a.jsxs("button",{onClick:P,disabled:l!=="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[a.jsx(Ls,{size:14})," Contexts"]}),a.jsxs("button",{onClick:H,disabled:l!=="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[a.jsx(Ls,{size:14})," Namespaces"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"border rounded p-3",children:[a.jsxs("div",{className:"font-medium mb-2",children:["Contexts ",p?a.jsxs("span",{className:"text-xs text-gray-500",children:["(current: ",p,")"]}):null]}),a.jsxs("div",{className:"space-y-1",children:[n.map(G=>a.jsxs("div",{className:"flex items-center justify-between py-1 border-b last:border-b-0",children:[a.jsx("div",{className:"font-mono text-sm",children:G}),a.jsx("button",{className:"px-2 py-1 text-xs border rounded",disabled:G===p,onClick:()=>W(G),children:"Use"})]},G)),n.length===0&&a.jsx("div",{className:"text-sm text-gray-500",children:"No contexts"})]})]}),a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"font-medium mb-2",children:"Namespaces"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("select",{className:"border rounded px-2 py-1",value:y,onChange:G=>C(G.target.value),children:f.map(G=>a.jsx("option",{value:G,children:G},G))}),a.jsx("button",{className:"px-2 py-1 border rounded",onClick:I,children:"Load Pods"})]}),f.length===0&&a.jsx("div",{className:"text-sm text-gray-500",children:"No namespaces"})]})]}),a.jsxs("div",{className:"border rounded p-3",children:[a.jsxs("div",{className:"font-medium mb-2",children:["Pods in ",y]}),a.jsxs("div",{className:"max-h-56 overflow-auto text-sm",children:[x.map(G=>a.jsxs("div",{className:"border-b py-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-mono",children:G.name}),a.jsx("span",{className:"text-xs text-gray-600",children:G.phase})]}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>A(G.name),children:"Logs"}),a.jsx("input",{className:"px-2 py-1 border rounded text-xs flex-1",value:j,onChange:X=>T(X.target.value)}),a.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>M(G.name),children:"Exec"})]})]},G.name)),x.length===0&&a.jsx("div",{className:"text-gray-500",children:"No pods"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"border rounded p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"font-medium",children:["Logs ",v?a.jsxs("span",{className:"text-xs text-gray-500",children:["(stream ",v.slice(0,6),")"]}):null]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-1 border rounded text-xs",disabled:!v,onClick:R,children:"Stop"}),a.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>_([]),children:"Clear"})]})]}),a.jsx("pre",{className:"bg-black text-green-400 text-xs p-2 rounded max-h-64 overflow-auto",children:d.join("")})]}),a.jsxs("div",{className:"border rounded p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"font-medium",children:["Exec ",E?a.jsxs("span",{className:"text-xs text-gray-500",children:["(session ",E.slice(0,6),")"]}):null]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{className:"px-2 py-1 border rounded text-xs",disabled:!E,onClick:K,children:"Close"})})]}),a.jsx("textarea",{className:"w-full h-24 border rounded p-2 font-mono text-xs",placeholder:"Type and Ctrl+Enter to send",onKeyDown:G=>{(G.ctrlKey||G.metaKey)&&G.key==="Enter"&&(L(G.currentTarget.value+`
`),G.currentTarget.value="")}}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Use Ctrl+Enter to send input to the container."})]})]})]})}function Zx({connections:e,selectedId:t,status:s}){const i=(e||[]).find(r=>r.id===t)||null;return a.jsx("div",{className:"ml-auto",children:a.jsx(yi,{connection:i||void 0,status:s})})}async function h2(e,t){const s=await fetch(`/unicon/api/templates/${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t||{})}),i=await s.json();if(!s.ok||(i==null?void 0:i.success)===!1)throw new Error((i==null?void 0:i.error)||"server error");return i.template}async function d2(e){const t=await fetch("/unicon/api/templates/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:e})}),s=await t.json();if(!t.ok||(s==null?void 0:s.success)===!1)throw new Error((s==null?void 0:s.error)||"server error");return s.deleted||0}const wl="unicon_templates_v1";function vn(){try{const e=JSON.parse(localStorage.getItem(wl)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function e2(e){const t=Date.now(),s=vn(),i=e.id||`${t}-${Math.random().toString(36).slice(2)}`,r=s.concat([{...e,id:i,ts:t}]);return localStorage.setItem(wl,JSON.stringify(r)),i}function f2(e){const t=vn().filter(s=>s.id!==e);localStorage.setItem(wl,JSON.stringify(t))}function m2(){const e=JSON.stringify(vn(),null,2),t=new Blob([e],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(t),s.download="unicon-library.json",s.click(),URL.revokeObjectURL(s.href)}async function p2(e){const t=await e.text(),s=JSON.parse(t);if(!Array.isArray(s))throw new Error("Invalid library file");localStorage.setItem(wl,JSON.stringify(s))}async function af(){const e=await fetch("/unicon/api/templates"),t=await e.json();if(!e.ok||(t==null?void 0:t.success)===!1)throw new Error((t==null?void 0:t.error)||"server error");return t.templates||[]}async function t2(e){const t=await fetch("/unicon/api/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok||(s==null?void 0:s.success)===!1)throw new Error((s==null?void 0:s.error)||"server error");return s.template}async function v2(e){const t=await fetch(`/unicon/api/templates/${encodeURIComponent(e)}`,{method:"DELETE"}),s=await t.json().catch(()=>({success:!0}));if(!t.ok||(s==null?void 0:s.success)===!1)throw new Error((s==null?void 0:s.error)||"server error")}async function g2(e){const t=await fetch("/unicon/api/templates/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templates:e})}),s=await t.json();if(!t.ok||(s==null?void 0:s.success)===!1)throw new Error((s==null?void 0:s.error)||"server error");return s.count||0}function s2({openTab:e}){const[t,s]=$.useState([]),[i,r]=$.useState(!1),[l,m]=$.useState(!1),[n,c]=$.useState(()=>{try{return localStorage.getItem("unicon_auto_open_last_ws_v1")==="1"}catch{return!1}}),[p,b]=$.useState(new Set),[f,g]=$.useState(()=>{try{return JSON.parse(localStorage.getItem("unicon_conn_expanded_v1")||"{}")}catch{return{}}}),[y,C]=$.useState({}),[x,h]=$.useState(null),[u,o]=$.useState(new Set),d=he.useRef(new Map),_=he.useRef(new Set),[v,w]=$.useState(null),[E,S]=$.useState(!1),[j,T]=$.useState(null),[z,k]=$.useState([]);$.useEffect(()=>{hr().then(U=>k(U.workspaces||[])).catch(()=>{})},[]);const D=async(U,ee)=>{try{await kc(U,{workspaceId:ee||null}),s(se=>se.map(le=>le.id===U?{...le,workspaceId:ee||null}:le))}catch(se){alert("Move failed: "+(se.message||"error"))}},P={REST_DNS:{title:"Hostname not found",tips:["Check the Base URL host name (typos, missing domain).","Try pinging the host from your machine.","If using a container, ensure DNS is configured."]},REST_UNREACHABLE:{title:"API not reachable",tips:["Verify server is running and reachable from your network.","Check firewalls/VPN and the port number.","If HTTPS is required, ensure the URL starts with https://."]},REST_CONNECT_ERROR:{title:"REST connection failed",tips:["Confirm the Base URL and any proxy settings.","Inspect the browser Network tab for CORS errors."]},SSH_AUTH:{title:"SSH authentication failed",tips:["Verify username/password or private key and passphrase.","Ensure the user is allowed to log in on the host.","If using a key, check file format (PEM) and permissions."]},SSH_NETWORK:{title:"SSH network error",tips:["Check host/port and that the SSH service is listening.","Firewall rules may block port 22 (or your custom port)."]},SSH_CONNECT_ERROR:{title:"SSH connect error",tips:["Test with a local ssh client to validate credentials.","Review server-side sshd logs for details."]},WS_REFUSED:{title:"WebSocket connection refused",tips:["Ensure the WS server is running and the URL is correct.","Match ws:// vs wss:// with your server configuration."]},WS_CONNECT_ERROR:{title:"WebSocket connect error",tips:["Open the WS URL in your browser devtools to verify handshakes.","Check reverse proxies and upgrade headers."]},SQL_AUTH:{title:"Database authentication failed",tips:["Verify DB user and password, and that the user has rights.","For cloud DBs, ensure your IP is allowlisted."]},SQL_NETWORK:{title:"Database network error",tips:["Verify host/port and connectivity to the DB server.","Check SSL/TLS settings if the DB requires TLS."]},SQL_CONNECT_ERROR:{title:"Database connect error",tips:["Validate the DSN/connection string format for your driver."]},OPCUA_SECURITY:{title:"OPC UA certificate/security error",tips:["Trust the client certificate on the server and vice versa.","Align security policy and mode with the server settings."]},OPCUA_CONNECT_ERROR:{title:"OPC UA connect error",tips:["Confirm endpoint URL is reachable and the server is running.","Try security mode/policy None for initial testing."]},GRPC_UNAVAILABLE:{title:"gRPC UNAVAILABLE",tips:["Check server address and that the service is listening.","If behind a proxy, ensure HTTP/2 is supported."]},GRPC_CONNECT_ERROR:{title:"gRPC connect error",tips:["Verify proto/service definitions and server endpoint."]},DISCONNECT_ERROR:{title:"Disconnect error",tips:["Session may have already closed; refresh state and retry."]},CONNECT_ERROR:{title:"Connection error",tips:["Check address/credentials and try again.","Use the Retry button; see logs for more detail."]}},W=U=>P[U]||null,H=(U,ee)=>C(se=>{const le=(se[U]||[]).slice(-49),de={ts:new Date().toISOString(),level:ee.level||"info",message:ee.message,code:ee.code||null,hint:ee.hint||null};le.push(de);try{localStorage.setItem(`unicon_conn_logs_v1_${U}`,JSON.stringify(le))}catch{}return{...se,[U]:le}});function I(U){const ee=U==="connected"?"bg-green-500":U==="connecting"?"bg-amber-500":U==="error"?"bg-red-500":"bg-gray-300";return a.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full mr-2 ${ee}`})}async function A(){r(!0);try{const ee=(await Bn()).connections||[];s(ee),C(se=>{const le={...se};for(const de of ee)if(!le[de.id])try{const ue=localStorage.getItem(`unicon_conn_logs_v1_${de.id}`);ue&&(le[de.id]=JSON.parse(ue))}catch{}return le})}finally{r(!1)}}$.useEffect(()=>{A()},[]),$.useEffect(()=>{var U;if(n&&!(!t||t.length===0)){try{if(sessionStorage.getItem("unicon_auto_open_done_v1")==="1")return}catch{}if(typeof e=="function"){const ee=t[0];if(ee){try{const ue=new Event("unicon-auto-open")}catch{}const se=(()=>{try{return localStorage.getItem(`unicon_last_ws_for_${ee.id}`)}catch{return null}})(),le=B(ee),de=se&&le.find(ue=>ue.kind===se)?se:(U=le[0])==null?void 0:U.kind;de&&ie(ee,de);try{sessionStorage.setItem("unicon_auto_open_done_v1","1")}catch{}}}}},[n,t]),$.useEffect(()=>{const U=ee=>{var le,de;const se=ee.detail;if((se==null?void 0:se.type)==="connection_status"&&((le=se==null?void 0:se.data)!=null&&le.connectionId)){const{connectionId:ue,status:ae}=se.data;s(xe=>xe.map(Ce=>Ce.id===ue?{...Ce,status:ae}:Ce)),b(xe=>{const Ce=new Set([...xe]);return Ce.delete(ue),Ce}),H(ue,{level:"info",message:`Status changed to ${ae}`})}else if((se==null?void 0:se.type)==="log"&&((de=se==null?void 0:se.data)!=null&&de.message)){const{connectionId:ue,message:ae,type:xe,code:Ce,hint:dt}=se.data||{};if(ue){const Mt=xe==="error"?"error":xe==="warn"?"warn":"info";H(ue,{level:Mt,message:ae,code:Ce,hint:dt}),Mt==="error"&&(o(at=>new Set([...at,ue])),g(at=>({...at,[ue]:!0})))}}};return window.addEventListener("unicon-ws",U),()=>window.removeEventListener("unicon-ws",U)},[]);async function R(U){await ng(U),await A()}async function M(U){if(U.status==="connected")try{await ur(U.id),H(U.id,{level:"info",message:"Disconnect requested"})}catch(ee){H(U.id,{level:"error",message:ee.message||"Disconnect failed"}),o(se=>new Set([...se,U.id])),g(se=>({...se,[U.id]:!0}))}finally{await A()}else{_.current.delete(U.id),b(ee=>new Set([...ee,U.id])),H(U.id,{level:"info",message:"Connect requested"});try{await cr(U.id),o(ee=>{const se=new Set([...ee]);return se.delete(U.id),se})}catch(ee){H(U.id,{level:"error",message:ee.message||"Connect failed"}),s(se=>se.map(le=>le.id===U.id?{...le,status:"disconnected"}:le)),o(se=>new Set([...se,U.id])),g(se=>({...se,[U.id]:!0})),N(U.id)}finally{b(ee=>{const se=new Set([...ee]);return se.delete(U.id),se}),await A()}}}const L=U=>g(ee=>{const se={...ee,[U]:!ee[U]};try{localStorage.setItem("unicon_conn_expanded_v1",JSON.stringify(se))}catch{}return se}),K=U=>{const ee=(y[U]||[]).slice().reverse().find(se=>se.level==="error")||(y[U]||[]).slice(-1)[0]||null;w(ee?{id:U,log:ee}:{id:U,log:null})},G=async()=>{if(v)try{await navigator.clipboard.writeText(JSON.stringify(v,null,2))}catch{}},X=U=>{const ee=y[U]||[],se=new Blob([JSON.stringify(ee,null,2)],{type:"application/json"}),le=URL.createObjectURL(se),de=document.createElement("a");de.href=le,de.download=`connection-${U}-logs.json`,de.click(),URL.revokeObjectURL(le)},J=U=>t.find(ee=>ee.id===U),re=async U=>{const ee=J(U);if(!ee)return;S(!0);const se=async()=>{if(ee.status==="connected")return!1;H(U,{level:"info",message:"Quick test: connecting"});try{return await cr(U),!0}catch(ue){return H(U,{level:"error",message:`Quick test connect failed: ${ue.message}`}),!1}},le=async ue=>{if(ue)try{await ur(U)}catch{}};let de=!1;try{let ue=null,ae={};const xe=(ee.type||"").toLowerCase();if(xe==="rest"?(ue="request",ae={method:"GET",endpoint:"/"}):xe==="ws"||xe==="websocket"?(ue="send",ae={message:"ping"}):xe==="ssh"?(ue="exec",ae={command:"echo quick-test",cwd:void 0}):xe==="sql"?(ue="query",ae={sql:"SELECT 1 AS ok",params:[]}):xe==="k8s"?(ue="contexts",ae={}):xe==="opcua"||xe==="opc-ua"?(ue="browse",ae={nodeId:"RootFolder"}):xe==="cpd"&&(ue="ping",ae={message:"quick-test"}),!ue){H(U,{level:"warn",message:"Quick test not available for this type."});return}de=await se();const Ce=await $e(U,ue,ae),dt=(Ce==null?void 0:Ce.success)!==!1;H(U,{level:dt?"info":"error",message:dt?`Quick test '${ue}' OK`:`Quick test failed: ${(Ce==null?void 0:Ce.error)||"error"}`}),dt||g(Mt=>({...Mt,[U]:!0}))}catch(ue){H(U,{level:"error",message:`Quick test error: ${ue.message}`}),g(ae=>({...ae,[U]:!0}))}finally{try{await le(de)}catch{}S(!1)}};function N(U){if(_.current.has(U))return;const ee=d.current.get(U)||{attempt:0},se=ee.attempt+1;if(se>3)return;const le=Math.min(1e3*Math.pow(2,ee.attempt),8e3);H(U,{level:"info",message:`Retrying in ${Math.round(le/1e3)}s (attempt ${se}/3)...`});const de=setTimeout(async()=>{d.current.delete(U);const ue=t.find(ae=>ae.id===U)||{id:U,status:"disconnected"};await M(ue)},le);d.current.set(U,{attempt:se,timerId:de})}const F=U=>{const ee=d.current.get(U);if(ee!=null&&ee.timerId)try{clearTimeout(ee.timerId)}catch{}d.current.delete(U),_.current.add(U),b(se=>{const le=new Set([...se]);return le.delete(U),le}),s(se=>se.map(le=>le.id===U?{...le,status:"disconnected"}:le)),H(U,{level:"info",message:"Auto-retry canceled by user"})};he.useEffect(()=>()=>{for(const{timerId:U}of d.current.values())try{clearTimeout(U)}catch{}d.current.clear()},[]);const V={rest:"rest",ws:"ws",grpc:"grpc",cpd:"cpd",sql:"sql","opc-ua":"opcua",opcua:"opcua",ssh:"ssh",k8s:"k8s",ftp:"ftp",sftp:"sftp"},O={rest:"REST",ws:"WebSocket",grpc:"gRPC",cpd:"CPD",sql:"SQL",opcua:"OPC UA","opc-ua":"OPC UA",ssh:"SSH",k8s:"Kubernetes",ftp:"FTP",sftp:"SFTP"},B=U=>{const ee=V[U.type]||"rest",se=(ue,ae)=>{ue.find(xe=>xe.kind===ae)||ue.push({kind:ae,label:O[ae]||ae.toUpperCase()})},le=[];se(le,ee);const de=(U==null?void 0:U.config)||{};return de.baseUrl&&se(le,"rest"),(de.wsUrl||/^wss?:/i.test(String(de.baseUrl||"")))&&se(le,"ws"),(de.proto||de.package||de.service)&&de.address&&se(le,"grpc"),de.driver&&se(le,"sql"),le},q=(U,ee)=>{try{localStorage.setItem(`unicon_last_ws_for_${U}`,ee)}catch{}},Q=U=>{try{return localStorage.getItem(`unicon_last_ws_for_${U}`)||null}catch{return null}},ie=(U,ee)=>{q(U.id,ee),Object.values(O).includes(ee)?ee.toUpperCase():O[ee]||ee.toUpperCase(),e&&e(ee,{connectionId:U.id,connection:U,title:`${O[ee]||ee.toUpperCase()}  ${U.name}`})},ne=U=>{const ee=B(U),se=Q(U.id),le=se&&ee.find(de=>de.kind===se)?{kind:se}:ee[0];ie(U,le.kind)},Ne=U=>{const ee=B(U);return ee.length?`Open in ${ee[0].label}`:"Open"};return a.jsxs("div",{className:"bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Connections"}),a.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[a.jsx("input",{type:"checkbox",checked:n,onChange:U=>{c(U.target.checked);try{localStorage.setItem("unicon_auto_open_last_ws_v1",U.target.checked?"1":"0")}catch{}}}),"Auto-open first in last workspace"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50",onClick:()=>m(!0),children:[a.jsx(lf,{size:16})," New"]}),a.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50",title:"Clear all logs",onClick:()=>{if(confirm("Clear all saved connection logs? This will remove local copies.")){C({});try{Object.keys(localStorage).filter(U=>U.startsWith("unicon_conn_logs_v1_")).forEach(U=>localStorage.removeItem(U))}catch{}o(new Set)}},children:"Clear all logs"})]})]}),a.jsx("div",{className:"border border-gray-200 rounded-md overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-2",children:"Name"}),a.jsx("th",{className:"text-left p-2",children:"Type"}),a.jsx("th",{className:"text-left p-2",children:"Status"}),a.jsx("th",{className:"p-2 text-right",children:a.jsx("button",{className:"inline-flex items-center gap-1 text-gray-600 hover:text-gray-900",onClick:A,title:"Refresh",children:a.jsx(Ls,{size:14})})})]})}),a.jsxs("tbody",{children:[t.map(U=>{var de,ue;const ee=p.has(U.id),se=((ue=(de=y[U.id])==null?void 0:de.slice(-1)[0])==null?void 0:ue.level)==="error",le=ee?"connecting":se?"error":U.status||"disconnected";return a.jsxs(he.Fragment,{children:[a.jsxs("tr",{className:"border-t align-top",children:[a.jsxs("td",{className:"p-2",children:[a.jsx("button",{className:"inline-flex items-center gap-1 text-gray-600 hover:text-gray-900 mr-2",onClick:()=>L(U.id),title:f[U.id]?"Hide logs":"Show logs",children:f[U.id]?a.jsx(Rg,{size:14}):a.jsx(Og,{size:14})}),(ee||d.current.has(U.id))&&a.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",title:"Stop auto-retry",onClick:()=>F(U.id),children:[a.jsx(ba,{size:14})," Stop"]}),a.jsx("button",{className:"hover:underline",title:"Edit connection",onClick:()=>{T(U),m(!0)},children:U.name})]}),a.jsx("td",{className:"p-2 uppercase text-xs text-gray-600",children:U.type}),a.jsx("td",{className:"p-2",children:a.jsxs("div",{className:"inline-flex items-center",children:[I(le),a.jsx("span",{className:"capitalize mr-2",children:le}),ee&&a.jsx(mg,{size:14})]})}),a.jsxs("td",{className:"p-2 text-right whitespace-nowrap relative",children:[a.jsxs("span",{className:"inline-flex items-center mr-2",children:[a.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded-l hover:bg-gray-50",onClick:()=>ne(U),children:Ne(U)}),a.jsx("button",{className:"px-2 py-1 border border-l-0 rounded-r hover:bg-gray-50","aria-haspopup":"menu","aria-expanded":x===U.id,onClick:()=>h(x===U.id?null:U.id),children:""})]}),x===U.id&&a.jsx("div",{className:"absolute right-2 mt-1 w-44 bg-white border rounded shadow z-10",children:B(U).map(ae=>a.jsxs("button",{className:"w-full text-left px-3 py-1.5 text-sm hover:bg-gray-50",onClick:()=>{ie(U,ae.kind),h(null)},children:["Open in ",ae.label]},ae.kind))}),a.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",title:"Edit",onClick:()=>{T(U),m(!0)},children:a.jsx(Lg,{size:14})}),a.jsxs("span",{className:"inline-flex items-center gap-1 mr-2",children:[a.jsx("label",{className:"text-xs text-gray-500",children:"Workspace:"}),a.jsxs("select",{className:"border rounded px-1 py-0.5 text-xs",value:U.workspaceId||"",onChange:ae=>D(U.id,ae.target.value),children:[a.jsx("option",{value:"",children:"(none)"}),z.map(ae=>a.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]}),a.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",onClick:()=>M(U),disabled:ee,children:le==="connected"?a.jsxs(a.Fragment,{children:[a.jsx(Mg,{size:14})," Disconnect"]}):a.jsxs(a.Fragment,{children:[a.jsx(Bg,{size:14})," ",ee?"Connecting":"Connect"]})}),le==="error"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",onClick:()=>{_.current.delete(U.id),N(U.id)},children:"Retry"}),d.current.has(U.id)&&a.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",onClick:()=>F(U.id),children:[a.jsx(ba,{size:14})," Stop"]}),a.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",onClick:()=>K(U.id),children:"Details"})]}),a.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded text-red-600 hover:bg-red-50",onClick:()=>R(U.id),disabled:ee,children:[a.jsx(Sa,{size:14})," Delete"]})]})]}),f[U.id]&&a.jsx("tr",{className:"bg-gray-50",children:a.jsxs("td",{colSpan:4,className:"p-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Logs"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"px-2 py-0.5 border rounded text-xs",onClick:()=>X(U.id),children:"Export"}),a.jsx("button",{className:"px-2 py-0.5 border rounded text-xs",onClick:()=>{C(ae=>{const xe={...ae,[U.id]:[]};try{localStorage.removeItem(`unicon_conn_logs_v1_${U.id}`)}catch{}return xe})},children:"Clear"})]})]}),a.jsxs("div",{className:"max-h-40 overflow-auto text-xs font-mono leading-5",children:[(y[U.id]||[]).slice().reverse().map((ae,xe)=>a.jsxs("div",{className:ae.level==="error"?"text-red-700":ae.level==="warn"?"text-amber-700":"text-gray-800",children:[a.jsx("span",{className:"opacity-60 mr-2",children:new Date(ae.ts).toLocaleTimeString()}),ae.message,ae.code||ae.hint?a.jsxs("span",{className:"opacity-80",children:[" ",ae.code?`[${ae.code}]`:"",ae.hint?`  ${ae.hint}`:""]}):null]},xe)),(!y[U.id]||y[U.id].length===0)&&a.jsx("div",{className:"text-gray-500",children:"No logs yet."})]})]})})]},U.id)}),t.length===0&&a.jsx("tr",{children:a.jsx("td",{className:"p-4 text-center text-gray-500",colSpan:4,children:i?"Loading...":"No connections"})})]})]})}),l&&a.jsx(i2,{initial:j,onClose:()=>{m(!1),T(null)},onSave:async(U,ee)=>{ee?await kc(ee,U):await _s(U),m(!1),T(null),await A()}}),a.jsx(Cl,{open:!!v,title:"Connection details",onClose:()=>w(null),footer:a.jsxs(a.Fragment,{children:[v?a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:()=>{const U=J(v.id);U&&(T(U),m(!0))},children:"Edit"}),a.jsx("button",{className:"px-3 py-1.5 border rounded",disabled:E,onClick:()=>re(v.id),children:E?"Testing":"Quick test"}),a.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:G,children:"Copy"}),a.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:()=>X(v.id),children:"Export logs"})]}):null,a.jsx("button",{className:"px-3 py-1.5 border rounded bg-blue-600 text-white",onClick:()=>w(null),children:"Close"})]}),children:v!=null&&v.log?a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Time:"})," ",new Date(v.log.ts).toLocaleString()]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Level:"})," ",v.log.level]}),v.log.code?a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Code:"})," ",v.log.code]}):null,v.log.hint?a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Hint:"})," ",v.log.hint]}):null,a.jsxs("div",{className:"mb-4",children:[a.jsx("span",{className:"font-semibold",children:"Message:"})," ",v.log.message]}),v.log.code&&W(v.log.code)?a.jsxs("div",{className:"mt-4 border-t pt-3",children:[a.jsxs("div",{className:"font-semibold mb-1",children:["Troubleshooting: ",W(v.log.code).title]}),a.jsx("ul",{className:"list-disc ml-5 space-y-1",children:W(v.log.code).tips.map((U,ee)=>a.jsx("li",{children:U},ee))})]}):null]}):a.jsx("div",{className:"text-sm text-gray-600",children:"No error details available."})})]})}function i2({initial:e=null,onClose:t,onSave:s}){var Pu,Iu,qu,Fu,$u,Gu,Wu,Ku,Yu;const[i,r]=$.useState((e==null?void 0:e.name)||"My REST"),[l,m]=$.useState((e==null?void 0:e.type)||"rest"),[n,c]=$.useState(((Pu=e==null?void 0:e.config)==null?void 0:Pu.baseUrl)||"https://jsonplaceholder.typicode.com"),[p,b]=$.useState([]),[f,g]=$.useState(()=>{try{return(e==null?void 0:e.workspaceId)||localStorage.getItem("unicon_current_workspace_v1")||""}catch{return(e==null?void 0:e.workspaceId)||""}});$.useEffect(()=>{hr().then(Y=>b(Y.workspaces||[])).catch(()=>{})},[]);const[y,C]=$.useState(""),[x,h]=$.useState(22),[u,o]=$.useState("root"),[d,_]=$.useState("password"),[v,w]=$.useState(""),[E,S]=$.useState(""),[j,T]=$.useState(""),[z,k]=$.useState(""),[D,P]=$.useState(21),[W,H]=$.useState(""),[I,A]=$.useState(""),[R,M]=$.useState(!1),[L,K]=$.useState(!0),[G,X]=$.useState(((Iu=e==null?void 0:e.config)==null?void 0:Iu.endpointUrl)||""),[J,re]=$.useState(((qu=e==null?void 0:e.config)==null?void 0:qu.securityPolicy)||"None"),[N,F]=$.useState(((Fu=e==null?void 0:e.config)==null?void 0:Fu.securityMode)||"None"),[V,O]=$.useState((($u=e==null?void 0:e.config)==null?void 0:$u.username)||""),[B,q]=$.useState(""),[Q,ie]=$.useState(((Gu=e==null?void 0:e.config)==null?void 0:Gu.driver)||"sqlite"),[ne,Ne]=$.useState(((Wu=e==null?void 0:e.config)==null?void 0:Wu.filename)||":memory:"),[U,ee]=$.useState(((Ku=e==null?void 0:e.config)==null?void 0:Ku.url)||((Yu=e==null?void 0:e.config)==null?void 0:Yu.connectionString)||""),[se,le]=$.useState("default"),[de,ue]=$.useState(""),[ae,xe]=$.useState(""),[Ce,dt]=$.useState(""),[Mt,at]=$.useState("default"),yr=()=>{if(!i.trim())return;let Y={};const ye=He=>typeof He=="string"?He.trim():He;if(l==="rest")Y={baseUrl:n};else if(l==="sql")Q==="sqlite"&&(Y={driver:"sqlite",filename:ne}),Q==="pg"&&(Y={driver:"pg",url:U}),Q==="mysql"&&(Y={driver:"mysql",url:U});else if(l==="opc-ua"||l==="opcua"){const Ss=ye(G||"").match(/^opc\.tcp:\/\/([^:\/]+):(\d{1,5})(\/.*)?$/i);if(!Ss){alert("Invalid OPC UA endpoint. Use opc.tcp://host:port (e.g., opc.tcp://localhost:4840)");return}const Hn=Ss[3]||"";if(J==="None"&&N!=="None"){alert("Security Mode must be None when Security Policy is None.");return}if((V||B)&&(N==="None"||J==="None")&&!confirm("Warning: using username/password without a secure channel will send credentials unencrypted. Continue anyway?"))return;Y={endpointUrl:`opc.tcp://${Ss[1]}:${Ss[2]}${Hn}`,securityPolicy:J,securityMode:N,...V?{username:V}:{},...B?{password:B}:{}}}else l==="ssh"?Y={host:y,port:Number(x),username:u,...d==="password"?{password:v}:{privateKey:E,passphrase:j}}:l==="k8s"?Y={kubeconfigSource:se,kubeconfig:se==="inline"?ae:void 0,kubeconfigPath:se==="path"?de:void 0,context:Ce,namespace:Mt}:l==="ftp"?Y={host:z,port:Number(D||21),user:W||void 0,password:I||void 0,secure:!!R,passive:!!L}:l==="sftp"&&(Y={host:y,port:Number(x||22),username:u,...d==="password"?{password:v}:{privateKey:E,passphrase:j}});s({name:i.trim(),type:l,config:Y,workspaceId:f||null},e==null?void 0:e.id)},[rt,Jt]=$.useState(vn());he.useEffect(()=>{(async()=>{try{const Y=await af();Jt(Y),localStorage.setItem("unicon_templates_v1",JSON.stringify(Y))}catch{}})()},[]);const ke=Y=>{var He,Ss,Hn,El,Vu,Xu,Qu,Ju,Zu;if(!Y)return;const ye=(Y.type||"").toLowerCase();if(ye==="rest")m("rest"),c(((He=Y.config)==null?void 0:He.baseUrl)||"");else if(ye==="sql"){m("sql");const yg=((Ss=Y.config)==null?void 0:Ss.driver)||"sqlite";ie(yg),Ne(((Hn=Y.config)==null?void 0:Hn.filename)||":memory:"),ee(((El=Y.config)==null?void 0:El.url)||((Vu=Y.config)==null?void 0:Vu.connectionString)||"")}else ye==="opc-ua"||ye==="opcua"?(m("opc-ua"),X(((Xu=Y.config)==null?void 0:Xu.endpointUrl)||""),re(((Qu=Y.config)==null?void 0:Qu.securityPolicy)||"None"),F(((Ju=Y.config)==null?void 0:Ju.securityMode)||"None"),O(((Zu=Y.config)==null?void 0:Zu.username)||""),q("")):(ye==="websocket"||ye==="ws")&&m("ws")},bi=async()=>{let Y=null;if(l==="rest"?Y={name:i,type:"rest",config:{baseUrl:n}}:l==="sql"?Y=Q==="sqlite"?{name:i,type:"sql",config:{driver:"sqlite",filename:ne}}:{name:i,type:"sql",config:{driver:Q,url:U}}:l==="opc-ua"||l==="opcua"?Y={name:i,type:"opc-ua",config:{endpointUrl:G,securityPolicy:J,securityMode:N,...V?{username:V}:{}}}:(l==="ws"||l==="websocket")&&(Y={name:i,type:"websocket",config:{}}),Y)try{await t2(Y);const ye=await af();Jt(ye),localStorage.setItem("unicon_templates_v1",JSON.stringify(ye))}catch{e2(Y),Jt(vn())}};return a.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-md shadow-lg w-full max-w-md",children:[a.jsx("div",{className:"p-4 border-b font-semibold",children:e?"Edit Connection":"New Connection"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Name"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:i,onChange:Y=>r(Y.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Type"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2",value:l,onChange:Y=>m(Y.target.value),children:[a.jsx("option",{value:"rest",children:"REST"}),a.jsx("option",{value:"opc-ua",children:"OPC UA"}),a.jsx("option",{value:"ws",children:"WebSocket"}),a.jsx("option",{value:"grpc",children:"gRPC"}),a.jsx("option",{value:"cpd",children:"CPD"}),a.jsx("option",{value:"sql",children:"SQL"}),a.jsx("option",{value:"ssh",children:"SSH"}),a.jsx("option",{value:"ftp",children:"FTP"}),a.jsx("option",{value:"sftp",children:"SFTP"}),a.jsx("option",{value:"k8s",children:"Kubernetes"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Workspace"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2",value:f,onChange:Y=>g(Y.target.value),children:[a.jsx("option",{value:"",children:" None "}),p.map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),l==="rest"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm mb-1",children:"Base URL"}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Suggestion:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:Y=>{const ye=Number(Y.target.value);isNaN(ye)||c(At.rest[ye].baseUrl)},children:[a.jsx("option",{children:"Pick"}),At.rest.map((Y,ye)=>a.jsx("option",{value:ye,children:Y.name},Y.name))]})]})]}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:n,onChange:Y=>c(Y.target.value),placeholder:"https://api.example.com"}),a.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["From My Library:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:Y=>{const ye=rt.find(He=>He.id===Y.target.value);ke(ye)},children:[a.jsx("option",{value:"",children:"Pick"}),rt.filter(Y=>(Y.type||"").toLowerCase()==="rest").map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),a.jsx("button",{className:"ml-2 px-2 py-1 border rounded",onClick:bi,children:"Save as template"})]})]}),l==="sql"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm mb-1",children:"Driver"}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Suggestion:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:Y=>{const ye=Number(Y.target.value);if(isNaN(ye))return;const He=At.sql[ye];ie(He.config.driver||"sqlite"),Ne(He.config.filename||":memory:"),ee(He.config.url||"")},children:[a.jsx("option",{children:"Pick"}),At.sql.map((Y,ye)=>a.jsx("option",{value:ye,children:Y.name},Y.name))]})]})]}),a.jsx("div",{children:a.jsxs("select",{className:"w-full border rounded px-3 py-2",value:Q,onChange:Y=>ie(Y.target.value),children:[a.jsx("option",{value:"sqlite",children:"SQLite"}),a.jsx("option",{value:"pg",children:"PostgreSQL / TimescaleDB"}),a.jsx("option",{value:"mysql",children:"MySQL / MariaDB"})]})}),Q==="sqlite"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"SQLite filename"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:ne,onChange:Y=>Ne(Y.target.value),placeholder:":memory:"})]}),Q!=="sqlite"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Connection string (URL)"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:U,onChange:Y=>ee(Y.target.value),placeholder:Q==="pg"?"postgres://user:pass@host:5432/db":"mysql://user:pass@host:3306/db"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"TimescaleDB uses the PostgreSQL URL format."})]}),a.jsxs("div",{className:"text-xs text-gray-600",children:["From My Library:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:Y=>{const ye=rt.find(He=>He.id===Y.target.value);ke(ye)},children:[a.jsx("option",{value:"",children:"Pick"}),rt.filter(Y=>(Y.type||"").toLowerCase()==="sql").map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),a.jsx("button",{className:"ml-2 px-2 py-1 border rounded",onClick:bi,children:"Save as template"})]})]}),(l==="opc-ua"||l==="opcua")&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm mb-1",children:"Endpoint URL"}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Suggestion:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:Y=>{const ye=Number(Y.target.value);if(isNaN(ye))return;const He=At.opcua[ye];X(He.endpointUrl),re(He.securityPolicy||"None"),F(He.securityMode||"None")},children:[a.jsx("option",{children:"Pick"}),At.opcua.map((Y,ye)=>a.jsx("option",{value:ye,children:Y.name},Y.name))]})]})]}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:G,onChange:Y=>X(Y.target.value),placeholder:"opc.tcp://host:4840 or opc.tcp://host:4840/Path"}),a.jsxs("div",{className:"text-xs text-gray-600",children:["From My Library:",a.jsxs("select",{className:"ml-2 border rounded px-2 py-1",onChange:Y=>{const ye=rt.find(He=>He.id===Y.target.value);ke(ye)},children:[a.jsx("option",{value:"",children:"Pick"}),rt.filter(Y=>["opc-ua","opcua"].includes((Y.type||"").toLowerCase())).map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),a.jsx("button",{className:"ml-2 px-2 py-1 border rounded",onClick:bi,children:"Save as template"})]}),a.jsx("div",{className:"text-xs text-amber-600",children:"Public OPC UA demo endpoints can be unstable. If connection fails, try again or use a local server."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Endpoint URL"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:G,onChange:Y=>X(Y.target.value),placeholder:"opc.tcp://host:4840 or opc.tcp://host:4840/Path"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Format: opc.tcp://host:port[/path], e.g., opc.tcp://localhost:4840 or opc.tcp://server:4840/OPCUA/Sim"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Security Policy"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2",value:J,onChange:Y=>re(Y.target.value),children:[a.jsx("option",{children:"None"}),a.jsx("option",{children:"Basic128Rsa15"}),a.jsx("option",{children:"Basic256"}),a.jsx("option",{children:"Basic256Sha256"}),a.jsx("option",{children:"Aes128_Sha256_RsaOaep"}),a.jsx("option",{children:"Aes256_Sha256_RsaPss"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Security Mode"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2",value:N,onChange:Y=>F(Y.target.value),children:[a.jsx("option",{children:"None"}),a.jsx("option",{children:"Sign"}),a.jsx("option",{children:"SignAndEncrypt"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Username (optional)"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:V,onChange:Y=>O(Y.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Password (optional)"}),a.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:B,onChange:Y=>q(Y.target.value)})]})]})]}),(l==="ssh"||l==="sftp")&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Host"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:y,onChange:Y=>C(Y.target.value),placeholder:"server.example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Port"}),a.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",value:x,onChange:Y=>h(Y.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Username"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:u,onChange:Y=>o(Y.target.value),placeholder:"root"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Auth Type"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2",value:d,onChange:Y=>_(Y.target.value),children:[a.jsx("option",{value:"password",children:"Password"}),a.jsx("option",{value:"privateKey",children:"Private Key"})]})]})]}),d==="password"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Password"}),a.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:v,onChange:Y=>w(Y.target.value)})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Private Key (PEM)"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 font-mono text-xs",rows:5,value:E,onChange:Y=>S(Y.target.value),placeholder:"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Passphrase (optional)"}),a.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:j,onChange:Y=>T(Y.target.value)})]})]})]}),l==="k8s"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Kubeconfig Source"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2",value:se,onChange:Y=>le(Y.target.value),children:[a.jsx("option",{value:"default",children:"Default"}),a.jsx("option",{value:"path",children:"Path"}),a.jsx("option",{value:"inline",children:"Inline"})]})]}),se==="path"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Kubeconfig Path"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:de,onChange:Y=>ue(Y.target.value),placeholder:"C:/Users/me/.kube/config"})]}),se==="inline"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Kubeconfig (YAML)"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 font-mono text-xs",rows:6,value:ae,onChange:Y=>xe(Y.target.value)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Context (optional)"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:Ce,onChange:Y=>dt(Y.target.value),placeholder:"my-context"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Default Namespace"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:Mt,onChange:Y=>at(Y.target.value),placeholder:"default"})]})]})]}),l==="ftp"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Host"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:z,onChange:Y=>k(Y.target.value),placeholder:"ftp.example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Port"}),a.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",value:D,onChange:Y=>P(Y.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Username"}),a.jsx("input",{className:"w-full border rounded px-3 py-2",value:W,onChange:Y=>H(Y.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",children:"Password"}),a.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:I,onChange:Y=>A(Y.target.value)})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:R,onChange:Y=>M(Y.target.checked)})," FTPS (secure)"]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:L,onChange:Y=>K(Y.target.checked)})," Passive mode"]})]})]})]}),a.jsxs("div",{className:"mt-4 border-t pt-4 flex justify-between gap-2",children:[a.jsx("div",{children:a.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:bi,title:"Save current form as reusable template",children:"Save as template"})}),a.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:t,children:"Cancel"}),a.jsx("button",{className:"px-3 py-1.5 border rounded bg-blue-600 text-white",onClick:yr,children:e?"Save":"Create"})]})]})]})})}function r2({onLoggedIn:e}){const[t,s]=$.useState({open:!1,provider:null,loading:!1,error:""}),[i,r]=$.useState({open:!1,kind:null,data:null,loading:!1,error:""});async function l(h){s({open:!0,provider:h,loading:!1,error:""})}async function m(){s(h=>({...h,loading:!0,error:""}));try{const h=await fetch(`/unicon/api/oauth/${t.provider}/init`),u=await h.json();if(!h.ok||!(u!=null&&u.continue_url))throw new Error((u==null?void 0:u.error)||"Init failed");location.href=u.continue_url}catch(h){s(u=>({...u,loading:!1,error:h.message||"Init failed"}))}}const[n,c]=$.useState(""),[p,b]=$.useState(""),[f,g]=$.useState(!1),[y,C]=$.useState("");$.useEffect(()=>{i.open&&i.kind==="server"&&!i.loading&&!i.data&&!i.error&&(r(h=>({...h,loading:!0})),fetch("/unicon/api/health").then(h=>h.json().catch(()=>({})).then(u=>({ok:h.ok,d:u}))).then(({ok:h,d:u})=>{if(!h)throw new Error((u==null?void 0:u.error)||"Failed to load server details");r(o=>({...o,data:u,loading:!1}))}).catch(h=>r(u=>({...u,error:h.message||"Failed to load server details",loading:!1}))))},[i.open,i.kind]);async function x(h){h.preventDefault(),g(!0),C("");try{const u=await Vt("/auth/login",{email:n,password:p});ig(u.token,u.roles||[]),e==null||e()}catch(u){C(u.message||"Login failed")}finally{g(!1)}}return a.jsxs("div",{className:"min-h-screen flex",children:[a.jsxs("div",{className:"w-full md:w-1/2 flex flex-col",children:[a.jsx("div",{className:"px-16 pt-12",children:a.jsx("img",{src:"/unicon/brand/swarco.svg",alt:"SWARCO",className:"h-12"})}),a.jsx("div",{className:"flex-1 flex items-center",children:a.jsx("div",{className:"w-full px-16",children:a.jsxs("div",{className:"max-w-md",children:[a.jsx("h1",{className:"text-[32px] leading-[40px] font-bold mb-6",children:"Welcome"}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 text-sm rounded p-3",children:["Demo credentials: ",a.jsx("span",{className:"font-semibold",children:"demo@unicon.local"})," / ",a.jsx("span",{className:"font-semibold",children:"demo123"}),a.jsx("button",{type:"button",className:"ml-2 underline",onClick:()=>{c("demo@unicon.local"),b("demo123")},children:"Use"})]}),y&&a.jsx("div",{className:"text-red-600 text-sm",children:y}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-[16px] leading-6 font-semibold text-gray-700",children:"Email"}),a.jsx("span",{className:"text-[12px] text-gray-400",children:"*"})]}),a.jsx("input",{type:"email",className:"w-full border rounded px-3 py-2 h-10",value:n,onChange:h=>c(h.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-[16px] leading-6 font-semibold text-gray-700",children:"Password"}),a.jsx("button",{type:"button",className:"text-sm text-blue-700 hover:underline",onClick:async()=>{try{const h=await Vt("/auth/forgot",{email:n||"demo@unicon.local"});h!=null&&h.reset_url?alert(`Reset link (demo): ${h.reset_url}`):alert("If the account exists, a reset link was sent.")}catch(h){alert(h.message||"Request failed")}},children:"Forgot password"})]}),a.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2 h-10",value:p,onChange:h=>b(h.target.value),required:!0})]}),a.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[a.jsx("button",{type:"button","aria-label":"Continue with Demo OAuth",title:"Continue with Demo OAuth",className:"h-10 w-10 border rounded flex items-center justify-center",onClick:()=>{const h=`${location.origin}/unicon/auth/callback`,u=Math.random().toString(36).slice(2),o=`/unicon/api/oauth/authorize?client_id=demo&redirect_uri=${encodeURIComponent(h)}&state=${encodeURIComponent(u)}`;location.href=o},children:a.jsx(Hg,{size:18,"aria-hidden":"true"})}),a.jsx("button",{type:"button","aria-label":"Sign in with Google",title:"Sign in with Google",className:"h-10 w-10 border rounded flex items-center justify-center",onClick:()=>l("google"),children:a.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{fill:"#EA4335",d:"M12 11.9999v3.8h5.3c-.2 1.2-1.4 3.5-5.3 3.5-3.2 0-5.9-2.6-5.9-5.9s2.7-5.9 5.9-5.9c1.8 0 3 .7 3.7 1.3l2.5-2.4C16.7 4.2 14.6 3.3 12 3.3 6.9 3.3 2.8 7.4 2.8 12.5S6.9 21.7 12 21.7c6.9 0 9.5-4.8 9.5-7.2 0-.5-.1-.8-.1-1.1H12z"})})}),a.jsx("button",{type:"button","aria-label":"Sign in with GitHub",title:"Sign in with GitHub",className:"h-10 w-10 border rounded flex items-center justify-center",onClick:()=>l("github"),children:a.jsx(zg,{size:18,"aria-hidden":"true"})}),a.jsx("button",{type:"submit",disabled:f,className:"w-48 h-10 bg-[#004b8d] text-white rounded hover:bg-[#003a6c] disabled:opacity-50",children:f?"Signing in":"Login"}),a.jsx("button",{type:"button",className:"text-sm text-blue-700 hover:underline",onClick:async()=>{try{await Vt("/auth/register",{email:n||"demo@unicon.local",password:p||"demo123"}),alert("Account created. Now you can sign in.")}catch(h){alert(h.message||"Sign up failed")}},children:"Sign up"}),!1]}),a.jsxs("div",{className:"pt-2",children:[a.jsx("label",{className:"text-[16px] leading-6 font-semibold text-gray-700",children:"Language"}),a.jsxs("select",{className:"w-full border rounded px-3 py-2 h-10",defaultValue:"en",onChange:async h=>{const u=h.target.value;try{await Or(()=>Promise.resolve().then(()=>xx),void 0).then(o=>o.apiPost("/settings/language",{lang:u})).catch(()=>{})}catch{}try{localStorage.setItem("lang",u)}catch{}},children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"de",children:"Deutsch"})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 pt-6 flex items-center gap-2",children:[a.jsx("a",{className:"hover:underline",href:"#",onClick:h=>{h.preventDefault(),r({open:!0,kind:"imprint",data:null,loading:!1,error:""})},children:"Imprint"}),a.jsx("span",{children:""}),a.jsx("a",{className:"hover:underline",href:"#",onClick:h=>{h.preventDefault(),r({open:!0,kind:"privacy",data:null,loading:!1,error:""})},children:"Privacy Policy"}),a.jsx("span",{children:""}),a.jsx("a",{className:"hover:underline",href:"#",onClick:h=>{h.preventDefault(),r({open:!0,kind:"server",data:null,loading:!1,error:""})},children:"Server Details"}),a.jsxs("span",{className:"ml-auto opacity-80",children:[" ",new Date().getFullYear()," SWARCO"]})]})]})]})})})]}),a.jsx("div",{className:"hidden md:block md:w-1/2 relative",children:a.jsx("img",{src:"/unicon/brand/background-image.png",alt:"Background",className:"absolute inset-0 w-full h-full object-cover"})}),t.open&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",role:"dialog","aria-modal":"true",children:a.jsxs("div",{className:"w-full max-w-md rounded-lg border bg-white p-6 shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"font-semibold text-gray-900",children:["Continue with ",t.provider]}),a.jsx("button",{className:"p-1","aria-label":"Close",onClick:()=>s({open:!1,provider:null,loading:!1,error:""}),children:a.jsx(ba,{size:18})})]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["You will be redirected to ",t.provider," to continue."]}),t.error&&a.jsx("div",{className:"text-sm text-red-600 mb-2",children:t.error}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 h-10 rounded bg-[#004b8d] text-white disabled:opacity-50",disabled:t.loading,onClick:m,children:t.loading?"Continuing":"Continue"}),a.jsx("button",{className:"px-4 h-10 rounded bg-gray-100",onClick:()=>s({open:!1,provider:null,loading:!1,error:""}),children:"Cancel"})]})]})}),a.jsxs(Cl,{open:i.open,title:i.kind==="imprint"?"Imprint":i.kind==="privacy"?"Privacy Policy":i.kind==="server"?"Server Details":"",onClose:()=>r({open:!1,kind:null,data:null,loading:!1,error:""}),footer:a.jsx("button",{className:"px-4 h-10 rounded bg-gray-100",onClick:()=>r({open:!1,kind:null,data:null,loading:!1,error:""}),children:"Close"}),children:[i.kind==="imprint"&&a.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Company:"})," SWARCO"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Address:"})," [Add address]"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Contact:"})," [Add contact email/phone]"]}),a.jsx("p",{className:"text-gray-500",children:"This is placeholder text. Replace with your legal imprint details."})]}),i.kind==="privacy"&&a.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[a.jsx("p",{children:a.jsx("strong",{children:"Privacy Policy"})}),a.jsx("p",{children:"We process personal data for authentication and service provision. Replace this text with your actual policy or link to your public policy page."})]}),i.kind==="server"&&a.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[i.loading&&a.jsx("div",{children:"Loading"}),i.error&&a.jsx("div",{className:"text-red-600",children:i.error}),i.data&&a.jsxs("div",{className:"space-y-1",children:["version"in i.data&&a.jsxs("div",{children:[a.jsx("strong",{children:"Version:"})," ",String(i.data.version)]}),"status"in i.data&&a.jsxs("div",{children:[a.jsx("strong",{children:"Status:"})," ",String(i.data.status)]}),"timestamp"in i.data&&a.jsxs("div",{children:[a.jsx("strong",{children:"Timestamp:"})," ",String(i.data.timestamp)]}),"uptime"in i.data&&a.jsxs("div",{children:[a.jsx("strong",{children:"Uptime:"})," ",String(i.data.uptime)]}),"connectedClients"in i.data&&a.jsxs("div",{children:[a.jsx("strong",{children:"Connected Clients:"})," ",String(i.data.connectedClients)]}),"activeConnections"in i.data&&a.jsxs("div",{children:[a.jsx("strong",{children:"Active Connections:"})," ",String(i.data.activeConnections)]}),i.data&&typeof i.data=="object"&&a.jsxs("details",{className:"mt-2",children:[a.jsx("summary",{className:"cursor-pointer",children:"Raw"}),a.jsx("pre",{className:"bg-gray-50 p-2 rounded overflow-auto text-xs",children:JSON.stringify(i.data,null,2)})]})]})]})]})]})}function n2(){return $.useEffect(()=>{(async()=>{const e=new URLSearchParams(location.search),t=e.get("code");e.get("state");try{const s=await Vt("/oauth/token",{code:t,client_id:"demo"});s!=null&&s.access_token&&(ig(s.access_token,["developer"]),location.replace("/unicon/"))}catch(s){alert(s.message||"OAuth failed")}})()},[]),a.jsx("div",{className:"p-6 text-sm text-gray-600",children:"Completing sign-in"})}function a2(){const t=new URLSearchParams(typeof window<"u"?window.location.search:"").get("token");return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white text-gray-900",children:a.jsxs("div",{className:"w-full max-w-md border rounded-lg p-6 shadow-sm",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Reset password"}),t?a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"A reset token was provided, but password reset is not implemented in this demo build."}):a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Password reset is not implemented in this demo build."}),a.jsx("button",{className:"h-10 px-4 bg-[#004b8d] text-white rounded hover:bg-[#003a6c]",onClick:()=>{window.location.href="/unicon/"},children:"Back to login"})]})})}function l2(){var g,y;const e=$.useMemo(()=>({connections:{title:"Connections",icon:ih,component:s2},examples:{title:"Examples",icon:go,component:he.lazy(()=>Or(()=>import("./ConnectionsExamples-DmT4tYaP.js"),__vite__mapDeps([0,1,2])))},rest:{title:"REST Client",icon:go,component:kx},opcua:{title:"OPC UA",icon:Nl,component:Dx},ws:{title:"WebSocket",icon:ta,component:Rx},ssh:{title:"SSH",icon:Al,component:Xx},k8s:{title:"Kubernetes",icon:Nl,component:Jx},grpc:{title:"gRPC",icon:_o,component:Ox},cpd:{title:"CPD",icon:Al,component:Lx},sql:{title:"SQL",icon:Ii,component:Mx},ftp:{title:"FTP",icon:Ii,component:pg},sftp:{title:"SFTP",icon:Ii,component:Wx},"helpers-network":{title:"Network Tools",icon:Nl,component:he.lazy(()=>Or(()=>import("./NetworkTools-CgDqWk9E.js"),__vite__mapDeps([3,1,2])))},"helpers-format":{title:"JSON/YAML Tools",icon:Al,component:he.lazy(()=>Or(()=>import("./FormatTools-VrveGT1U.js"),__vite__mapDeps([4,1,2])))},templates:{title:"Templates",icon:ih,component:he.lazy(()=>Or(()=>import("./TemplatesAdmin-C2le0Hou.js"),__vite__mapDeps([5,1,2])))}}),[]),[t,s]=$.useState(()=>{try{const u=JSON.parse(localStorage.getItem("tabs_v1")||"null");if(u&&Array.isArray(u)&&u.length)return u}catch{}const C=(()=>{try{return localStorage.getItem("last_workspace_kind_v1")||"rest"}catch{return"rest"}})(),x=`${C}-1`,h=e[C]||e.rest;return[{id:x,kind:C,title:h.title,params:{}}]}),[i,r]=$.useState(()=>localStorage.getItem("active_tab_v1")||"rest-1"),l=$.useCallback((C,x={})=>{const h=e[C];if(!h)return;const u=`${C}-${Date.now()}`;s(o=>[...o,{id:u,kind:C,title:h.title,params:x}]),r(u);try{localStorage.setItem("last_workspace_kind_v1",C)}catch{}},[e]),m=$.useCallback(C=>{s(x=>x.filter(h=>h.id!==C)),r(x=>{if(x===C){const h=t.filter(u=>u.id!==C);return h.length?h[h.length-1].id:null}return x})},[t]),n=$.useCallback(()=>{s([]),r(null)},[]),c=$.useCallback(C=>r(C),[]);if(he.useEffect(()=>{try{localStorage.setItem("tabs_v1",JSON.stringify(t))}catch{}},[t]),he.useEffect(()=>{try{i&&localStorage.setItem("active_tab_v1",i)}catch{}},[i]),he.useEffect(()=>{const C=x=>{(x.ctrlKey||x.metaKey)&&x.key.toLowerCase()==="w"&&(x.preventDefault(),i&&m(i))};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[i,m]),typeof window<"u"&&window.location.pathname.endsWith("/auth/reset"))return a.jsx(a2,{});if(typeof window<"u"&&window.location.pathname.endsWith("/auth/callback"))return a.jsx(n2,{});if(!(((y=(g=import.meta)==null?void 0:g.env)==null?void 0:y.VITE_AUTH_BYPASS)==="1"||!!Lt()))return a.jsx(r2,{onLoggedIn:()=>window.location.reload()});const f=t.find(C=>C.id===i)||null;return a.jsx("div",{className:"min-h-screen bg-white text-gray-900",children:a.jsxs("div",{className:"flex h-screen",children:[a.jsx(vx,{onOpenWorkspace:l,activeTabKind:f==null?void 0:f.kind}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(Ex,{onNewConnection:()=>l("connections"),activeTab:f}),a.jsx(Tx,{}),a.jsx(jx,{tabs:t,activeTabId:i,onClose:m,onCloseAll:n,onActivate:c}),a.jsx(Ax,{tabs:t,activeTabId:i,registry:e,openTab:l})]})]})})}function o2(){return a.jsx(gy,{children:a.jsx(l2,{})})}vy.createRoot(document.getElementById("root")).render(a.jsx(he.StrictMode,{children:a.jsx(o2,{})}));export{At as E,mg as S,g2 as a,v2 as b,_s as c,f2 as d,m2 as e,t2 as f,vn as g,e2 as h,p2 as i,a as j,Vt as k,d2 as l,h2 as m,af as s};
//# sourceMappingURL=index-CR33gb3t.js.map
