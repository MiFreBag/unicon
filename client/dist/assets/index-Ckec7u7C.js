import{r as G,a as Mg,g as Bg,R as we}from"./vendor-CnGqnXYo.js";import{X as ra,O as Hg,U as yu,L as zg,S as Un,P as Af,T as na,D as Ug,C as Pg,E as Ig,a as qg,b as jf,G as Df,c as Su,R as ws,d as aa,e as Fg,Z as Pn,f as hl,A as or,g as Gg,h as xu,M as Jl,i as Kg,j as Wg,k as hc,l as fc,m as Yg,n as $g,o as Vg,W as Xg,p as Qg,K as Zg,q as Jg,r as Cu,s as wu,t as ep}from"./icons-BjR5GKtv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();var Tf={exports:{}},Ia={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=Symbol.for("react.transitional.element"),sp=Symbol.for("react.fragment");function kf(e,t,s){var i=null;if(s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),"key"in t){s={};for(var r in t)r!=="key"&&(s[r]=t[r])}else s=t;return t=s.ref,{$$typeof:tp,type:e,key:i,ref:t!==void 0?t:null,props:s}}Ia.Fragment=sp;Ia.jsx=kf;Ia.jsxs=kf;Tf.exports=Ia;var h=Tf.exports,Nf={exports:{}},qa={},Rf={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var j=P.length;P.push(I);e:for(;0<j;){var L=j-1>>>1,B=P[L];if(0<r(B,I))P[L]=I,P[j]=B,j=L;else break e}}function s(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var I=P[0],j=P.pop();if(j!==I){P[0]=j;e:for(var L=0,B=P.length,M=B>>>1;L<M;){var Y=2*(L+1)-1,N=P[Y],F=Y+1,K=P[F];if(0>r(N,j))F<B&&0>r(K,N)?(P[L]=K,P[F]=j,L=F):(P[L]=N,P[Y]=j,L=Y);else if(F<B&&0>r(K,j))P[L]=K,P[F]=j,L=F;else break e}}return I}function r(P,I){var j=P.sortIndex-I.sortIndex;return j!==0?j:P.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var m=Date,n=m.now();e.unstable_now=function(){return m.now()-n}}var c=[],v=[],_=1,d=null,g=3,b=!1,C=!1,x=!1,u=!1,o=typeof setTimeout=="function"?setTimeout:null,l=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;function p(P){for(var I=s(v);I!==null;){if(I.callback===null)i(v);else if(I.startTime<=P)i(v),I.sortIndex=I.expirationTime,t(c,I);else break;I=s(v)}}function y(P){if(x=!1,p(P),!C)if(s(c)!==null)C=!0,w||(w=!0,k());else{var I=s(v);I!==null&&W(y,I.startTime-P)}}var w=!1,E=-1,S=5,A=-1;function T(){return u?!0:!(e.unstable_now()-A<S)}function R(){if(u=!1,w){var P=e.unstable_now();A=P;var I=!0;try{e:{C=!1,x&&(x=!1,l(E),E=-1),b=!0;var j=g;try{t:{for(p(P),d=s(c);d!==null&&!(d.expirationTime>P&&T());){var L=d.callback;if(typeof L=="function"){d.callback=null,g=d.priorityLevel;var B=L(d.expirationTime<=P);if(P=e.unstable_now(),typeof B=="function"){d.callback=B,p(P),I=!0;break t}d===s(c)&&i(c),p(P)}else i(c);d=s(c)}if(d!==null)I=!0;else{var M=s(v);M!==null&&W(y,M.startTime-P),I=!1}}break e}finally{d=null,g=j,b=!1}I=void 0}}finally{I?k():w=!1}}}var k;if(typeof f=="function")k=function(){f(R)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,q=O.port2;O.port1.onmessage=R,k=function(){q.postMessage(null)}}else k=function(){o(R,0)};function W(P,I){E=o(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var j=g;g=I;try{return P()}finally{g=j}},e.unstable_requestPaint=function(){u=!0},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=g;g=P;try{return I()}finally{g=j}},e.unstable_scheduleCallback=function(P,I,j){var L=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?L+j:L):j=L,P){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=j+B,P={id:_++,callback:I,priorityLevel:P,startTime:j,expirationTime:B,sortIndex:-1},j>L?(P.sortIndex=j,t(v,P),s(c)===null&&P===s(v)&&(x?(l(E),E=-1):x=!0,W(y,j-L))):(P.sortIndex=B,t(c,P),C||b||(C=!0,w||(w=!0,k()))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var I=g;return function(){var j=g;g=I;try{return P.apply(this,arguments)}finally{g=j}}}})(Lf);Rf.exports=Lf;var ip=Rf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fe=ip,Of=G,rp=Mg;function X(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Bf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eu(e){if(tn(e)!==e)throw Error(X(188))}function np(e){var t=e.alternate;if(!t){if(t=tn(e),t===null)throw Error(X(188));return t!==e?null:e}for(var s=e,i=t;;){var r=s.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){s=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===s)return Eu(r),e;if(a===i)return Eu(r),t;a=a.sibling}throw Error(X(188))}if(s.return!==i.return)s=r,i=a;else{for(var m=!1,n=r.child;n;){if(n===s){m=!0,s=r,i=a;break}if(n===i){m=!0,i=r,s=a;break}n=n.sibling}if(!m){for(n=a.child;n;){if(n===s){m=!0,s=a,i=r;break}if(n===i){m=!0,i=a,s=r;break}n=n.sibling}if(!m)throw Error(X(189))}}if(s.alternate!==i)throw Error(X(190))}if(s.tag!==3)throw Error(X(188));return s.stateNode.current===s?e:t}function Hf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Hf(e),t!==null)return t;e=e.sibling}return null}var Ae=Object.assign,ap=Symbol.for("react.element"),Cn=Symbol.for("react.transitional.element"),pr=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),eo=Symbol.for("react.profiler"),lp=Symbol.for("react.provider"),Uf=Symbol.for("react.consumer"),$t=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),to=Symbol.for("react.suspense"),so=Symbol.for("react.suspense_list"),mc=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),io=Symbol.for("react.activity"),op=Symbol.for("react.memo_cache_sentinel"),Au=Symbol.iterator;function cr(e){return e===null||typeof e!="object"?null:(e=Au&&e[Au]||e["@@iterator"],typeof e=="function"?e:null)}var cp=Symbol.for("react.client.reference");function ro(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===cp?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pi:return"Fragment";case eo:return"Profiler";case zf:return"StrictMode";case to:return"Suspense";case so:return"SuspenseList";case io:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case pr:return"Portal";case $t:return(e.displayName||"Context")+".Provider";case Uf:return(e._context.displayName||"Context")+".Consumer";case dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mc:return t=e.displayName||null,t!==null?t:ro(e.type)||"Memo";case ms:t=e._payload,e=e._init;try{return ro(e(t))}catch{}}return null}var _r=Array.isArray,ae=Of.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=rp.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ws={pending:!1,data:null,method:null,action:null},no=[],_i=-1;function Pt(e){return{current:e}}function Ye(e){0>_i||(e.current=no[_i],no[_i]=null,_i--)}function Te(e,t){_i++,no[_i]=e.current,e.current=t}var Ht=Pt(null),Ur=Pt(null),Es=Pt(null),la=Pt(null);function oa(e,t){switch(Te(Es,t),Te(Ur,e),Te(Ht,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nh(t),e=sv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ye(Ht),Te(Ht,e)}function Ui(){Ye(Ht),Ye(Ur),Ye(Es)}function ao(e){e.memoizedState!==null&&Te(la,e);var t=Ht.current,s=sv(t,e.type);t!==s&&(Te(Ur,e),Te(Ht,s))}function ca(e){Ur.current===e&&(Ye(Ht),Ye(Ur)),la.current===e&&(Ye(la),Vr._currentValue=Ws)}var lo=Object.prototype.hasOwnProperty,vc=Fe.unstable_scheduleCallback,fl=Fe.unstable_cancelCallback,up=Fe.unstable_shouldYield,hp=Fe.unstable_requestPaint,zt=Fe.unstable_now,fp=Fe.unstable_getCurrentPriorityLevel,Pf=Fe.unstable_ImmediatePriority,If=Fe.unstable_UserBlockingPriority,ua=Fe.unstable_NormalPriority,dp=Fe.unstable_LowPriority,qf=Fe.unstable_IdlePriority,mp=Fe.log,vp=Fe.unstable_setDisableYieldValue,sn=null,ut=null;function ys(e){if(typeof mp=="function"&&vp(e),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(sn,e)}catch{}}var ht=Math.clz32?Math.clz32:_p,gp=Math.log,pp=Math.LN2;function _p(e){return e>>>=0,e===0?32:31-(gp(e)/pp|0)|0}var wn=256,En=4194304;function qs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fa(e,t,s){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var n=i&134217727;return n!==0?(i=n&~a,i!==0?r=qs(i):(m&=n,m!==0?r=qs(m):s||(s=n&~e,s!==0&&(r=qs(s))))):(n=i&~a,n!==0?r=qs(n):m!==0?r=qs(m):s||(s=i&~e,s!==0&&(r=qs(s)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,s=t&-t,a>=s||a===32&&(s&4194048)!==0)?t:r}function rn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(){var e=wn;return wn<<=1,!(wn&4194048)&&(wn=256),e}function Gf(){var e=En;return En<<=1,!(En&62914560)&&(En=4194304),e}function dl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function nn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yp(e,t,s,i,r,a){var m=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var n=e.entanglements,c=e.expirationTimes,v=e.hiddenUpdates;for(s=m&~s;0<s;){var _=31-ht(s),d=1<<_;n[_]=0,c[_]=-1;var g=v[_];if(g!==null)for(v[_]=null,_=0;_<g.length;_++){var b=g[_];b!==null&&(b.lane&=-536870913)}s&=~d}i!==0&&Kf(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(m&~t))}function Kf(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ht(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|s&4194090}function Wf(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var i=31-ht(s),r=1<<i;r&t|e[i]&t&&(e[i]|=t),s&=~r}}function gc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Yf(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:fv(e.type))}function Sp(e,t){var s=ge.p;try{return ge.p=e,t()}finally{ge.p=s}}var Us=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Us,rt="__reactProps$"+Us,Ji="__reactContainer$"+Us,oo="__reactEvents$"+Us,xp="__reactListeners$"+Us,Cp="__reactHandles$"+Us,ju="__reactResources$"+Us,an="__reactMarker$"+Us;function _c(e){delete e[Ze],delete e[rt],delete e[oo],delete e[xp],delete e[Cp]}function bi(e){var t=e[Ze];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ji]||s[Ze]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Oh(e);e!==null;){if(s=e[Ze])return s;e=Oh(e)}return t}e=s,s=e.parentNode}return null}function er(e){if(e=e[Ze]||e[Ji]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function br(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(X(33))}function ki(e){var t=e[ju];return t||(t=e[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[an]=!0}var $f=new Set,Vf={};function ni(e,t){Pi(e,t),Pi(e+"Capture",t)}function Pi(e,t){for(Vf[e]=t,e=0;e<t.length;e++)$f.add(t[e])}var wp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},Tu={};function Ep(e){return lo.call(Tu,e)?!0:lo.call(Du,e)?!1:wp.test(e)?Tu[e]=!0:(Du[e]=!0,!1)}function In(e,t,s){if(Ep(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function An(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function qt(e,t,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+i)}}var ml,ku;function mi(e){if(ml===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);ml=t&&t[1]||"",ku=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ml+e+ku}var vl=!1;function gl(e,t){if(!e||vl)return"";vl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(b){var g=b}Reflect.construct(e,[],d)}else{try{d.call()}catch(b){g=b}e.call(d.prototype)}}else{try{throw Error()}catch(b){g=b}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(b){if(b&&g&&typeof b.stack=="string")return[b.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),m=a[0],n=a[1];if(m&&n){var c=m.split(`
`),v=n.split(`
`);for(r=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;r<v.length&&!v[r].includes("DetermineComponentFrameRoot");)r++;if(i===c.length||r===v.length)for(i=c.length-1,r=v.length-1;1<=i&&0<=r&&c[i]!==v[r];)r--;for(;1<=i&&0<=r;i--,r--)if(c[i]!==v[r]){if(i!==1||r!==1)do if(i--,r--,0>r||c[i]!==v[r]){var _=`
`+c[i].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=i&&0<=r);break}}}finally{vl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?mi(s):""}function Ap(e){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return gl(e.type,!1);case 11:return gl(e.type.render,!1);case 1:return gl(e.type,!0);case 31:return mi("Activity");default:return""}}function Nu(e){try{var t="";do t+=Ap(e),e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function _t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jp(e){var t=Xf(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){i=""+m,a.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ha(e){e._valueTracker||(e._valueTracker=jp(e))}function Qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),i="";return e&&(i=Xf(e)?e.checked?"true":"false":e.value),e=i,e!==s?(t.setValue(e),!0):!1}function fa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dp=/[\n"\\]/g;function St(e){return e.replace(Dp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function co(e,t,s,i,r,a,m,n){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_t(t)):e.value!==""+_t(t)&&(e.value=""+_t(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?uo(e,m,_t(t)):s!=null?uo(e,m,_t(s)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),n!=null&&typeof n!="function"&&typeof n!="symbol"&&typeof n!="boolean"?e.name=""+_t(n):e.removeAttribute("name")}function Zf(e,t,s,i,r,a,m,n){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||s!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;s=s!=null?""+_t(s):"",t=t!=null?""+_t(t):s,n||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=n?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function uo(e,t,s){t==="number"&&fa(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ni(e,t,s,i){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&i&&(e[s].defaultSelected=!0)}else{for(s=""+_t(s),t=null,r=0;r<e.length;r++){if(e[r].value===s){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Jf(e,t,s){if(t!=null&&(t=""+_t(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+_t(s):""}function ed(e,t,s,i){if(t==null){if(i!=null){if(s!=null)throw Error(X(92));if(_r(i)){if(1<i.length)throw Error(X(93));i=i[0]}s=i}s==null&&(s=""),t=s}s=_t(t),e.defaultValue=s,i=e.textContent,i===s&&i!==""&&i!==null&&(e.value=i)}function Ii(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Tp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(e,t,s){var i=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,s):typeof s!="number"||s===0||Tp.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function td(e,t,s){if(t!=null&&typeof t!="object")throw Error(X(62));if(e=e.style,s!=null){for(var i in s)!s.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&s[r]!==i&&Ru(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&Ru(e,a,t[a])}function bc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Np=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(e){return Np.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ho=null;function yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,Ri=null;function Lu(e){var t=er(e);if(t&&(e=t.stateNode)){var s=e[rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(co(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+St(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var i=s[t];if(i!==e&&i.form===e.form){var r=i[rt]||null;if(!r)throw Error(X(90));co(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<s.length;t++)i=s[t],i.form===e.form&&Qf(i)}break e;case"textarea":Jf(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&Ni(e,!!s.multiple,t,!1)}}}var pl=!1;function sd(e,t,s){if(pl)return e(t,s);pl=!0;try{var i=e(t);return i}finally{if(pl=!1,(yi!==null||Ri!==null)&&(Ja(),yi&&(t=yi,e=Ri,Ri=yi=null,Lu(t),e)))for(t=0;t<e.length;t++)Lu(e[t])}}function Pr(e,t){var s=e.stateNode;if(s===null)return null;var i=s[rt]||null;if(i===null)return null;s=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(X(231,t,typeof s));return s}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=!1;if(ss)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){fo=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{fo=!1}var Ss=null,Sc=null,Fn=null;function id(){if(Fn)return Fn;var e,t=Sc,s=t.length,i,r="value"in Ss?Ss.value:Ss.textContent,a=r.length;for(e=0;e<s&&t[e]===r[e];e++);var m=s-e;for(i=1;i<=m&&t[s-i]===r[a-i];i++);return Fn=r.slice(e,1<i?1-i:void 0)}function Gn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jn(){return!0}function Ou(){return!1}function nt(e){function t(s,i,r,a,m){this._reactName=s,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=m,this.currentTarget=null;for(var n in e)e.hasOwnProperty(n)&&(s=e[n],this[n]=s?s(a):a[n]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?jn:Ou,this.isPropagationStopped=Ou,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=nt(ai),ln=Ae({},ai,{view:0,detail:0}),Rp=nt(ln),_l,bl,hr,Ka=Ae({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&e.type==="mousemove"?(_l=e.screenX-hr.screenX,bl=e.screenY-hr.screenY):bl=_l=0,hr=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:bl}}),Mu=nt(Ka),Lp=Ae({},Ka,{dataTransfer:0}),Op=nt(Lp),Mp=Ae({},ln,{relatedTarget:0}),yl=nt(Mp),Bp=Ae({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=nt(Bp),zp=Ae({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Up=nt(zp),Pp=Ae({},ai,{data:0}),Bu=nt(Pp),Ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fp[e])?!!t[e]:!1}function xc(){return Gp}var Kp=Ae({},ln,{key:function(e){if(e.key){var t=Ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?Gn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wp=nt(Kp),Yp=Ae({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=nt(Yp),$p=Ae({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),Vp=nt($p),Xp=Ae({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=nt(Xp),Zp=Ae({},Ka,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jp=nt(Zp),e_=Ae({},ai,{newState:0,oldState:0}),t_=nt(e_),s_=[9,13,27,32],Cc=ss&&"CompositionEvent"in window,xr=null;ss&&"documentMode"in document&&(xr=document.documentMode);var i_=ss&&"TextEvent"in window&&!xr,rd=ss&&(!Cc||xr&&8<xr&&11>=xr),zu=" ",Uu=!1;function nd(e,t){switch(e){case"keyup":return s_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function r_(e,t){switch(e){case"compositionend":return ad(t);case"keypress":return t.which!==32?null:(Uu=!0,zu);case"textInput":return e=t.data,e===zu&&Uu?null:e;default:return null}}function n_(e,t){if(Si)return e==="compositionend"||!Cc&&nd(e,t)?(e=id(),Fn=Sc=Ss=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rd&&t.locale!=="ko"?null:t.data;default:return null}}var a_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a_[e.type]:t==="textarea"}function ld(e,t,s,i){yi?Ri?Ri.push(i):Ri=[i]:yi=i,t=ka(t,"onChange"),0<t.length&&(s=new Ga("onChange","change",null,s,i),e.push({event:s,listeners:t}))}var Cr=null,Ir=null;function l_(e){Jm(e,0)}function Wa(e){var t=br(e);if(Qf(t))return e}function Iu(e,t){if(e==="change")return t}var od=!1;if(ss){var Sl;if(ss){var xl="oninput"in document;if(!xl){var qu=document.createElement("div");qu.setAttribute("oninput","return;"),xl=typeof qu.oninput=="function"}Sl=xl}else Sl=!1;od=Sl&&(!document.documentMode||9<document.documentMode)}function Fu(){Cr&&(Cr.detachEvent("onpropertychange",cd),Ir=Cr=null)}function cd(e){if(e.propertyName==="value"&&Wa(Ir)){var t=[];ld(t,Ir,e,yc(e)),sd(l_,t)}}function o_(e,t,s){e==="focusin"?(Fu(),Cr=t,Ir=s,Cr.attachEvent("onpropertychange",cd)):e==="focusout"&&Fu()}function c_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wa(Ir)}function u_(e,t){if(e==="click")return Wa(t)}function h_(e,t){if(e==="input"||e==="change")return Wa(t)}function f_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:f_;function qr(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var r=s[i];if(!lo.call(t,r)||!mt(e[r],t[r]))return!1}return!0}function Gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ku(e,t){var s=Gu(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=t&&i>=t)return{node:s,offset:t-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gu(s)}}function ud(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ud(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=fa(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=fa(e.document)}return t}function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var d_=ss&&"documentMode"in document&&11>=document.documentMode,xi=null,mo=null,wr=null,vo=!1;function Wu(e,t,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;vo||xi==null||xi!==fa(i)||(i=xi,"selectionStart"in i&&wc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wr&&qr(wr,i)||(wr=i,i=ka(mo,"onSelect"),0<i.length&&(t=new Ga("onSelect","select",null,t,s),e.push({event:t,listeners:i}),t.target=xi)))}function Is(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ci={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Cl={},fd={};ss&&(fd=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function li(e){if(Cl[e])return Cl[e];if(!Ci[e])return e;var t=Ci[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in fd)return Cl[e]=t[s];return e}var dd=li("animationend"),md=li("animationiteration"),vd=li("animationstart"),m_=li("transitionrun"),v_=li("transitionstart"),g_=li("transitioncancel"),gd=li("transitionend"),pd=new Map,go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");go.push("scrollEnd");function Rt(e,t){pd.set(e,t),ni(t,[e])}var Yu=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var s=Yu.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Nu(t)},Yu.set(e,t),t)}return{value:e,source:t,stack:Nu(t)}}var pt=[],wi=0,Ec=0;function Ya(){for(var e=wi,t=Ec=wi=0;t<e;){var s=pt[t];pt[t++]=null;var i=pt[t];pt[t++]=null;var r=pt[t];pt[t++]=null;var a=pt[t];if(pt[t++]=null,i!==null&&r!==null){var m=i.pending;m===null?r.next=r:(r.next=m.next,m.next=r),i.pending=r}a!==0&&_d(s,r,a)}}function $a(e,t,s,i){pt[wi++]=e,pt[wi++]=t,pt[wi++]=s,pt[wi++]=i,Ec|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Ac(e,t,s,i){return $a(e,t,s,i),da(e)}function tr(e,t){return $a(e,null,null,t),da(e)}function _d(e,t,s){e.lanes|=s;var i=e.alternate;i!==null&&(i.lanes|=s);for(var r=!1,a=e.return;a!==null;)a.childLanes|=s,i=a.alternate,i!==null&&(i.childLanes|=s),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-ht(s),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=s|536870912),a):null}function da(e){if(50<Or)throw Or=0,Ho=null,Error(X(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ei={};function p_(e,t,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,s,i){return new p_(e,t,s,i)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jt(e,t){var s=e.alternate;return s===null?(s=ct(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function bd(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Kn(e,t,s,i,r,a){var m=0;if(i=e,typeof e=="function")jc(e)&&(m=1);else if(typeof e=="string")m=b0(e,s,Ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case io:return e=ct(31,s,t,r),e.elementType=io,e.lanes=a,e;case pi:return Ys(s.children,r,a,t);case zf:m=8,r|=24;break;case eo:return e=ct(12,s,t,r|2),e.elementType=eo,e.lanes=a,e;case to:return e=ct(13,s,t,r),e.elementType=to,e.lanes=a,e;case so:return e=ct(19,s,t,r),e.elementType=so,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lp:case $t:m=10;break e;case Uf:m=9;break e;case dc:m=11;break e;case mc:m=14;break e;case ms:m=16,i=null;break e}m=29,s=Error(X(130,e===null?"null":typeof e,"")),i=null}return t=ct(m,s,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Ys(e,t,s,i){return e=ct(7,e,i,t),e.lanes=s,e}function wl(e,t,s){return e=ct(6,e,null,t),e.lanes=s,e}function El(e,t,s){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ai=[],ji=0,ma=null,va=0,bt=[],yt=0,$s=null,Vt=1,Xt="";function Fs(e,t){Ai[ji++]=va,Ai[ji++]=ma,ma=e,va=t}function yd(e,t,s){bt[yt++]=Vt,bt[yt++]=Xt,bt[yt++]=$s,$s=e;var i=Vt;e=Xt;var r=32-ht(i)-1;i&=~(1<<r),s+=1;var a=32-ht(t)+r;if(30<a){var m=r-r%5;a=(i&(1<<m)-1).toString(32),i>>=m,r-=m,Vt=1<<32-ht(t)+r|s<<r|i,Xt=a+e}else Vt=1<<a|s<<r|i,Xt=e}function Dc(e){e.return!==null&&(Fs(e,1),yd(e,1,0))}function Tc(e){for(;e===ma;)ma=Ai[--ji],Ai[ji]=null,va=Ai[--ji],Ai[ji]=null;for(;e===$s;)$s=bt[--yt],bt[yt]=null,Xt=bt[--yt],bt[yt]=null,Vt=bt[--yt],bt[yt]=null}var et=null,Le=null,ve=!1,Vs=null,Ot=!1,po=Error(X(519));function Js(e){var t=Error(X(418,""));throw Fr(xt(t,e)),po}function $u(e){var t=e.stateNode,s=e.type,i=e.memoizedProps;switch(t[Ze]=e,t[rt]=i,s){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(s=0;s<Wr.length;s++)fe(Wr[s],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),Zf(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ha(t);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),ed(t,i.value,i.defaultValue,i.children),ha(t)}s=i.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||i.suppressHydrationWarning===!0||tv(t.textContent,s)?(i.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),i.onScroll!=null&&fe("scroll",t),i.onScrollEnd!=null&&fe("scrollend",t),i.onClick!=null&&(t.onclick=sl),t=!0):t=!1,t||Js(e)}function Vu(e){for(et=e.return;et;)switch(et.tag){case 5:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:et=et.return}}function fr(e){if(e!==et)return!1;if(!ve)return Vu(e),ve=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Fo(e.type,e.memoizedProps)),s=!s),s&&Le&&Js(e),Vu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(t===0){Le=kt(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++;e=e.nextSibling}Le=null}}else t===27?(t=Le,Ps(e.type)?(e=Wo,Wo=null,Le=e):Le=t):Le=et?kt(e.stateNode.nextSibling):null;return!0}function on(){Le=et=null,ve=!1}function Xu(){var e=Vs;return e!==null&&(it===null?it=e:it.push.apply(it,e),Vs=null),e}function Fr(e){Vs===null?Vs=[e]:Vs.push(e)}var _o=Pt(null),oi=null,Qt=null;function gs(e,t,s){Te(_o,t._currentValue),t._currentValue=s}function es(e){e._currentValue=_o.current,Ye(_o)}function bo(e,t,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===s)break;e=e.return}}function yo(e,t,s,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var m=r.child;a=a.firstContext;e:for(;a!==null;){var n=a;a=r;for(var c=0;c<t.length;c++)if(n.context===t[c]){a.lanes|=s,n=a.alternate,n!==null&&(n.lanes|=s),bo(a.return,s,e),i||(m=null);break e}a=n.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(X(341));m.lanes|=s,a=m.alternate,a!==null&&(a.lanes|=s),bo(m,s,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function cn(e,t,s,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(X(387));if(m=m.memoizedProps,m!==null){var n=r.type;mt(r.pendingProps.value,m.value)||(e!==null?e.push(n):e=[n])}}else if(r===la.current){if(m=r.alternate,m===null)throw Error(X(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Vr):e=[Vr])}r=r.return}e!==null&&yo(t,e,s,i),t.flags|=262144}function ga(e){for(e=e.firstContext;e!==null;){if(!mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ei(e){oi=e,Qt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return Sd(oi,e)}function Dn(e,t){return oi===null&&ei(e),Sd(e,t)}function Sd(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Qt===null){if(e===null)throw Error(X(308));Qt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qt=Qt.next=t;return s}var __=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},b_=Fe.unstable_scheduleCallback,y_=Fe.unstable_NormalPriority,Ie={$$typeof:$t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new __,data:new Map,refCount:0}}function un(e){e.refCount--,e.refCount===0&&b_(y_,function(){e.controller.abort()})}var Er=null,So=0,qi=0,Li=null;function S_(e,t){if(Er===null){var s=Er=[];So=0,qi=Jc(),Li={status:"pending",value:void 0,then:function(i){s.push(i)}}}return So++,t.then(Qu,Qu),t}function Qu(){if(--So===0&&Er!==null){Li!==null&&(Li.status="fulfilled");var e=Er;Er=null,qi=0,Li=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function x_(e,t){var s=[],i={status:"pending",value:null,reason:null,then:function(r){s.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<s.length;r++)(0,s[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<s.length;r++)(0,s[r])(void 0)}),i}var Zu=ae.S;ae.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&S_(e,t),Zu!==null&&Zu(e,t)};var Xs=Pt(null);function Nc(){var e=Xs.current;return e!==null?e:Ce.pooledCache}function Wn(e,t){t===null?Te(Xs,Xs.current):Te(Xs,t.pool)}function xd(){var e=Nc();return e===null?null:{parent:Ie._currentValue,pool:e}}var hn=Error(X(460)),Cd=Error(X(474)),Va=Error(X(542)),xo={then:function(){}};function Ju(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tn(){}function wd(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(Tn,Tn),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,th(e),e;default:if(typeof t.status=="string")t.then(Tn,Tn);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(X(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,th(e),e}throw Ar=t,hn}}var Ar=null;function eh(){if(Ar===null)throw Error(X(459));var e=Ar;return Ar=null,e}function th(e){if(e===hn||e===Va)throw Error(X(483))}var vs=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function js(e,t,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,be&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=da(e),_d(e,null,s),t}return $a(e,i,t,s),da(e)}function jr(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Wf(e,s)}}function Al(e,t){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var r=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};a===null?r=a=m:a=a.next=m,s=s.next}while(s!==null);a===null?r=a=t:a=a.next=t}else r=a=t;s={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var wo=!1;function Dr(){if(wo){var e=Li;if(e!==null)throw e}}function Tr(e,t,s,i){wo=!1;var r=e.updateQueue;vs=!1;var a=r.firstBaseUpdate,m=r.lastBaseUpdate,n=r.shared.pending;if(n!==null){r.shared.pending=null;var c=n,v=c.next;c.next=null,m===null?a=v:m.next=v,m=c;var _=e.alternate;_!==null&&(_=_.updateQueue,n=_.lastBaseUpdate,n!==m&&(n===null?_.firstBaseUpdate=v:n.next=v,_.lastBaseUpdate=c))}if(a!==null){var d=r.baseState;m=0,_=v=c=null,n=a;do{var g=n.lane&-536870913,b=g!==n.lane;if(b?(me&g)===g:(i&g)===g){g!==0&&g===qi&&(wo=!0),_!==null&&(_=_.next={lane:0,tag:n.tag,payload:n.payload,callback:null,next:null});e:{var C=e,x=n;g=t;var u=s;switch(x.tag){case 1:if(C=x.payload,typeof C=="function"){d=C.call(u,d,g);break e}d=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=x.payload,g=typeof C=="function"?C.call(u,d,g):C,g==null)break e;d=Ae({},d,g);break e;case 2:vs=!0}}g=n.callback,g!==null&&(e.flags|=64,b&&(e.flags|=8192),b=r.callbacks,b===null?r.callbacks=[g]:b.push(g))}else b={lane:g,tag:n.tag,payload:n.payload,callback:n.callback,next:null},_===null?(v=_=b,c=d):_=_.next=b,m|=g;if(n=n.next,n===null){if(n=r.shared.pending,n===null)break;b=n,n=b.next,b.next=null,r.lastBaseUpdate=b,r.shared.pending=null}}while(!0);_===null&&(c=d),r.baseState=c,r.firstBaseUpdate=v,r.lastBaseUpdate=_,a===null&&(r.shared.lanes=0),Ms|=m,e.lanes=m,e.memoizedState=d}}function Ed(e,t){if(typeof e!="function")throw Error(X(191,e));e.call(t)}function Ad(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ed(s[e],t)}var Fi=Pt(null),pa=Pt(0);function sh(e,t){e=ns,Te(pa,e),Te(Fi,t),ns=e|t.baseLanes}function Eo(){Te(pa,ns),Te(Fi,Fi.current)}function Lc(){ns=pa.current,Ye(Fi),Ye(pa)}var Ls=0,he=null,Se=null,ze=null,_a=!1,Oi=!1,ti=!1,ba=0,Gr=0,Mi=null,C_=0;function Me(){throw Error(X(321))}function Oc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!mt(e[s],t[s]))return!1;return!0}function Mc(e,t,s,i,r,a){return Ls=a,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ae.H=e===null||e.memoizedState===null?im:rm,ti=!1,a=s(i,r),ti=!1,Oi&&(a=Dd(t,s,i,r)),jd(e),a}function jd(e){ae.H=ya;var t=Se!==null&&Se.next!==null;if(Ls=0,ze=Se=he=null,_a=!1,Gr=0,Mi=null,t)throw Error(X(300));e===null||We||(e=e.dependencies,e!==null&&ga(e)&&(We=!0))}function Dd(e,t,s,i){he=e;var r=0;do{if(Oi&&(Mi=null),Gr=0,Oi=!1,25<=r)throw Error(X(301));if(r+=1,ze=Se=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ae.H=k_,a=t(s,i)}while(Oi);return a}function w_(){var e=ae.H,t=e.useState()[0];return t=typeof t.then=="function"?fn(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(he.flags|=1024),t}function Bc(){var e=ba!==0;return ba=0,e}function Hc(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function zc(e){if(_a){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_a=!1}Ls=0,ze=Se=he=null,Oi=!1,Gr=ba=0,Mi=null}function tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?he.memoizedState=ze=e:ze=ze.next=e,ze}function Ue(){if(Se===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=ze===null?he.memoizedState:ze.next;if(t!==null)ze=t,Se=e;else{if(e===null)throw he.alternate===null?Error(X(467)):Error(X(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},ze===null?he.memoizedState=ze=e:ze=ze.next=e}return ze}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fn(e){var t=Gr;return Gr+=1,Mi===null&&(Mi=[]),e=wd(Mi,e,t),t=he,(ze===null?t.memoizedState:ze.next)===null&&(t=t.alternate,ae.H=t===null||t.memoizedState===null?im:rm),e}function Xa(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fn(e);if(e.$$typeof===$t)return Je(e)}throw Error(X(438,String(e)))}function Pc(e){var t=null,s=he.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var i=he.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Uc(),he.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),i=0;i<e;i++)s[i]=op;return t.index++,s}function is(e,t){return typeof t=="function"?t(e):t}function Yn(e){var t=Ue();return Ic(t,Se,e)}function Ic(e,t,s){var i=e.queue;if(i===null)throw Error(X(311));i.lastRenderedReducer=s;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var m=r.next;r.next=a.next,a.next=m}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var n=m=null,c=null,v=t,_=!1;do{var d=v.lane&-536870913;if(d!==v.lane?(me&d)===d:(Ls&d)===d){var g=v.revertLane;if(g===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),d===qi&&(_=!0);else if((Ls&g)===g){v=v.next,g===qi&&(_=!0);continue}else d={lane:0,revertLane:v.revertLane,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},c===null?(n=c=d,m=a):c=c.next=d,he.lanes|=g,Ms|=g;d=v.action,ti&&s(a,d),a=v.hasEagerState?v.eagerState:s(a,d)}else g={lane:d,revertLane:v.revertLane,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},c===null?(n=c=g,m=a):c=c.next=g,he.lanes|=d,Ms|=d;v=v.next}while(v!==null&&v!==t);if(c===null?m=a:c.next=n,!mt(a,e.memoizedState)&&(We=!0,_&&(s=Li,s!==null)))throw s;e.memoizedState=a,e.baseState=m,e.baseQueue=c,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function jl(e){var t=Ue(),s=t.queue;if(s===null)throw Error(X(311));s.lastRenderedReducer=e;var i=s.dispatch,r=s.pending,a=t.memoizedState;if(r!==null){s.pending=null;var m=r=r.next;do a=e(a,m.action),m=m.next;while(m!==r);mt(a,t.memoizedState)||(We=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,i]}function Td(e,t,s){var i=he,r=Ue(),a=ve;if(a){if(s===void 0)throw Error(X(407));s=s()}else s=t();var m=!mt((Se||r).memoizedState,s);m&&(r.memoizedState=s,We=!0),r=r.queue;var n=Rd.bind(null,i,r,e);if(dn(2048,8,n,[e]),r.getSnapshot!==t||m||ze!==null&&ze.memoizedState.tag&1){if(i.flags|=2048,Gi(9,Qa(),Nd.bind(null,i,r,s,t),null),Ce===null)throw Error(X(349));a||Ls&124||kd(i,t,s)}return s}function kd(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=he.updateQueue,t===null?(t=Uc(),he.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Nd(e,t,s,i){t.value=s,t.getSnapshot=i,Ld(t)&&Od(e)}function Rd(e,t,s){return s(function(){Ld(t)&&Od(e)})}function Ld(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!mt(e,s)}catch{return!0}}function Od(e){var t=tr(e,2);t!==null&&dt(t,e,2)}function Ao(e){var t=tt();if(typeof e=="function"){var s=e;if(e=s(),ti){ys(!0);try{s()}finally{ys(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t}function Md(e,t,s,i){return e.baseState=s,Ic(e,Se,typeof i=="function"?i:is)}function E_(e,t,s,i,r){if(Za(e))throw Error(X(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){a.listeners.push(m)}};ae.T!==null?s(!0):a.isTransition=!1,i(a),s=t.pending,s===null?(a.next=t.pending=a,Bd(t,a)):(a.next=s.next,t.pending=s.next=a)}}function Bd(e,t){var s=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=ae.T,m={};ae.T=m;try{var n=s(r,i),c=ae.S;c!==null&&c(m,n),ih(e,t,n)}catch(v){jo(e,t,v)}finally{ae.T=a}}else try{a=s(r,i),ih(e,t,a)}catch(v){jo(e,t,v)}}function ih(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(i){rh(e,t,i)},function(i){return jo(e,t,i)}):rh(e,t,s)}function rh(e,t,s){t.status="fulfilled",t.value=s,Hd(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Bd(e,s)))}function jo(e,t,s){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=s,Hd(t),t=t.next;while(t!==i)}e.action=null}function Hd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zd(e,t){return t}function nh(e,t){if(ve){var s=Ce.formState;if(s!==null){e:{var i=he;if(ve){if(Le){t:{for(var r=Le,a=Ot;r.nodeType!==8;){if(!a){r=null;break t}if(r=kt(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Le=kt(r.nextSibling),i=r.data==="F!";break e}}Js(i)}i=!1}i&&(t=s[0])}}return s=tt(),s.memoizedState=s.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zd,lastRenderedState:t},s.queue=i,s=em.bind(null,he,i),i.dispatch=s,i=Ao(!1),a=Kc.bind(null,he,!1,i.queue),i=tt(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,s=E_.bind(null,he,r,a,s),r.dispatch=s,i.memoizedState=e,[t,s,!1]}function ah(e){var t=Ue();return Ud(t,Se,e)}function Ud(e,t,s){if(t=Ic(e,t,zd)[0],e=Yn(is)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=fn(t)}catch(m){throw m===hn?Va:m}else i=t;t=Ue();var r=t.queue,a=r.dispatch;return s!==t.memoizedState&&(he.flags|=2048,Gi(9,Qa(),A_.bind(null,r,s),null)),[i,a,e]}function A_(e,t){e.action=t}function lh(e){var t=Ue(),s=Se;if(s!==null)return Ud(t,s,e);Ue(),t=t.memoizedState,s=Ue();var i=s.queue.dispatch;return s.memoizedState=e,[t,i,!1]}function Gi(e,t,s,i){return e={tag:e,create:s,deps:i,inst:t,next:null},t=he.updateQueue,t===null&&(t=Uc(),he.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,t.lastEffect=e),e}function Qa(){return{destroy:void 0,resource:void 0}}function Pd(){return Ue().memoizedState}function $n(e,t,s,i){var r=tt();i=i===void 0?null:i,he.flags|=e,r.memoizedState=Gi(1|t,Qa(),s,i)}function dn(e,t,s,i){var r=Ue();i=i===void 0?null:i;var a=r.memoizedState.inst;Se!==null&&i!==null&&Oc(i,Se.memoizedState.deps)?r.memoizedState=Gi(t,a,s,i):(he.flags|=e,r.memoizedState=Gi(1|t,a,s,i))}function oh(e,t){$n(8390656,8,e,t)}function Id(e,t){dn(2048,8,e,t)}function qd(e,t){return dn(4,2,e,t)}function Fd(e,t){return dn(4,4,e,t)}function Gd(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kd(e,t,s){s=s!=null?s.concat([e]):null,dn(4,4,Gd.bind(null,t,e),s)}function qc(){}function Wd(e,t){var s=Ue();t=t===void 0?null:t;var i=s.memoizedState;return t!==null&&Oc(t,i[1])?i[0]:(s.memoizedState=[e,t],e)}function Yd(e,t){var s=Ue();t=t===void 0?null:t;var i=s.memoizedState;if(t!==null&&Oc(t,i[1]))return i[0];if(i=e(),ti){ys(!0);try{e()}finally{ys(!1)}}return s.memoizedState=[i,t],i}function Fc(e,t,s){return s===void 0||Ls&1073741824?e.memoizedState=t:(e.memoizedState=s,e=Hm(),he.lanes|=e,Ms|=e,s)}function $d(e,t,s,i){return mt(s,t)?s:Fi.current!==null?(e=Fc(e,s,i),mt(e,t)||(We=!0),e):Ls&42?(e=Hm(),he.lanes|=e,Ms|=e,t):(We=!0,e.memoizedState=s)}function Vd(e,t,s,i,r){var a=ge.p;ge.p=a!==0&&8>a?a:8;var m=ae.T,n={};ae.T=n,Kc(e,!1,t,s);try{var c=r(),v=ae.S;if(v!==null&&v(n,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var _=x_(c,i);kr(e,t,_,ft(e))}else kr(e,t,i,ft(e))}catch(d){kr(e,t,{then:function(){},status:"rejected",reason:d},ft())}finally{ge.p=a,ae.T=m}}function j_(){}function Do(e,t,s,i){if(e.tag!==5)throw Error(X(476));var r=Xd(e).queue;Vd(e,r,t,Ws,s===null?j_:function(){return Qd(e),s(i)})}function Xd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ws,baseState:Ws,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:Ws},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qd(e){var t=Xd(e).next.queue;kr(e,t,{},ft())}function Gc(){return Je(Vr)}function Zd(){return Ue().memoizedState}function Jd(){return Ue().memoizedState}function D_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=ft();e=As(s);var i=js(t,e,s);i!==null&&(dt(i,t,s),jr(i,t,s)),t={cache:kc()},e.payload=t;return}t=t.return}}function T_(e,t,s){var i=ft();s={lane:i,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Za(e)?tm(t,s):(s=Ac(e,t,s,i),s!==null&&(dt(s,e,i),sm(s,t,i)))}function em(e,t,s){var i=ft();kr(e,t,s,i)}function kr(e,t,s,i){var r={lane:i,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Za(e))tm(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var m=t.lastRenderedState,n=a(m,s);if(r.hasEagerState=!0,r.eagerState=n,mt(n,m))return $a(e,t,r,0),Ce===null&&Ya(),!1}catch{}finally{}if(s=Ac(e,t,r,i),s!==null)return dt(s,e,i),sm(s,t,i),!0}return!1}function Kc(e,t,s,i){if(i={lane:2,revertLane:Jc(),action:i,hasEagerState:!1,eagerState:null,next:null},Za(e)){if(t)throw Error(X(479))}else t=Ac(e,s,i,2),t!==null&&dt(t,e,2)}function Za(e){var t=e.alternate;return e===he||t!==null&&t===he}function tm(e,t){Oi=_a=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function sm(e,t,s){if(s&4194048){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Wf(e,s)}}var ya={readContext:Je,use:Xa,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},im={readContext:Je,use:Xa,useCallback:function(e,t){return tt().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:oh,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,$n(4194308,4,Gd.bind(null,t,e),s)},useLayoutEffect:function(e,t){return $n(4194308,4,e,t)},useInsertionEffect:function(e,t){$n(4,2,e,t)},useMemo:function(e,t){var s=tt();t=t===void 0?null:t;var i=e();if(ti){ys(!0);try{e()}finally{ys(!1)}}return s.memoizedState=[i,t],i},useReducer:function(e,t,s){var i=tt();if(s!==void 0){var r=s(t);if(ti){ys(!0);try{s(t)}finally{ys(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=T_.bind(null,he,e),[i.memoizedState,e]},useRef:function(e){var t=tt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ao(e);var t=e.queue,s=em.bind(null,he,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:qc,useDeferredValue:function(e,t){var s=tt();return Fc(s,e,t)},useTransition:function(){var e=Ao(!1);return e=Vd.bind(null,he,e.queue,!0,!1),tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var i=he,r=tt();if(ve){if(s===void 0)throw Error(X(407));s=s()}else{if(s=t(),Ce===null)throw Error(X(349));me&124||kd(i,t,s)}r.memoizedState=s;var a={value:s,getSnapshot:t};return r.queue=a,oh(Rd.bind(null,i,a,e),[e]),i.flags|=2048,Gi(9,Qa(),Nd.bind(null,i,a,s,t),null),s},useId:function(){var e=tt(),t=Ce.identifierPrefix;if(ve){var s=Xt,i=Vt;s=(i&~(1<<32-ht(i)-1)).toString(32)+s,t=""+t+"R"+s,s=ba++,0<s&&(t+="H"+s.toString(32)),t+=""}else s=C_++,t=""+t+"r"+s.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Gc,useFormState:nh,useActionState:nh,useOptimistic:function(e){var t=tt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Kc.bind(null,he,!0,s),s.dispatch=t,[e,t]},useMemoCache:Pc,useCacheRefresh:function(){return tt().memoizedState=D_.bind(null,he)}},rm={readContext:Je,use:Xa,useCallback:Wd,useContext:Je,useEffect:Id,useImperativeHandle:Kd,useInsertionEffect:qd,useLayoutEffect:Fd,useMemo:Yd,useReducer:Yn,useRef:Pd,useState:function(){return Yn(is)},useDebugValue:qc,useDeferredValue:function(e,t){var s=Ue();return $d(s,Se.memoizedState,e,t)},useTransition:function(){var e=Yn(is)[0],t=Ue().memoizedState;return[typeof e=="boolean"?e:fn(e),t]},useSyncExternalStore:Td,useId:Zd,useHostTransitionStatus:Gc,useFormState:ah,useActionState:ah,useOptimistic:function(e,t){var s=Ue();return Md(s,Se,e,t)},useMemoCache:Pc,useCacheRefresh:Jd},k_={readContext:Je,use:Xa,useCallback:Wd,useContext:Je,useEffect:Id,useImperativeHandle:Kd,useInsertionEffect:qd,useLayoutEffect:Fd,useMemo:Yd,useReducer:jl,useRef:Pd,useState:function(){return jl(is)},useDebugValue:qc,useDeferredValue:function(e,t){var s=Ue();return Se===null?Fc(s,e,t):$d(s,Se.memoizedState,e,t)},useTransition:function(){var e=jl(is)[0],t=Ue().memoizedState;return[typeof e=="boolean"?e:fn(e),t]},useSyncExternalStore:Td,useId:Zd,useHostTransitionStatus:Gc,useFormState:lh,useActionState:lh,useOptimistic:function(e,t){var s=Ue();return Se!==null?Md(s,Se,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Pc,useCacheRefresh:Jd},Bi=null,Kr=0;function kn(e){var t=Kr;return Kr+=1,Bi===null&&(Bi=[]),wd(Bi,e,t)}function dr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Nn(e,t){throw t.$$typeof===ap?Error(X(525)):(e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ch(e){var t=e._init;return t(e._payload)}function nm(e){function t(o,l){if(e){var f=o.deletions;f===null?(o.deletions=[l],o.flags|=16):f.push(l)}}function s(o,l){if(!e)return null;for(;l!==null;)t(o,l),l=l.sibling;return null}function i(o){for(var l=new Map;o!==null;)o.key!==null?l.set(o.key,o):l.set(o.index,o),o=o.sibling;return l}function r(o,l){return o=Jt(o,l),o.index=0,o.sibling=null,o}function a(o,l,f){return o.index=f,e?(f=o.alternate,f!==null?(f=f.index,f<l?(o.flags|=67108866,l):f):(o.flags|=67108866,l)):(o.flags|=1048576,l)}function m(o){return e&&o.alternate===null&&(o.flags|=67108866),o}function n(o,l,f,p){return l===null||l.tag!==6?(l=wl(f,o.mode,p),l.return=o,l):(l=r(l,f),l.return=o,l)}function c(o,l,f,p){var y=f.type;return y===pi?_(o,l,f.props.children,p,f.key):l!==null&&(l.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===ms&&ch(y)===l.type)?(l=r(l,f.props),dr(l,f),l.return=o,l):(l=Kn(f.type,f.key,f.props,null,o.mode,p),dr(l,f),l.return=o,l)}function v(o,l,f,p){return l===null||l.tag!==4||l.stateNode.containerInfo!==f.containerInfo||l.stateNode.implementation!==f.implementation?(l=El(f,o.mode,p),l.return=o,l):(l=r(l,f.children||[]),l.return=o,l)}function _(o,l,f,p,y){return l===null||l.tag!==7?(l=Ys(f,o.mode,p,y),l.return=o,l):(l=r(l,f),l.return=o,l)}function d(o,l,f){if(typeof l=="string"&&l!==""||typeof l=="number"||typeof l=="bigint")return l=wl(""+l,o.mode,f),l.return=o,l;if(typeof l=="object"&&l!==null){switch(l.$$typeof){case Cn:return f=Kn(l.type,l.key,l.props,null,o.mode,f),dr(f,l),f.return=o,f;case pr:return l=El(l,o.mode,f),l.return=o,l;case ms:var p=l._init;return l=p(l._payload),d(o,l,f)}if(_r(l)||cr(l))return l=Ys(l,o.mode,f,null),l.return=o,l;if(typeof l.then=="function")return d(o,kn(l),f);if(l.$$typeof===$t)return d(o,Dn(o,l),f);Nn(o,l)}return null}function g(o,l,f,p){var y=l!==null?l.key:null;if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return y!==null?null:n(o,l,""+f,p);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Cn:return f.key===y?c(o,l,f,p):null;case pr:return f.key===y?v(o,l,f,p):null;case ms:return y=f._init,f=y(f._payload),g(o,l,f,p)}if(_r(f)||cr(f))return y!==null?null:_(o,l,f,p,null);if(typeof f.then=="function")return g(o,l,kn(f),p);if(f.$$typeof===$t)return g(o,l,Dn(o,f),p);Nn(o,f)}return null}function b(o,l,f,p,y){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return o=o.get(f)||null,n(l,o,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Cn:return o=o.get(p.key===null?f:p.key)||null,c(l,o,p,y);case pr:return o=o.get(p.key===null?f:p.key)||null,v(l,o,p,y);case ms:var w=p._init;return p=w(p._payload),b(o,l,f,p,y)}if(_r(p)||cr(p))return o=o.get(f)||null,_(l,o,p,y,null);if(typeof p.then=="function")return b(o,l,f,kn(p),y);if(p.$$typeof===$t)return b(o,l,f,Dn(l,p),y);Nn(l,p)}return null}function C(o,l,f,p){for(var y=null,w=null,E=l,S=l=0,A=null;E!==null&&S<f.length;S++){E.index>S?(A=E,E=null):A=E.sibling;var T=g(o,E,f[S],p);if(T===null){E===null&&(E=A);break}e&&E&&T.alternate===null&&t(o,E),l=a(T,l,S),w===null?y=T:w.sibling=T,w=T,E=A}if(S===f.length)return s(o,E),ve&&Fs(o,S),y;if(E===null){for(;S<f.length;S++)E=d(o,f[S],p),E!==null&&(l=a(E,l,S),w===null?y=E:w.sibling=E,w=E);return ve&&Fs(o,S),y}for(E=i(E);S<f.length;S++)A=b(E,o,S,f[S],p),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?S:A.key),l=a(A,l,S),w===null?y=A:w.sibling=A,w=A);return e&&E.forEach(function(R){return t(o,R)}),ve&&Fs(o,S),y}function x(o,l,f,p){if(f==null)throw Error(X(151));for(var y=null,w=null,E=l,S=l=0,A=null,T=f.next();E!==null&&!T.done;S++,T=f.next()){E.index>S?(A=E,E=null):A=E.sibling;var R=g(o,E,T.value,p);if(R===null){E===null&&(E=A);break}e&&E&&R.alternate===null&&t(o,E),l=a(R,l,S),w===null?y=R:w.sibling=R,w=R,E=A}if(T.done)return s(o,E),ve&&Fs(o,S),y;if(E===null){for(;!T.done;S++,T=f.next())T=d(o,T.value,p),T!==null&&(l=a(T,l,S),w===null?y=T:w.sibling=T,w=T);return ve&&Fs(o,S),y}for(E=i(E);!T.done;S++,T=f.next())T=b(E,o,S,T.value,p),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?S:T.key),l=a(T,l,S),w===null?y=T:w.sibling=T,w=T);return e&&E.forEach(function(k){return t(o,k)}),ve&&Fs(o,S),y}function u(o,l,f,p){if(typeof f=="object"&&f!==null&&f.type===pi&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Cn:e:{for(var y=f.key;l!==null;){if(l.key===y){if(y=f.type,y===pi){if(l.tag===7){s(o,l.sibling),p=r(l,f.props.children),p.return=o,o=p;break e}}else if(l.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===ms&&ch(y)===l.type){s(o,l.sibling),p=r(l,f.props),dr(p,f),p.return=o,o=p;break e}s(o,l);break}else t(o,l);l=l.sibling}f.type===pi?(p=Ys(f.props.children,o.mode,p,f.key),p.return=o,o=p):(p=Kn(f.type,f.key,f.props,null,o.mode,p),dr(p,f),p.return=o,o=p)}return m(o);case pr:e:{for(y=f.key;l!==null;){if(l.key===y)if(l.tag===4&&l.stateNode.containerInfo===f.containerInfo&&l.stateNode.implementation===f.implementation){s(o,l.sibling),p=r(l,f.children||[]),p.return=o,o=p;break e}else{s(o,l);break}else t(o,l);l=l.sibling}p=El(f,o.mode,p),p.return=o,o=p}return m(o);case ms:return y=f._init,f=y(f._payload),u(o,l,f,p)}if(_r(f))return C(o,l,f,p);if(cr(f)){if(y=cr(f),typeof y!="function")throw Error(X(150));return f=y.call(f),x(o,l,f,p)}if(typeof f.then=="function")return u(o,l,kn(f),p);if(f.$$typeof===$t)return u(o,l,Dn(o,f),p);Nn(o,f)}return typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint"?(f=""+f,l!==null&&l.tag===6?(s(o,l.sibling),p=r(l,f),p.return=o,o=p):(s(o,l),p=wl(f,o.mode,p),p.return=o,o=p),m(o)):s(o,l)}return function(o,l,f,p){try{Kr=0;var y=u(o,l,f,p);return Bi=null,y}catch(E){if(E===hn||E===Va)throw E;var w=ct(29,E,null,o.mode);return w.lanes=p,w.return=o,w}finally{}}}var Ki=nm(!0),am=nm(!1),wt=Pt(null),Ut=null;function ps(e){var t=e.alternate;Te(qe,qe.current&1),Te(wt,e),Ut===null&&(t===null||Fi.current!==null||t.memoizedState!==null)&&(Ut=e)}function lm(e){if(e.tag===22){if(Te(qe,qe.current),Te(wt,e),Ut===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ut=e)}}else _s()}function _s(){Te(qe,qe.current),Te(wt,wt.current)}function Zt(e){Ye(wt),Ut===e&&(Ut=null),Ye(qe)}var qe=Pt(0);function Sa(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Ko(s)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Dl(e,t,s,i){t=e.memoizedState,s=s(i,t),s=s==null?t:Ae({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var To={enqueueSetState:function(e,t,s){e=e._reactInternals;var i=ft(),r=As(i);r.payload=t,s!=null&&(r.callback=s),t=js(e,r,i),t!==null&&(dt(t,e,i),jr(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var i=ft(),r=As(i);r.tag=1,r.payload=t,s!=null&&(r.callback=s),t=js(e,r,i),t!==null&&(dt(t,e,i),jr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ft(),i=As(s);i.tag=2,t!=null&&(i.callback=t),t=js(e,i,s),t!==null&&(dt(t,e,s),jr(t,e,s))}};function uh(e,t,s,i,r,a,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,m):t.prototype&&t.prototype.isPureReactComponent?!qr(s,i)||!qr(r,a):!0}function hh(e,t,s,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,i),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function si(e,t){var s=t;if("ref"in t){s={};for(var i in t)i!=="ref"&&(s[i]=t[i])}if(e=e.defaultProps){s===t&&(s=Ae({},s));for(var r in e)s[r]===void 0&&(s[r]=e[r])}return s}var xa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function om(e){xa(e)}function cm(e){console.error(e)}function um(e){xa(e)}function Ca(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function fh(e,t,s){try{var i=e.onCaughtError;i(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ko(e,t,s){return s=As(s),s.tag=3,s.payload={element:null},s.callback=function(){Ca(e,t)},s}function hm(e){return e=As(e),e.tag=3,e}function fm(e,t,s,i){var r=s.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){fh(t,s,i)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){fh(t,s,i),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var n=i.stack;this.componentDidCatch(i.value,{componentStack:n!==null?n:""})})}function N_(e,t,s,i,r){if(s.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=s.alternate,t!==null&&cn(t,s,r,!0),s=wt.current,s!==null){switch(s.tag){case 13:return Ut===null?zo():s.alternate===null&&Oe===0&&(Oe=3),s.flags&=-257,s.flags|=65536,s.lanes=r,i===xo?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([i]):t.add(i),Ul(e,i,r)),!1;case 22:return s.flags|=65536,i===xo?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([i]):s.add(i)),Ul(e,i,r)),!1}throw Error(X(435,s.tag))}return Ul(e,i,r),zo(),!1}if(ve)return t=wt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==po&&(e=Error(X(422),{cause:i}),Fr(xt(e,s)))):(i!==po&&(t=Error(X(423),{cause:i}),Fr(xt(t,s))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=xt(i,s),r=ko(e.stateNode,i,r),Al(e,r),Oe!==4&&(Oe=2)),!1;var a=Error(X(520),{cause:i});if(a=xt(a,s),Lr===null?Lr=[a]:Lr.push(a),Oe!==4&&(Oe=2),t===null)return!0;i=xt(i,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=r&-r,s.lanes|=e,e=ko(s.stateNode,i,e),Al(s,e),!1;case 1:if(t=s.type,a=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ds===null||!Ds.has(a))))return s.flags|=65536,r&=-r,s.lanes|=r,r=hm(r),fm(r,e,s,i),Al(s,r),!1}s=s.return}while(s!==null);return!1}var dm=Error(X(461)),We=!1;function $e(e,t,s,i){t.child=e===null?am(t,null,s,i):Ki(t,e.child,s,i)}function dh(e,t,s,i,r){s=s.render;var a=t.ref;if("ref"in i){var m={};for(var n in i)n!=="ref"&&(m[n]=i[n])}else m=i;return ei(t),i=Mc(e,t,s,m,a,r),n=Bc(),e!==null&&!We?(Hc(e,t,r),rs(e,t,r)):(ve&&n&&Dc(t),t.flags|=1,$e(e,t,i,r),t.child)}function mh(e,t,s,i,r){if(e===null){var a=s.type;return typeof a=="function"&&!jc(a)&&a.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=a,mm(e,t,a,i,r)):(e=Kn(s.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Wc(e,r)){var m=a.memoizedProps;if(s=s.compare,s=s!==null?s:qr,s(m,i)&&e.ref===t.ref)return rs(e,t,r)}return t.flags|=1,e=Jt(a,i),e.ref=t.ref,e.return=t,t.child=e}function mm(e,t,s,i,r){if(e!==null){var a=e.memoizedProps;if(qr(a,i)&&e.ref===t.ref)if(We=!1,t.pendingProps=i=a,Wc(e,r))e.flags&131072&&(We=!0);else return t.lanes=e.lanes,rs(e,t,r)}return No(e,t,s,i,r)}function vm(e,t,s){var i=t.pendingProps,r=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|s:s,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return vh(e,t,i,s)}if(s&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wn(t,a!==null?a.cachePool:null),a!==null?sh(t,a):Eo(),lm(t);else return t.lanes=t.childLanes=536870912,vh(e,t,a!==null?a.baseLanes|s:s,s)}else a!==null?(Wn(t,a.cachePool),sh(t,a),_s(),t.memoizedState=null):(e!==null&&Wn(t,null),Eo(),_s());return $e(e,t,r,s),t.child}function vh(e,t,s,i){var r=Nc();return r=r===null?null:{parent:Ie._currentValue,pool:r},t.memoizedState={baseLanes:s,cachePool:r},e!==null&&Wn(t,null),Eo(),lm(t),e!==null&&cn(e,t,i,!0),null}function Vn(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(X(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function No(e,t,s,i,r){return ei(t),s=Mc(e,t,s,i,void 0,r),i=Bc(),e!==null&&!We?(Hc(e,t,r),rs(e,t,r)):(ve&&i&&Dc(t),t.flags|=1,$e(e,t,s,r),t.child)}function gh(e,t,s,i,r,a){return ei(t),t.updateQueue=null,s=Dd(t,i,s,r),jd(e),i=Bc(),e!==null&&!We?(Hc(e,t,a),rs(e,t,a)):(ve&&i&&Dc(t),t.flags|=1,$e(e,t,s,a),t.child)}function ph(e,t,s,i,r){if(ei(t),t.stateNode===null){var a=Ei,m=s.contextType;typeof m=="object"&&m!==null&&(a=Je(m)),a=new s(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=To,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},Rc(t),m=s.contextType,a.context=typeof m=="object"&&m!==null?Je(m):Ei,a.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Dl(t,s,m,i),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(m=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),m!==a.state&&To.enqueueReplaceState(a,a.state,null),Tr(t,i,a,r),Dr(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var n=t.memoizedProps,c=si(s,n);a.props=c;var v=a.context,_=s.contextType;m=Ei,typeof _=="object"&&_!==null&&(m=Je(_));var d=s.getDerivedStateFromProps;_=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",n=t.pendingProps!==n,_||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(n||v!==m)&&hh(t,a,i,m),vs=!1;var g=t.memoizedState;a.state=g,Tr(t,i,a,r),Dr(),v=t.memoizedState,n||g!==v||vs?(typeof d=="function"&&(Dl(t,s,d,i),v=t.memoizedState),(c=vs||uh(t,s,c,i,g,v,m))?(_||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=v),a.props=i,a.state=v,a.context=m,i=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Co(e,t),m=t.memoizedProps,_=si(s,m),a.props=_,d=t.pendingProps,g=a.context,v=s.contextType,c=Ei,typeof v=="object"&&v!==null&&(c=Je(v)),n=s.getDerivedStateFromProps,(v=typeof n=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(m!==d||g!==c)&&hh(t,a,i,c),vs=!1,g=t.memoizedState,a.state=g,Tr(t,i,a,r),Dr();var b=t.memoizedState;m!==d||g!==b||vs||e!==null&&e.dependencies!==null&&ga(e.dependencies)?(typeof n=="function"&&(Dl(t,s,n,i),b=t.memoizedState),(_=vs||uh(t,s,_,i,g,b,c)||e!==null&&e.dependencies!==null&&ga(e.dependencies))?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,b,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||m===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=b),a.props=i,a.state=b,a.context=c,i=_):(typeof a.componentDidUpdate!="function"||m===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Vn(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,s=i&&typeof s.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=Ki(t,e.child,null,r),t.child=Ki(t,null,s,r)):$e(e,t,s,r),t.memoizedState=a.state,e=t.child):e=rs(e,t,r),e}function _h(e,t,s,i){return on(),t.flags|=256,$e(e,t,s,i),t.child}var Tl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kl(e){return{baseLanes:e,cachePool:xd()}}function Nl(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Ct),e}function gm(e,t,s){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,m;if((m=a)||(m=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(r?ps(t):_s(),ve){var n=Le,c;if(c=n){e:{for(c=n,n=Ot;c.nodeType!==8;){if(!n){n=null;break e}if(c=kt(c.nextSibling),c===null){n=null;break e}}n=c}n!==null?(t.memoizedState={dehydrated:n,treeContext:$s!==null?{id:Vt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},c=ct(18,null,null,0),c.stateNode=n,c.return=t,t.child=c,et=t,Le=null,c=!0):c=!1}c||Js(t)}if(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null))return Ko(n)?t.lanes=32:t.lanes=536870912,null;Zt(t)}return n=i.children,i=i.fallback,r?(_s(),r=t.mode,n=wa({mode:"hidden",children:n},r),i=Ys(i,r,s,null),n.return=t,i.return=t,n.sibling=i,t.child=n,r=t.child,r.memoizedState=kl(s),r.childLanes=Nl(e,m,s),t.memoizedState=Tl,i):(ps(t),Ro(t,n))}if(c=e.memoizedState,c!==null&&(n=c.dehydrated,n!==null)){if(a)t.flags&256?(ps(t),t.flags&=-257,t=Rl(e,t,s)):t.memoizedState!==null?(_s(),t.child=e.child,t.flags|=128,t=null):(_s(),r=i.fallback,n=t.mode,i=wa({mode:"visible",children:i.children},n),r=Ys(r,n,s,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Ki(t,e.child,null,s),i=t.child,i.memoizedState=kl(s),i.childLanes=Nl(e,m,s),t.memoizedState=Tl,t=r);else if(ps(t),Ko(n)){if(m=n.nextSibling&&n.nextSibling.dataset,m)var v=m.dgst;m=v,i=Error(X(419)),i.stack="",i.digest=m,Fr({value:i,source:null,stack:null}),t=Rl(e,t,s)}else if(We||cn(e,t,s,!1),m=(s&e.childLanes)!==0,We||m){if(m=Ce,m!==null&&(i=s&-s,i=i&42?1:gc(i),i=i&(m.suspendedLanes|s)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,tr(e,i),dt(m,e,i),dm;n.data==="$?"||zo(),t=Rl(e,t,s)}else n.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Le=kt(n.nextSibling),et=t,ve=!0,Vs=null,Ot=!1,e!==null&&(bt[yt++]=Vt,bt[yt++]=Xt,bt[yt++]=$s,Vt=e.id,Xt=e.overflow,$s=t),t=Ro(t,i.children),t.flags|=4096);return t}return r?(_s(),r=i.fallback,n=t.mode,c=e.child,v=c.sibling,i=Jt(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,v!==null?r=Jt(v,r):(r=Ys(r,n,s,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,n=e.child.memoizedState,n===null?n=kl(s):(c=n.cachePool,c!==null?(v=Ie._currentValue,c=c.parent!==v?{parent:v,pool:v}:c):c=xd(),n={baseLanes:n.baseLanes|s,cachePool:c}),r.memoizedState=n,r.childLanes=Nl(e,m,s),t.memoizedState=Tl,i):(ps(t),s=e.child,e=s.sibling,s=Jt(s,{mode:"visible",children:i.children}),s.return=t,s.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=s,t.memoizedState=null,s)}function Ro(e,t){return t=wa({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wa(e,t){return e=ct(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Rl(e,t,s){return Ki(t,e.child,null,s),e=Ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bh(e,t,s){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),bo(e.return,t,s)}function Ll(e,t,s,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=s,a.tailMode=r)}function pm(e,t,s){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if($e(e,t,i.children,s),i=qe.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bh(e,s,t);else if(e.tag===19)bh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Te(qe,i),r){case"forwards":for(s=t.child,r=null;s!==null;)e=s.alternate,e!==null&&Sa(e)===null&&(r=s),s=s.sibling;s=r,s===null?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),Ll(t,!1,r,s,a);break;case"backwards":for(s=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Sa(e)===null){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}Ll(t,!0,s,null,a);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ms|=t.lanes,!(s&t.childLanes))if(e!==null){if(cn(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,s=Jt(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Jt(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Wc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ga(e)))}function R_(e,t,s){switch(t.tag){case 3:oa(t,t.stateNode.containerInfo),gs(t,Ie,e.memoizedState.cache),on();break;case 27:case 5:ao(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:gs(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ps(t),t.flags|=128,null):s&t.child.childLanes?gm(e,t,s):(ps(t),e=rs(e,t,s),e!==null?e.sibling:null);ps(t);break;case 19:var r=(e.flags&128)!==0;if(i=(s&t.childLanes)!==0,i||(cn(e,t,s,!1),i=(s&t.childLanes)!==0),r){if(i)return pm(e,t,s);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Te(qe,qe.current),i)break;return null;case 22:case 23:return t.lanes=0,vm(e,t,s);case 24:gs(t,Ie,e.memoizedState.cache)}return rs(e,t,s)}function _m(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Wc(e,s)&&!(t.flags&128))return We=!1,R_(e,t,s);We=!!(e.flags&131072)}else We=!1,ve&&t.flags&1048576&&yd(t,va,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")jc(i)?(e=si(i,e),t.tag=1,t=ph(null,t,i,e,s)):(t.tag=0,t=No(null,t,i,e,s));else{if(i!=null){if(r=i.$$typeof,r===dc){t.tag=11,t=dh(null,t,i,e,s);break e}else if(r===mc){t.tag=14,t=mh(null,t,i,e,s);break e}}throw t=ro(i)||i,Error(X(306,t,""))}}return t;case 0:return No(e,t,t.type,t.pendingProps,s);case 1:return i=t.type,r=si(i,t.pendingProps),ph(e,t,i,r,s);case 3:e:{if(oa(t,t.stateNode.containerInfo),e===null)throw Error(X(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,Co(e,t),Tr(t,i,null,s);var m=t.memoizedState;if(i=m.cache,gs(t,Ie,i),i!==a.cache&&yo(t,[Ie],s,!0),Dr(),i=m.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=_h(e,t,i,s);break e}else if(i!==r){r=xt(Error(X(424)),t),Fr(r),t=_h(e,t,i,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=kt(e.firstChild),et=t,ve=!0,Vs=null,Ot=!0,s=am(t,null,i,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(on(),i===r){t=rs(e,t,s);break e}$e(e,t,i,s)}t=t.child}return t;case 26:return Vn(e,t),e===null?(s=Bh(t.type,null,t.pendingProps,null))?t.memoizedState=s:ve||(s=t.type,e=t.pendingProps,i=Na(Es.current).createElement(s),i[Ze]=t,i[rt]=e,Xe(i,s,e),Ke(i),t.stateNode=i):t.memoizedState=Bh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ao(t),e===null&&ve&&(i=t.stateNode=rv(t.type,t.pendingProps,Es.current),et=t,Ot=!0,r=Le,Ps(t.type)?(Wo=r,Le=kt(i.firstChild)):Le=r),$e(e,t,t.pendingProps.children,s),Vn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((r=i=Le)&&(i=a0(i,t.type,t.pendingProps,Ot),i!==null?(t.stateNode=i,et=t,Le=kt(i.firstChild),Ot=!1,r=!0):r=!1),r||Js(t)),ao(t),r=t.type,a=t.pendingProps,m=e!==null?e.memoizedProps:null,i=a.children,Fo(r,a)?i=null:m!==null&&Fo(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=Mc(e,t,w_,null,null,s),Vr._currentValue=r),Vn(e,t),$e(e,t,i,s),t.child;case 6:return e===null&&ve&&((e=s=Le)&&(s=l0(s,t.pendingProps,Ot),s!==null?(t.stateNode=s,et=t,Le=null,e=!0):e=!1),e||Js(t)),null;case 13:return gm(e,t,s);case 4:return oa(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ki(t,null,i,s):$e(e,t,i,s),t.child;case 11:return dh(e,t,t.type,t.pendingProps,s);case 7:return $e(e,t,t.pendingProps,s),t.child;case 8:return $e(e,t,t.pendingProps.children,s),t.child;case 12:return $e(e,t,t.pendingProps.children,s),t.child;case 10:return i=t.pendingProps,gs(t,t.type,i.value),$e(e,t,i.children,s),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ei(t),r=Je(r),i=i(r),t.flags|=1,$e(e,t,i,s),t.child;case 14:return mh(e,t,t.type,t.pendingProps,s);case 15:return mm(e,t,t.type,t.pendingProps,s);case 19:return pm(e,t,s);case 31:return i=t.pendingProps,s=t.mode,i={mode:i.mode,children:i.children},e===null?(s=wa(i,s),s.ref=t.ref,t.child=s,s.return=t,t=s):(s=Jt(e.child,i),s.ref=t.ref,t.child=s,s.return=t,t=s),t;case 22:return vm(e,t,s);case 24:return ei(t),i=Je(Ie),e===null?(r=Nc(),r===null&&(r=Ce,a=kc(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=s),r=a),t.memoizedState={parent:i,cache:r},Rc(t),gs(t,Ie,r)):(e.lanes&s&&(Co(e,t),Tr(t,null,null,s),Dr()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),gs(t,Ie,i)):(i=a.cache,gs(t,Ie,i),i!==r.cache&&yo(t,[Ie],s,!0))),$e(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(X(156,t.tag))}function Ft(e){e.flags|=4}function yh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!lv(t)){if(t=wt.current,t!==null&&((me&4194048)===me?Ut!==null:(me&62914560)!==me&&!(me&536870912)||t!==Ut))throw Ar=xo,Cd;e.flags|=8192}}function Rn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gf():536870912,e.lanes|=t,Wi|=t)}function mr(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(t)for(var r=e.child;r!==null;)s|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)s|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=s,t}function L_(e,t,s){var i=t.pendingProps;switch(Tc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return s=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),es(Ie),Ui(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fr(t)?Ft(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xu())),Re(t),null;case 26:return s=t.memoizedState,e===null?(Ft(t),s!==null?(Re(t),yh(t,s)):(Re(t),t.flags&=-16777217)):s?s!==e.memoizedState?(Ft(t),Re(t),yh(t,s)):(Re(t),t.flags&=-16777217):(e.memoizedProps!==i&&Ft(t),Re(t),t.flags&=-16777217),null;case 27:ca(t),s=Es.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ft(t);else{if(!i){if(t.stateNode===null)throw Error(X(166));return Re(t),null}e=Ht.current,fr(t)?$u(t):(e=rv(r,i,s),t.stateNode=e,Ft(t))}return Re(t),null;case 5:if(ca(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ft(t);else{if(!i){if(t.stateNode===null)throw Error(X(166));return Re(t),null}if(e=Ht.current,fr(t))$u(t);else{switch(r=Na(Es.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(s,{is:i.is}):r.createElement(s)}}e[Ze]=t,e[rt]=i;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Xe(e,s,i),s){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ft(t)}}return Re(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ft(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(X(166));if(e=Es.current,fr(t)){if(e=t.stateNode,s=t.memoizedProps,i=null,r=et,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Ze]=t,e=!!(e.nodeValue===s||i!==null&&i.suppressHydrationWarning===!0||tv(e.nodeValue,s)),e||Js(t)}else e=Na(e).createTextNode(i),e[Ze]=t,t.stateNode=e}return Re(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=fr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(X(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(X(317));r[Ze]=t}else on(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),r=!1}else r=Xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Zt(t),t):(Zt(t),null)}if(Zt(t),t.flags&128)return t.lanes=s,t;if(s=i!==null,e=e!==null&&e.memoizedState!==null,s){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),Rn(t,t.updateQueue),Re(t),null;case 4:return Ui(),e===null&&eu(t.stateNode.containerInfo),Re(t),null;case 10:return es(t.type),Re(t),null;case 19:if(Ye(qe),r=t.memoizedState,r===null)return Re(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)mr(r,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Sa(e),a!==null){for(t.flags|=128,mr(r,!1),e=a.updateQueue,t.updateQueue=e,Rn(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)bd(s,e),s=s.sibling;return Te(qe,qe.current&1|2),t.child}e=e.sibling}r.tail!==null&&zt()>Aa&&(t.flags|=128,i=!0,mr(r,!1),t.lanes=4194304)}else{if(!i)if(e=Sa(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Rn(t,e),mr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!ve)return Re(t),null}else 2*zt()-r.renderingStartTime>Aa&&s!==536870912&&(t.flags|=128,i=!0,mr(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=zt(),t.sibling=null,e=qe.current,Te(qe,i?e&1|2:e&1),t):(Re(t),null);case 22:case 23:return Zt(t),Lc(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?s&536870912&&!(t.flags&128)&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),s=t.updateQueue,s!==null&&Rn(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==s&&(t.flags|=2048),e!==null&&Ye(Xs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),es(Ie),Re(t),null;case 25:return null;case 30:return null}throw Error(X(156,t.tag))}function O_(e,t){switch(Tc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(Ie),Ui(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ca(t),null;case 13:if(Zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(qe),null;case 4:return Ui(),null;case 10:return es(t.type),null;case 22:case 23:return Zt(t),Lc(),e!==null&&Ye(Xs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return es(Ie),null;case 25:return null;default:return null}}function bm(e,t){switch(Tc(t),t.tag){case 3:es(Ie),Ui();break;case 26:case 27:case 5:ca(t);break;case 4:Ui();break;case 13:Zt(t);break;case 19:Ye(qe);break;case 10:es(t.type);break;case 22:case 23:Zt(t),Lc(),e!==null&&Ye(Xs);break;case 24:es(Ie)}}function mn(e,t){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var r=i.next;s=r;do{if((s.tag&e)===e){i=void 0;var a=s.create,m=s.inst;i=a(),m.destroy=i}s=s.next}while(s!==r)}}catch(n){xe(t,t.return,n)}}function Os(e,t,s){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var m=i.inst,n=m.destroy;if(n!==void 0){m.destroy=void 0,r=t;var c=s,v=n;try{v()}catch(_){xe(r,c,_)}}}i=i.next}while(i!==a)}}catch(_){xe(t,t.return,_)}}function ym(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Ad(t,s)}catch(i){xe(e,e.return,i)}}}function Sm(e,t,s){s.props=si(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(i){xe(e,t,i)}}function Nr(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof s=="function"?e.refCleanup=s(i):s.current=i}}catch(r){xe(e,t,r)}}function Mt(e,t){var s=e.ref,i=e.refCleanup;if(s!==null)if(typeof i=="function")try{i()}catch(r){xe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(r){xe(e,t,r)}else s.current=null}function xm(e){var t=e.type,s=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break e;case"img":s.src?i.src=s.src:s.srcSet&&(i.srcset=s.srcSet)}}catch(r){xe(e,e.return,r)}}function Ol(e,t,s){try{var i=e.stateNode;t0(i,e.type,s,t),i[rt]=t}catch(r){xe(e,e.return,r)}}function Cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ps(e.type)||e.tag===4}function Ml(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lo(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=sl));else if(i!==4&&(i===27&&Ps(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Lo(e,t,s),e=e.sibling;e!==null;)Lo(e,t,s),e=e.sibling}function Ea(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(i!==4&&(i===27&&Ps(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ea(e,t,s),e=e.sibling;e!==null;)Ea(e,t,s),e=e.sibling}function wm(e){var t=e.stateNode,s=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Xe(t,i,s),t[Ze]=e,t[rt]=s}catch(a){xe(e,e.return,a)}}var Yt=!1,Be=!1,Bl=!1,Sh=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function M_(e,t){if(e=e.containerInfo,Io=Ma,e=hd(e),wc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var m=0,n=-1,c=-1,v=0,_=0,d=e,g=null;t:for(;;){for(var b;d!==s||r!==0&&d.nodeType!==3||(n=m+r),d!==a||i!==0&&d.nodeType!==3||(c=m+i),d.nodeType===3&&(m+=d.nodeValue.length),(b=d.firstChild)!==null;)g=d,d=b;for(;;){if(d===e)break t;if(g===s&&++v===r&&(n=m),g===a&&++_===i&&(c=m),(b=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=b}s=n===-1||c===-1?null:{start:n,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(qo={focusedElem:e,selectionRange:s},Ma=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){switch(t=Ge,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,s=t,r=a.memoizedProps,a=a.memoizedState,i=s.stateNode;try{var C=si(s.type,r,s.elementType===s.type);e=i.getSnapshotBeforeUpdate(C,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(x){xe(s,s.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Go(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Go(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(X(163))}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}}function Em(e,t,s){var i=s.flags;switch(s.tag){case 0:case 11:case 15:fs(e,s),i&4&&mn(5,s);break;case 1:if(fs(e,s),i&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(m){xe(s,s.return,m)}else{var r=si(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){xe(s,s.return,m)}}i&64&&ym(s),i&512&&Nr(s,s.return);break;case 3:if(fs(e,s),i&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Ad(e,t)}catch(m){xe(s,s.return,m)}}break;case 27:t===null&&i&4&&wm(s);case 26:case 5:fs(e,s),t===null&&i&4&&xm(s),i&512&&Nr(s,s.return);break;case 12:fs(e,s);break;case 13:fs(e,s),i&4&&Dm(e,s),i&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=G_.bind(null,s),o0(e,s))));break;case 22:if(i=s.memoizedState!==null||Yt,!i){t=t!==null&&t.memoizedState!==null||Be,r=Yt;var a=Be;Yt=i,(Be=t)&&!a?ds(e,s,(s.subtreeFlags&8772)!==0):fs(e,s),Yt=r,Be=a}break;case 30:break;default:fs(e,s)}}function Am(e){var t=e.alternate;t!==null&&(e.alternate=null,Am(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_c(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,st=!1;function Gt(e,t,s){for(s=s.child;s!==null;)jm(e,t,s),s=s.sibling}function jm(e,t,s){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(sn,s)}catch{}switch(s.tag){case 26:Be||Mt(s,t),Gt(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Be||Mt(s,t);var i=je,r=st;Ps(s.type)&&(je=s.stateNode,st=!1),Gt(e,t,s),Mr(s.stateNode),je=i,st=r;break;case 5:Be||Mt(s,t);case 6:if(i=je,r=st,je=null,Gt(e,t,s),je=i,st=r,je!==null)if(st)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(s.stateNode)}catch(a){xe(s,t,a)}else try{je.removeChild(s.stateNode)}catch(a){xe(s,t,a)}break;case 18:je!==null&&(st?(e=je,Lh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Zr(e)):Lh(je,s.stateNode));break;case 4:i=je,r=st,je=s.stateNode.containerInfo,st=!0,Gt(e,t,s),je=i,st=r;break;case 0:case 11:case 14:case 15:Be||Os(2,s,t),Be||Os(4,s,t),Gt(e,t,s);break;case 1:Be||(Mt(s,t),i=s.stateNode,typeof i.componentWillUnmount=="function"&&Sm(s,t,i)),Gt(e,t,s);break;case 21:Gt(e,t,s);break;case 22:Be=(i=Be)||s.memoizedState!==null,Gt(e,t,s),Be=i;break;default:Gt(e,t,s)}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zr(e)}catch(s){xe(t,t.return,s)}}function B_(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sh),t;default:throw Error(X(435,e.tag))}}function Hl(e,t){var s=B_(e);t.forEach(function(i){var r=K_.bind(null,e,i);s.has(i)||(s.add(i),i.then(r,r))})}function at(e,t){var s=t.deletions;if(s!==null)for(var i=0;i<s.length;i++){var r=s[i],a=e,m=t,n=m;e:for(;n!==null;){switch(n.tag){case 27:if(Ps(n.type)){je=n.stateNode,st=!1;break e}break;case 5:je=n.stateNode,st=!1;break e;case 3:case 4:je=n.stateNode.containerInfo,st=!0;break e}n=n.return}if(je===null)throw Error(X(160));jm(a,m,r),je=null,st=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Tm(t,e),t=t.sibling}var jt=null;function Tm(e,t){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:at(t,e),lt(e),i&4&&(Os(3,e,e.return),mn(3,e),Os(5,e,e.return));break;case 1:at(t,e),lt(e),i&512&&(Be||s===null||Mt(s,s.return)),i&64&&Yt&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?i:s.concat(i))));break;case 26:var r=jt;if(at(t,e),lt(e),i&512&&(Be||s===null||Mt(s,s.return)),i&4){var a=s!==null?s.memoizedState:null;if(i=e.memoizedState,s===null)if(i===null)if(e.stateNode===null){e:{i=e.type,s=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[an]||a[Ze]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),Xe(a,i,s),a[Ze]=e,Ke(a),i=a;break e;case"link":var m=zh("link","href",r).get(i+(s.href||""));if(m){for(var n=0;n<m.length;n++)if(a=m[n],a.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&a.getAttribute("rel")===(s.rel==null?null:s.rel)&&a.getAttribute("title")===(s.title==null?null:s.title)&&a.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(n,1);break t}}a=r.createElement(i),Xe(a,i,s),r.head.appendChild(a);break;case"meta":if(m=zh("meta","content",r).get(i+(s.content||""))){for(n=0;n<m.length;n++)if(a=m[n],a.getAttribute("content")===(s.content==null?null:""+s.content)&&a.getAttribute("name")===(s.name==null?null:s.name)&&a.getAttribute("property")===(s.property==null?null:s.property)&&a.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&a.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(n,1);break t}}a=r.createElement(i),Xe(a,i,s),r.head.appendChild(a);break;default:throw Error(X(468,i))}a[Ze]=e,Ke(a),i=a}e.stateNode=i}else Uh(r,e.type,e.stateNode);else e.stateNode=Hh(r,i,e.memoizedProps);else a!==i?(a===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):a.count--,i===null?Uh(r,e.type,e.stateNode):Hh(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Ol(e,e.memoizedProps,s.memoizedProps)}break;case 27:at(t,e),lt(e),i&512&&(Be||s===null||Mt(s,s.return)),s!==null&&i&4&&Ol(e,e.memoizedProps,s.memoizedProps);break;case 5:if(at(t,e),lt(e),i&512&&(Be||s===null||Mt(s,s.return)),e.flags&32){r=e.stateNode;try{Ii(r,"")}catch(b){xe(e,e.return,b)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Ol(e,r,s!==null?s.memoizedProps:r)),i&1024&&(Bl=!0);break;case 6:if(at(t,e),lt(e),i&4){if(e.stateNode===null)throw Error(X(162));i=e.memoizedProps,s=e.stateNode;try{s.nodeValue=i}catch(b){xe(e,e.return,b)}}break;case 3:if(Zn=null,r=jt,jt=Ra(t.containerInfo),at(t,e),jt=r,lt(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{Zr(t.containerInfo)}catch(b){xe(e,e.return,b)}Bl&&(Bl=!1,km(e));break;case 4:i=jt,jt=Ra(e.stateNode.containerInfo),at(t,e),lt(e),jt=i;break;case 12:at(t,e),lt(e);break;case 13:at(t,e),lt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Qc=zt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hl(e,i)));break;case 22:r=e.memoizedState!==null;var c=s!==null&&s.memoizedState!==null,v=Yt,_=Be;if(Yt=v||r,Be=_||c,at(t,e),Be=_,Yt=v,lt(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(s===null||c||Yt||Be||Gs(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){c=s=t;try{if(a=c.stateNode,r)m=a.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{n=c.stateNode;var d=c.memoizedProps.style,g=d!=null&&d.hasOwnProperty("display")?d.display:null;n.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(b){xe(c,c.return,b)}}}else if(t.tag===6){if(s===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(b){xe(c,c.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(s=i.retryQueue,s!==null&&(i.retryQueue=null,Hl(e,s))));break;case 19:at(t,e),lt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hl(e,i)));break;case 30:break;case 21:break;default:at(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{for(var s,i=e.return;i!==null;){if(Cm(i)){s=i;break}i=i.return}if(s==null)throw Error(X(160));switch(s.tag){case 27:var r=s.stateNode,a=Ml(e);Ea(e,a,r);break;case 5:var m=s.stateNode;s.flags&32&&(Ii(m,""),s.flags&=-33);var n=Ml(e);Ea(e,n,m);break;case 3:case 4:var c=s.stateNode.containerInfo,v=Ml(e);Lo(e,v,c);break;default:throw Error(X(161))}}catch(_){xe(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function km(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;km(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fs(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Em(e,t.alternate,t),t=t.sibling}function Gs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Os(4,t,t.return),Gs(t);break;case 1:Mt(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Sm(t,t.return,s),Gs(t);break;case 27:Mr(t.stateNode);case 26:case 5:Mt(t,t.return),Gs(t);break;case 22:t.memoizedState===null&&Gs(t);break;case 30:Gs(t);break;default:Gs(t)}e=e.sibling}}function ds(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,m=a.flags;switch(a.tag){case 0:case 11:case 15:ds(r,a,s),mn(4,a);break;case 1:if(ds(r,a,s),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(v){xe(i,i.return,v)}if(i=a,r=i.updateQueue,r!==null){var n=i.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)Ed(c[r],n)}catch(v){xe(i,i.return,v)}}s&&m&64&&ym(a),Nr(a,a.return);break;case 27:wm(a);case 26:case 5:ds(r,a,s),s&&i===null&&m&4&&xm(a),Nr(a,a.return);break;case 12:ds(r,a,s);break;case 13:ds(r,a,s),s&&m&4&&Dm(r,a);break;case 22:a.memoizedState===null&&ds(r,a,s),Nr(a,a.return);break;case 30:break;default:ds(r,a,s)}t=t.sibling}}function Yc(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&un(s))}function $c(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&un(e))}function Lt(e,t,s,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nm(e,t,s,i),t=t.sibling}function Nm(e,t,s,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Lt(e,t,s,i),r&2048&&mn(9,t);break;case 1:Lt(e,t,s,i);break;case 3:Lt(e,t,s,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&un(e)));break;case 12:if(r&2048){Lt(e,t,s,i),e=t.stateNode;try{var a=t.memoizedProps,m=a.id,n=a.onPostCommit;typeof n=="function"&&n(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){xe(t,t.return,c)}}else Lt(e,t,s,i);break;case 13:Lt(e,t,s,i);break;case 23:break;case 22:a=t.stateNode,m=t.alternate,t.memoizedState!==null?a._visibility&2?Lt(e,t,s,i):Rr(e,t):a._visibility&2?Lt(e,t,s,i):(a._visibility|=2,vi(e,t,s,i,(t.subtreeFlags&10256)!==0)),r&2048&&Yc(m,t);break;case 24:Lt(e,t,s,i),r&2048&&$c(t.alternate,t);break;default:Lt(e,t,s,i)}}function vi(e,t,s,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,m=t,n=s,c=i,v=m.flags;switch(m.tag){case 0:case 11:case 15:vi(a,m,n,c,r),mn(8,m);break;case 23:break;case 22:var _=m.stateNode;m.memoizedState!==null?_._visibility&2?vi(a,m,n,c,r):Rr(a,m):(_._visibility|=2,vi(a,m,n,c,r)),r&&v&2048&&Yc(m.alternate,m);break;case 24:vi(a,m,n,c,r),r&&v&2048&&$c(m.alternate,m);break;default:vi(a,m,n,c,r)}t=t.sibling}}function Rr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,i=t,r=i.flags;switch(i.tag){case 22:Rr(s,i),r&2048&&Yc(i.alternate,i);break;case 24:Rr(s,i),r&2048&&$c(i.alternate,i);break;default:Rr(s,i)}t=t.sibling}}var yr=8192;function ui(e){if(e.subtreeFlags&yr)for(e=e.child;e!==null;)Rm(e),e=e.sibling}function Rm(e){switch(e.tag){case 26:ui(e),e.flags&yr&&e.memoizedState!==null&&S0(jt,e.memoizedState,e.memoizedProps);break;case 5:ui(e);break;case 3:case 4:var t=jt;jt=Ra(e.stateNode.containerInfo),ui(e),jt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=yr,yr=16777216,ui(e),yr=t):ui(e));break;default:ui(e)}}function Lm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function vr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];Ge=i,Mm(i,e)}Lm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Om(e),e=e.sibling}function Om(e){switch(e.tag){case 0:case 11:case 15:vr(e),e.flags&2048&&Os(9,e,e.return);break;case 3:vr(e);break;case 12:vr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xn(e)):vr(e);break;default:vr(e)}}function Xn(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];Ge=i,Mm(i,e)}Lm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Os(8,t,t.return),Xn(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Xn(t));break;default:Xn(t)}e=e.sibling}}function Mm(e,t){for(;Ge!==null;){var s=Ge;switch(s.tag){case 0:case 11:case 15:Os(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var i=s.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:un(s.memoizedState.cache)}if(i=s.child,i!==null)i.return=s,Ge=i;else e:for(s=e;Ge!==null;){i=Ge;var r=i.sibling,a=i.return;if(Am(i),i===s){Ge=null;break e}if(r!==null){r.return=a,Ge=r;break e}Ge=a}}}var H_={getCacheForType:function(e){var t=Je(Ie),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s}},z_=typeof WeakMap=="function"?WeakMap:Map,be=0,Ce=null,de=null,me=0,_e=0,ot=null,xs=!1,sr=!1,Vc=!1,ns=0,Oe=0,Ms=0,Qs=0,Xc=0,Ct=0,Wi=0,Lr=null,it=null,Oo=!1,Qc=0,Aa=1/0,ja=null,Ds=null,Ve=0,Ts=null,Yi=null,Hi=0,Mo=0,Bo=null,Bm=null,Or=0,Ho=null;function ft(){if(be&2&&me!==0)return me&-me;if(ae.T!==null){var e=qi;return e!==0?e:Jc()}return Yf()}function Hm(){Ct===0&&(Ct=!(me&536870912)||ve?Ff():536870912);var e=wt.current;return e!==null&&(e.flags|=32),Ct}function dt(e,t,s){(e===Ce&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&($i(e,0),Cs(e,me,Ct,!1)),nn(e,s),(!(be&2)||e!==Ce)&&(e===Ce&&(!(be&2)&&(Qs|=s),Oe===4&&Cs(e,me,Ct,!1)),It(e))}function zm(e,t,s){if(be&6)throw Error(X(327));var i=!s&&(t&124)===0&&(t&e.expiredLanes)===0||rn(e,t),r=i?I_(e,t):zl(e,t,!0),a=i;do{if(r===0){sr&&!i&&Cs(e,t,0,!1);break}else{if(s=e.current.alternate,a&&!U_(s)){r=zl(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var n=e;r=Lr;var c=n.current.memoizedState.isDehydrated;if(c&&($i(n,m).flags|=256),m=zl(n,m,!1),m!==2){if(Vc&&!c){n.errorRecoveryDisabledLanes|=a,Qs|=a,r=4;break e}a=it,it=r,a!==null&&(it===null?it=a:it.push.apply(it,a))}r=m}if(a=!1,r!==2)continue}}if(r===1){$i(e,0),Cs(e,t,0,!0);break}e:{switch(i=e,a=r,a){case 0:case 1:throw Error(X(345));case 4:if((t&4194048)!==t)break;case 6:Cs(i,t,Ct,!xs);break e;case 2:it=null;break;case 3:case 5:break;default:throw Error(X(329))}if((t&62914560)===t&&(r=Qc+300-zt(),10<r)){if(Cs(i,t,Ct,!xs),Fa(i,0,!0)!==0)break e;i.timeoutHandle=iv(xh.bind(null,i,s,it,ja,Oo,t,Ct,Qs,Wi,xs,a,2,-0,0),r);break e}xh(i,s,it,ja,Oo,t,Ct,Qs,Wi,xs,a,0,-0,0)}}break}while(!0);It(e)}function xh(e,t,s,i,r,a,m,n,c,v,_,d,g,b){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&($r={stylesheets:null,count:0,unsuspend:y0},Rm(t),d=x0(),d!==null)){e.cancelPendingCommit=d(wh.bind(null,e,t,a,s,i,r,m,n,c,_,1,g,b)),Cs(e,a,m,!v);return}wh(e,t,a,s,i,r,m,n,c)}function U_(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var i=0;i<s.length;i++){var r=s[i],a=r.getSnapshot;r=r.value;try{if(!mt(a(),r))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cs(e,t,s,i){t&=~Xc,t&=~Qs,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-ht(r),m=1<<a;i[a]=-1,r&=~m}s!==0&&Kf(e,s,t)}function Ja(){return be&6?!0:(vn(0),!1)}function Zc(){if(de!==null){if(_e===0)var e=de.return;else e=de,Qt=oi=null,zc(e),Bi=null,Kr=0,e=de;for(;e!==null;)bm(e.alternate,e),e=e.return;de=null}}function $i(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,i0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Zc(),Ce=e,de=s=Jt(e.current,null),me=t,_e=0,ot=null,xs=!1,sr=rn(e,t),Vc=!1,Wi=Ct=Xc=Qs=Ms=Oe=0,it=Lr=null,Oo=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-ht(i),a=1<<r;t|=e[r],i&=~a}return ns=t,Ya(),s}function Um(e,t){he=null,ae.H=ya,t===hn||t===Va?(t=eh(),_e=3):t===Cd?(t=eh(),_e=4):_e=t===dm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ot=t,de===null&&(Oe=1,Ca(e,xt(t,e.current)))}function Pm(){var e=ae.H;return ae.H=ya,e===null?ya:e}function Im(){var e=ae.A;return ae.A=H_,e}function zo(){Oe=4,xs||(me&4194048)!==me&&wt.current!==null||(sr=!0),!(Ms&134217727)&&!(Qs&134217727)||Ce===null||Cs(Ce,me,Ct,!1)}function zl(e,t,s){var i=be;be|=2;var r=Pm(),a=Im();(Ce!==e||me!==t)&&(ja=null,$i(e,t)),t=!1;var m=Oe;e:do try{if(_e!==0&&de!==null){var n=de,c=ot;switch(_e){case 8:Zc(),m=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(t=!0);var v=_e;if(_e=0,ot=null,Di(e,n,c,v),s&&sr){m=0;break e}break;default:v=_e,_e=0,ot=null,Di(e,n,c,v)}}P_(),m=Oe;break}catch(_){Um(e,_)}while(!0);return t&&e.shellSuspendCounter++,Qt=oi=null,be=i,ae.H=r,ae.A=a,de===null&&(Ce=null,me=0,Ya()),m}function P_(){for(;de!==null;)qm(de)}function I_(e,t){var s=be;be|=2;var i=Pm(),r=Im();Ce!==e||me!==t?(ja=null,Aa=zt()+500,$i(e,t)):sr=rn(e,t);e:do try{if(_e!==0&&de!==null){t=de;var a=ot;t:switch(_e){case 1:_e=0,ot=null,Di(e,t,a,1);break;case 2:case 9:if(Ju(a)){_e=0,ot=null,Ch(t);break}t=function(){_e!==2&&_e!==9||Ce!==e||(_e=7),It(e)},a.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:Ju(a)?(_e=0,ot=null,Ch(t)):(_e=0,ot=null,Di(e,t,a,7));break;case 5:var m=null;switch(de.tag){case 26:m=de.memoizedState;case 5:case 27:var n=de;if(!m||lv(m)){_e=0,ot=null;var c=n.sibling;if(c!==null)de=c;else{var v=n.return;v!==null?(de=v,el(v)):de=null}break t}}_e=0,ot=null,Di(e,t,a,5);break;case 6:_e=0,ot=null,Di(e,t,a,6);break;case 8:Zc(),Oe=6;break e;default:throw Error(X(462))}}q_();break}catch(_){Um(e,_)}while(!0);return Qt=oi=null,ae.H=i,ae.A=r,be=s,de!==null?0:(Ce=null,me=0,Ya(),Oe)}function q_(){for(;de!==null&&!up();)qm(de)}function qm(e){var t=_m(e.alternate,e,ns);e.memoizedProps=e.pendingProps,t===null?el(e):de=t}function Ch(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=gh(s,t,t.pendingProps,t.type,void 0,me);break;case 11:t=gh(s,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:zc(t);default:bm(s,t),t=de=bd(t,ns),t=_m(s,t,ns)}e.memoizedProps=e.pendingProps,t===null?el(e):de=t}function Di(e,t,s,i){Qt=oi=null,zc(t),Bi=null,Kr=0;var r=t.return;try{if(N_(e,r,t,s,me)){Oe=1,Ca(e,xt(s,e.current)),de=null;return}}catch(a){if(r!==null)throw de=r,a;Oe=1,Ca(e,xt(s,e.current)),de=null;return}t.flags&32768?(ve||i===1?e=!0:sr||me&536870912?e=!1:(xs=e=!0,(i===2||i===9||i===3||i===6)&&(i=wt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Fm(t,e)):el(t)}function el(e){var t=e;do{if(t.flags&32768){Fm(t,xs);return}e=t.return;var s=L_(t.alternate,t,ns);if(s!==null){de=s;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Oe===0&&(Oe=5)}function Fm(e,t){do{var s=O_(e.alternate,e);if(s!==null){s.flags&=32767,de=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=s}while(e!==null);Oe=6,de=null}function wh(e,t,s,i,r,a,m,n,c){e.cancelPendingCommit=null;do tl();while(Ve!==0);if(be&6)throw Error(X(327));if(t!==null){if(t===e.current)throw Error(X(177));if(a=t.lanes|t.childLanes,a|=Ec,yp(e,s,a,m,n,c),e===Ce&&(de=Ce=null,me=0),Yi=t,Ts=e,Hi=s,Mo=a,Bo=r,Bm=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,W_(ua,function(){return $m(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=ae.T,ae.T=null,r=ge.p,ge.p=2,m=be,be|=4;try{M_(e,t,s)}finally{be=m,ge.p=r,ae.T=i}}Ve=1,Gm(),Km(),Wm()}}function Gm(){if(Ve===1){Ve=0;var e=Ts,t=Yi,s=(t.flags&13878)!==0;if(t.subtreeFlags&13878||s){s=ae.T,ae.T=null;var i=ge.p;ge.p=2;var r=be;be|=4;try{Tm(t,e);var a=qo,m=hd(e.containerInfo),n=a.focusedElem,c=a.selectionRange;if(m!==n&&n&&n.ownerDocument&&ud(n.ownerDocument.documentElement,n)){if(c!==null&&wc(n)){var v=c.start,_=c.end;if(_===void 0&&(_=v),"selectionStart"in n)n.selectionStart=v,n.selectionEnd=Math.min(_,n.value.length);else{var d=n.ownerDocument||document,g=d&&d.defaultView||window;if(g.getSelection){var b=g.getSelection(),C=n.textContent.length,x=Math.min(c.start,C),u=c.end===void 0?x:Math.min(c.end,C);!b.extend&&x>u&&(m=u,u=x,x=m);var o=Ku(n,x),l=Ku(n,u);if(o&&l&&(b.rangeCount!==1||b.anchorNode!==o.node||b.anchorOffset!==o.offset||b.focusNode!==l.node||b.focusOffset!==l.offset)){var f=d.createRange();f.setStart(o.node,o.offset),b.removeAllRanges(),x>u?(b.addRange(f),b.extend(l.node,l.offset)):(f.setEnd(l.node,l.offset),b.addRange(f))}}}}for(d=[],b=n;b=b.parentNode;)b.nodeType===1&&d.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<d.length;n++){var p=d[n];p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}Ma=!!Io,qo=Io=null}finally{be=r,ge.p=i,ae.T=s}}e.current=t,Ve=2}}function Km(){if(Ve===2){Ve=0;var e=Ts,t=Yi,s=(t.flags&8772)!==0;if(t.subtreeFlags&8772||s){s=ae.T,ae.T=null;var i=ge.p;ge.p=2;var r=be;be|=4;try{Em(e,t.alternate,t)}finally{be=r,ge.p=i,ae.T=s}}Ve=3}}function Wm(){if(Ve===4||Ve===3){Ve=0,hp();var e=Ts,t=Yi,s=Hi,i=Bm;t.subtreeFlags&10256||t.flags&10256?Ve=5:(Ve=0,Yi=Ts=null,Ym(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ds=null),pc(s),t=t.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(sn,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=ae.T,r=ge.p,ge.p=2,ae.T=null;try{for(var a=e.onRecoverableError,m=0;m<i.length;m++){var n=i[m];a(n.value,{componentStack:n.stack})}}finally{ae.T=t,ge.p=r}}Hi&3&&tl(),It(e),r=e.pendingLanes,s&4194090&&r&42?e===Ho?Or++:(Or=0,Ho=e):Or=0,vn(0)}}function Ym(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,un(t)))}function tl(e){return Gm(),Km(),Wm(),$m()}function $m(){if(Ve!==5)return!1;var e=Ts,t=Mo;Mo=0;var s=pc(Hi),i=ae.T,r=ge.p;try{ge.p=32>s?32:s,ae.T=null,s=Bo,Bo=null;var a=Ts,m=Hi;if(Ve=0,Yi=Ts=null,Hi=0,be&6)throw Error(X(331));var n=be;if(be|=4,Om(a.current),Nm(a,a.current,m,s),be=n,vn(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(sn,a)}catch{}return!0}finally{ge.p=r,ae.T=i,Ym(e,t)}}function Eh(e,t,s){t=xt(s,t),t=ko(e.stateNode,t,2),e=js(e,t,2),e!==null&&(nn(e,2),It(e))}function xe(e,t,s){if(e.tag===3)Eh(e,e,s);else for(;t!==null;){if(t.tag===3){Eh(t,e,s);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ds===null||!Ds.has(i))){e=xt(s,e),s=hm(2),i=js(t,s,2),i!==null&&(fm(s,i,t,e),nn(i,2),It(i));break}}t=t.return}}function Ul(e,t,s){var i=e.pingCache;if(i===null){i=e.pingCache=new z_;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(s)||(Vc=!0,r.add(s),e=F_.bind(null,e,t,s),t.then(e,e))}function F_(e,t,s){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ce===e&&(me&s)===s&&(Oe===4||Oe===3&&(me&62914560)===me&&300>zt()-Qc?!(be&2)&&$i(e,0):Xc|=s,Wi===me&&(Wi=0)),It(e)}function Vm(e,t){t===0&&(t=Gf()),e=tr(e,t),e!==null&&(nn(e,t),It(e))}function G_(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Vm(e,s)}function K_(e,t){var s=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(s=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(X(314))}i!==null&&i.delete(t),Vm(e,s)}function W_(e,t){return vc(e,t)}var Da=null,gi=null,Uo=!1,Ta=!1,Pl=!1,Zs=0;function It(e){e!==gi&&e.next===null&&(gi===null?Da=gi=e:gi=gi.next=e),Ta=!0,Uo||(Uo=!0,$_())}function vn(e,t){if(!Pl&&Ta){Pl=!0;do for(var s=!1,i=Da;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var m=i.suspendedLanes,n=i.pingedLanes;a=(1<<31-ht(42|e)+1)-1,a&=r&~(m&~n),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(s=!0,Ah(i,a))}else a=me,a=Fa(i,i===Ce?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||rn(i,a)||(s=!0,Ah(i,a));i=i.next}while(s);Pl=!1}}function Y_(){Xm()}function Xm(){Ta=Uo=!1;var e=0;Zs!==0&&(s0()&&(e=Zs),Zs=0);for(var t=zt(),s=null,i=Da;i!==null;){var r=i.next,a=Qm(i,t);a===0?(i.next=null,s===null?Da=r:s.next=r,r===null&&(gi=s)):(s=i,(e!==0||a&3)&&(Ta=!0)),i=r}vn(e)}function Qm(e,t){for(var s=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var m=31-ht(a),n=1<<m,c=r[m];c===-1?(!(n&s)||n&i)&&(r[m]=bp(n,t)):c<=t&&(e.expiredLanes|=n),a&=~n}if(t=Ce,s=me,s=Fa(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,s===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&fl(i),e.callbackNode=null,e.callbackPriority=0;if(!(s&3)||rn(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(i!==null&&fl(i),pc(s)){case 2:case 8:s=If;break;case 32:s=ua;break;case 268435456:s=qf;break;default:s=ua}return i=Zm.bind(null,e),s=vc(s,i),e.callbackPriority=t,e.callbackNode=s,t}return i!==null&&i!==null&&fl(i),e.callbackPriority=2,e.callbackNode=null,2}function Zm(e,t){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(tl()&&e.callbackNode!==s)return null;var i=me;return i=Fa(e,e===Ce?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(zm(e,i,t),Qm(e,zt()),e.callbackNode!=null&&e.callbackNode===s?Zm.bind(null,e):null)}function Ah(e,t){if(tl())return null;zm(e,t,!0)}function $_(){r0(function(){be&6?vc(Pf,Y_):Xm()})}function Jc(){return Zs===0&&(Zs=Ff()),Zs}function jh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qn(""+e)}function Dh(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function V_(e,t,s,i,r){if(t==="submit"&&s&&s.stateNode===r){var a=jh((r[rt]||null).action),m=i.submitter;m&&(t=(t=m[rt]||null)?jh(t.formAction):m.getAttribute("formAction"),t!==null&&(a=t,m=null));var n=new Ga("action","action",null,i,r);e.push({event:n,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Zs!==0){var c=m?Dh(r,m):new FormData(r);Do(s,{pending:!0,data:c,method:r.method,action:a},null,c)}}else typeof a=="function"&&(n.preventDefault(),c=m?Dh(r,m):new FormData(r),Do(s,{pending:!0,data:c,method:r.method,action:a},a,c))},currentTarget:r}]})}}for(var Il=0;Il<go.length;Il++){var ql=go[Il],X_=ql.toLowerCase(),Q_=ql[0].toUpperCase()+ql.slice(1);Rt(X_,"on"+Q_)}Rt(dd,"onAnimationEnd");Rt(md,"onAnimationIteration");Rt(vd,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(m_,"onTransitionRun");Rt(v_,"onTransitionStart");Rt(g_,"onTransitionCancel");Rt(gd,"onTransitionEnd");Pi("onMouseEnter",["mouseout","mouseover"]);Pi("onMouseLeave",["mouseout","mouseover"]);Pi("onPointerEnter",["pointerout","pointerover"]);Pi("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wr));function Jm(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var m=i.length-1;0<=m;m--){var n=i[m],c=n.instance,v=n.currentTarget;if(n=n.listener,c!==a&&r.isPropagationStopped())break e;a=n,r.currentTarget=v;try{a(r)}catch(_){xa(_)}r.currentTarget=null,a=c}else for(m=0;m<i.length;m++){if(n=i[m],c=n.instance,v=n.currentTarget,n=n.listener,c!==a&&r.isPropagationStopped())break e;a=n,r.currentTarget=v;try{a(r)}catch(_){xa(_)}r.currentTarget=null,a=c}}}}function fe(e,t){var s=t[oo];s===void 0&&(s=t[oo]=new Set);var i=e+"__bubble";s.has(i)||(ev(t,e,2,!1),s.add(i))}function Fl(e,t,s){var i=0;t&&(i|=4),ev(s,e,i,t)}var Ln="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[Ln]){e[Ln]=!0,$f.forEach(function(s){s!=="selectionchange"&&(Z_.has(s)||Fl(s,!1,e),Fl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ln]||(t[Ln]=!0,Fl("selectionchange",!1,t))}}function ev(e,t,s,i){switch(fv(t)){case 2:var r=E0;break;case 8:r=A0;break;default:r=ru}s=r.bind(null,t,s,e),r=void 0,!fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):r!==void 0?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function Gl(e,t,s,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var n=i.stateNode.containerInfo;if(n===r)break;if(m===4)for(m=i.return;m!==null;){var c=m.tag;if((c===3||c===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;n!==null;){if(m=bi(n),m===null)return;if(c=m.tag,c===5||c===6||c===26||c===27){i=a=m;continue e}n=n.parentNode}}i=i.return}sd(function(){var v=a,_=yc(s),d=[];e:{var g=pd.get(e);if(g!==void 0){var b=Ga,C=e;switch(e){case"keypress":if(Gn(s)===0)break e;case"keydown":case"keyup":b=Wp;break;case"focusin":C="focus",b=yl;break;case"focusout":C="blur",b=yl;break;case"beforeblur":case"afterblur":b=yl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Vp;break;case dd:case md:case vd:b=Hp;break;case gd:b=Qp;break;case"scroll":case"scrollend":b=Rp;break;case"wheel":b=Jp;break;case"copy":case"cut":case"paste":b=Up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Hu;break;case"toggle":case"beforetoggle":b=t_}var x=(t&4)!==0,u=!x&&(e==="scroll"||e==="scrollend"),o=x?g!==null?g+"Capture":null:g;x=[];for(var l=v,f;l!==null;){var p=l;if(f=p.stateNode,p=p.tag,p!==5&&p!==26&&p!==27||f===null||o===null||(p=Pr(l,o),p!=null&&x.push(Yr(l,p,f))),u)break;l=l.return}0<x.length&&(g=new b(g,C,null,s,_),d.push({event:g,listeners:x}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&s!==ho&&(C=s.relatedTarget||s.fromElement)&&(bi(C)||C[Ji]))break e;if((b||g)&&(g=_.window===_?_:(g=_.ownerDocument)?g.defaultView||g.parentWindow:window,b?(C=s.relatedTarget||s.toElement,b=v,C=C?bi(C):null,C!==null&&(u=tn(C),x=C.tag,C!==u||x!==5&&x!==27&&x!==6)&&(C=null)):(b=null,C=v),b!==C)){if(x=Mu,p="onMouseLeave",o="onMouseEnter",l="mouse",(e==="pointerout"||e==="pointerover")&&(x=Hu,p="onPointerLeave",o="onPointerEnter",l="pointer"),u=b==null?g:br(b),f=C==null?g:br(C),g=new x(p,l+"leave",b,s,_),g.target=u,g.relatedTarget=f,p=null,bi(_)===v&&(x=new x(o,l+"enter",C,s,_),x.target=f,x.relatedTarget=u,p=x),u=p,b&&C)t:{for(x=b,o=C,l=0,f=x;f;f=hi(f))l++;for(f=0,p=o;p;p=hi(p))f++;for(;0<l-f;)x=hi(x),l--;for(;0<f-l;)o=hi(o),f--;for(;l--;){if(x===o||o!==null&&x===o.alternate)break t;x=hi(x),o=hi(o)}x=null}else x=null;b!==null&&Th(d,g,b,x,!1),C!==null&&u!==null&&Th(d,u,C,x,!0)}}e:{if(g=v?br(v):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var y=Iu;else if(Pu(g))if(od)y=h_;else{y=c_;var w=o_}else b=g.nodeName,!b||b.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?v&&bc(v.elementType)&&(y=Iu):y=u_;if(y&&(y=y(e,v))){ld(d,y,s,_);break e}w&&w(e,g,v),e==="focusout"&&v&&g.type==="number"&&v.memoizedProps.value!=null&&uo(g,"number",g.value)}switch(w=v?br(v):window,e){case"focusin":(Pu(w)||w.contentEditable==="true")&&(xi=w,mo=v,wr=null);break;case"focusout":wr=mo=xi=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,Wu(d,s,_);break;case"selectionchange":if(d_)break;case"keydown":case"keyup":Wu(d,s,_)}var E;if(Cc)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Si?nd(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(rd&&s.locale!=="ko"&&(Si||S!=="onCompositionStart"?S==="onCompositionEnd"&&Si&&(E=id()):(Ss=_,Sc="value"in Ss?Ss.value:Ss.textContent,Si=!0)),w=ka(v,S),0<w.length&&(S=new Bu(S,e,null,s,_),d.push({event:S,listeners:w}),E?S.data=E:(E=ad(s),E!==null&&(S.data=E)))),(E=i_?r_(e,s):n_(e,s))&&(S=ka(v,"onBeforeInput"),0<S.length&&(w=new Bu("onBeforeInput","beforeinput",null,s,_),d.push({event:w,listeners:S}),w.data=E)),V_(d,e,v,s,_)}Jm(d,t)})}function Yr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ka(e,t){for(var s=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=Pr(e,s),r!=null&&i.unshift(Yr(e,r,a)),r=Pr(e,t),r!=null&&i.push(Yr(e,r,a))),e.tag===3)return i;e=e.return}return[]}function hi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Th(e,t,s,i,r){for(var a=t._reactName,m=[];s!==null&&s!==i;){var n=s,c=n.alternate,v=n.stateNode;if(n=n.tag,c!==null&&c===i)break;n!==5&&n!==26&&n!==27||v===null||(c=v,r?(v=Pr(s,a),v!=null&&m.unshift(Yr(s,v,c))):r||(v=Pr(s,a),v!=null&&m.push(Yr(s,v,c)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var J_=/\r\n?/g,e0=/\u0000|\uFFFD/g;function kh(e){return(typeof e=="string"?e:""+e).replace(J_,`
`).replace(e0,"")}function tv(e,t){return t=kh(t),kh(e)===t}function sl(){}function ye(e,t,s,i,r,a){switch(s){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ii(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ii(e,""+i);break;case"className":An(e,"class",i);break;case"tabIndex":An(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,s,i);break;case"style":td(e,i,a);break;case"data":if(t!=="object"){An(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=qn(""+i),e.setAttribute(s,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(s==="formAction"?(t!=="input"&&ye(e,t,"name",r.name,r,null),ye(e,t,"formEncType",r.formEncType,r,null),ye(e,t,"formMethod",r.formMethod,r,null),ye(e,t,"formTarget",r.formTarget,r,null)):(ye(e,t,"encType",r.encType,r,null),ye(e,t,"method",r.method,r,null),ye(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=qn(""+i),e.setAttribute(s,i);break;case"onClick":i!=null&&(e.onclick=sl);break;case"onScroll":i!=null&&fe("scroll",e);break;case"onScrollEnd":i!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(X(61));if(s=i.__html,s!=null){if(r.children!=null)throw Error(X(60));e.innerHTML=s}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}s=qn(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""+i):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":i===!0?e.setAttribute(s,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,i):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(s,i):e.removeAttribute(s);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(s):e.setAttribute(s,i);break;case"popover":fe("beforetoggle",e),fe("toggle",e),In(e,"popover",i);break;case"xlinkActuate":qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":qt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":qt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":qt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":qt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":In(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=kp.get(s)||s,In(e,s,i))}}function Po(e,t,s,i,r,a){switch(s){case"style":td(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(X(61));if(s=i.__html,s!=null){if(r.children!=null)throw Error(X(60));e.innerHTML=s}}break;case"children":typeof i=="string"?Ii(e,i):(typeof i=="number"||typeof i=="bigint")&&Ii(e,""+i);break;case"onScroll":i!=null&&fe("scroll",e);break;case"onScrollEnd":i!=null&&fe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=sl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vf.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(r=s.endsWith("Capture"),t=s.slice(2,r?s.length-7:void 0),a=e[rt]||null,a=a!=null?a[s]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,i,r);break e}s in e?e[s]=i:i===!0?e.setAttribute(s,""):In(e,s,i)}}}function Xe(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var i=!1,r=!1,a;for(a in s)if(s.hasOwnProperty(a)){var m=s[a];if(m!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:ye(e,t,a,m,s,null)}}r&&ye(e,t,"srcSet",s.srcSet,s,null),i&&ye(e,t,"src",s.src,s,null);return;case"input":fe("invalid",e);var n=a=m=r=null,c=null,v=null;for(i in s)if(s.hasOwnProperty(i)){var _=s[i];if(_!=null)switch(i){case"name":r=_;break;case"type":m=_;break;case"checked":c=_;break;case"defaultChecked":v=_;break;case"value":a=_;break;case"defaultValue":n=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(X(137,t));break;default:ye(e,t,i,_,s,null)}}Zf(e,a,n,c,v,m,r,!1),ha(e);return;case"select":fe("invalid",e),i=m=a=null;for(r in s)if(s.hasOwnProperty(r)&&(n=s[r],n!=null))switch(r){case"value":a=n;break;case"defaultValue":m=n;break;case"multiple":i=n;default:ye(e,t,r,n,s,null)}t=a,s=m,e.multiple=!!i,t!=null?Ni(e,!!i,t,!1):s!=null&&Ni(e,!!i,s,!0);return;case"textarea":fe("invalid",e),a=r=i=null;for(m in s)if(s.hasOwnProperty(m)&&(n=s[m],n!=null))switch(m){case"value":i=n;break;case"defaultValue":r=n;break;case"children":a=n;break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(X(91));break;default:ye(e,t,m,n,s,null)}ed(e,i,r,a),ha(e);return;case"option":for(c in s)if(s.hasOwnProperty(c)&&(i=s[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ye(e,t,c,i,s,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(i=0;i<Wr.length;i++)fe(Wr[i],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(v in s)if(s.hasOwnProperty(v)&&(i=s[v],i!=null))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:ye(e,t,v,i,s,null)}return;default:if(bc(t)){for(_ in s)s.hasOwnProperty(_)&&(i=s[_],i!==void 0&&Po(e,t,_,i,s,void 0));return}}for(n in s)s.hasOwnProperty(n)&&(i=s[n],i!=null&&ye(e,t,n,i,s,null))}function t0(e,t,s,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,m=null,n=null,c=null,v=null,_=null;for(b in s){var d=s[b];if(s.hasOwnProperty(b)&&d!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":c=d;default:i.hasOwnProperty(b)||ye(e,t,b,null,i,d)}}for(var g in i){var b=i[g];if(d=s[g],i.hasOwnProperty(g)&&(b!=null||d!=null))switch(g){case"type":a=b;break;case"name":r=b;break;case"checked":v=b;break;case"defaultChecked":_=b;break;case"value":m=b;break;case"defaultValue":n=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(X(137,t));break;default:b!==d&&ye(e,t,g,b,i,d)}}co(e,m,n,c,v,_,a,r);return;case"select":b=m=n=g=null;for(a in s)if(c=s[a],s.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":b=c;default:i.hasOwnProperty(a)||ye(e,t,a,null,i,c)}for(r in i)if(a=i[r],c=s[r],i.hasOwnProperty(r)&&(a!=null||c!=null))switch(r){case"value":g=a;break;case"defaultValue":n=a;break;case"multiple":m=a;default:a!==c&&ye(e,t,r,a,i,c)}t=n,s=m,i=b,g!=null?Ni(e,!!s,g,!1):!!i!=!!s&&(t!=null?Ni(e,!!s,t,!0):Ni(e,!!s,s?[]:"",!1));return;case"textarea":b=g=null;for(n in s)if(r=s[n],s.hasOwnProperty(n)&&r!=null&&!i.hasOwnProperty(n))switch(n){case"value":break;case"children":break;default:ye(e,t,n,null,i,r)}for(m in i)if(r=i[m],a=s[m],i.hasOwnProperty(m)&&(r!=null||a!=null))switch(m){case"value":g=r;break;case"defaultValue":b=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(X(91));break;default:r!==a&&ye(e,t,m,r,i,a)}Jf(e,g,b);return;case"option":for(var C in s)if(g=s[C],s.hasOwnProperty(C)&&g!=null&&!i.hasOwnProperty(C))switch(C){case"selected":e.selected=!1;break;default:ye(e,t,C,null,i,g)}for(c in i)if(g=i[c],b=s[c],i.hasOwnProperty(c)&&g!==b&&(g!=null||b!=null))switch(c){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ye(e,t,c,g,i,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in s)g=s[x],s.hasOwnProperty(x)&&g!=null&&!i.hasOwnProperty(x)&&ye(e,t,x,null,i,g);for(v in i)if(g=i[v],b=s[v],i.hasOwnProperty(v)&&g!==b&&(g!=null||b!=null))switch(v){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(X(137,t));break;default:ye(e,t,v,g,i,b)}return;default:if(bc(t)){for(var u in s)g=s[u],s.hasOwnProperty(u)&&g!==void 0&&!i.hasOwnProperty(u)&&Po(e,t,u,void 0,i,g);for(_ in i)g=i[_],b=s[_],!i.hasOwnProperty(_)||g===b||g===void 0&&b===void 0||Po(e,t,_,g,i,b);return}}for(var o in s)g=s[o],s.hasOwnProperty(o)&&g!=null&&!i.hasOwnProperty(o)&&ye(e,t,o,null,i,g);for(d in i)g=i[d],b=s[d],!i.hasOwnProperty(d)||g===b||g==null&&b==null||ye(e,t,d,g,i,b)}var Io=null,qo=null;function Na(e){return e.nodeType===9?e:e.ownerDocument}function Nh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=null;function s0(){var e=window.event;return e&&e.type==="popstate"?e===Kl?!1:(Kl=e,!0):(Kl=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,i0=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,r0=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(e){return Rh.resolve(null).then(e).catch(n0)}:iv;function n0(e){setTimeout(function(){throw e})}function Ps(e){return e==="head"}function Lh(e,t){var s=t,i=0,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(0<i&&8>i){s=i;var m=e.ownerDocument;if(s&1&&Mr(m.documentElement),s&2&&Mr(m.body),s&4)for(s=m.head,Mr(s),m=s.firstChild;m;){var n=m.nextSibling,c=m.nodeName;m[an]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=n}}if(r===0){e.removeChild(a),Zr(t);return}r--}else s==="$"||s==="$?"||s==="$!"?r++:i=s.charCodeAt(0)-48;else i=0;s=a}while(s);Zr(t)}function Go(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Go(s),_c(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function a0(e,t,s,i){for(;e.nodeType===1;){var r=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[an])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function l0(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kt(e.nextSibling),e===null))return null;return e}function Ko(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function o0(e,t){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")t();else{var i=function(){t(),s.removeEventListener("DOMContentLoaded",i)};s.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Wo=null;function Oh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}function rv(e,t,s){switch(t=Na(s),e){case"html":if(e=t.documentElement,!e)throw Error(X(452));return e;case"head":if(e=t.head,!e)throw Error(X(453));return e;case"body":if(e=t.body,!e)throw Error(X(454));return e;default:throw Error(X(451))}}function Mr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_c(e)}var Et=new Map,Mh=new Set;function Ra(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=ge.d;ge.d={f:c0,r:u0,D:h0,C:f0,L:d0,m:m0,X:g0,S:v0,M:p0};function c0(){var e=os.f(),t=Ja();return e||t}function u0(e){var t=er(e);t!==null&&t.tag===5&&t.type==="form"?Qd(t):os.r(e)}var ir=typeof document>"u"?null:document;function nv(e,t,s){var i=ir;if(i&&typeof t=="string"&&t){var r=St(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof s=="string"&&(r+='[crossorigin="'+s+'"]'),Mh.has(r)||(Mh.add(r),e={rel:e,crossOrigin:s,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),Xe(t,"link",e),Ke(t),i.head.appendChild(t)))}}function h0(e){os.D(e),nv("dns-prefetch",e,null)}function f0(e,t){os.C(e,t),nv("preconnect",e,t)}function d0(e,t,s){os.L(e,t,s);var i=ir;if(i&&e&&t){var r='link[rel="preload"][as="'+St(t)+'"]';t==="image"&&s&&s.imageSrcSet?(r+='[imagesrcset="'+St(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(r+='[imagesizes="'+St(s.imageSizes)+'"]')):r+='[href="'+St(e)+'"]';var a=r;switch(t){case"style":a=Vi(e);break;case"script":a=rr(e)}Et.has(a)||(e=Ae({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Et.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(gn(a))||t==="script"&&i.querySelector(pn(a))||(t=i.createElement("link"),Xe(t,"link",e),Ke(t),i.head.appendChild(t)))}}function m0(e,t){os.m(e,t);var s=ir;if(s&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+St(i)+'"][href="'+St(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=rr(e)}if(!Et.has(a)&&(e=Ae({rel:"modulepreload",href:e},t),Et.set(a,e),s.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(pn(a)))return}i=s.createElement("link"),Xe(i,"link",e),Ke(i),s.head.appendChild(i)}}}function v0(e,t,s){os.S(e,t,s);var i=ir;if(i&&e){var r=ki(i).hoistableStyles,a=Vi(e);t=t||"default";var m=r.get(a);if(!m){var n={loading:0,preload:null};if(m=i.querySelector(gn(a)))n.loading=5;else{e=Ae({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Et.get(a))&&tu(e,s);var c=m=i.createElement("link");Ke(c),Xe(c,"link",e),c._p=new Promise(function(v,_){c.onload=v,c.onerror=_}),c.addEventListener("load",function(){n.loading|=1}),c.addEventListener("error",function(){n.loading|=2}),n.loading|=4,Qn(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:n},r.set(a,m)}}}function g0(e,t){os.X(e,t);var s=ir;if(s&&e){var i=ki(s).hoistableScripts,r=rr(e),a=i.get(r);a||(a=s.querySelector(pn(r)),a||(e=Ae({src:e,async:!0},t),(t=Et.get(r))&&su(e,t),a=s.createElement("script"),Ke(a),Xe(a,"link",e),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function p0(e,t){os.M(e,t);var s=ir;if(s&&e){var i=ki(s).hoistableScripts,r=rr(e),a=i.get(r);a||(a=s.querySelector(pn(r)),a||(e=Ae({src:e,async:!0,type:"module"},t),(t=Et.get(r))&&su(e,t),a=s.createElement("script"),Ke(a),Xe(a,"link",e),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function Bh(e,t,s,i){var r=(r=Es.current)?Ra(r):null;if(!r)throw Error(X(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Vi(s.href),s=ki(r).hoistableStyles,i=s.get(t),i||(i={type:"style",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Vi(s.href);var a=ki(r).hoistableStyles,m=a.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,m),(a=r.querySelector(gn(e)))&&!a._p&&(m.instance=a,m.state.loading=5),Et.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Et.set(e,s),a||_0(r,e,s,m.state))),t&&i===null)throw Error(X(528,""));return m}if(t&&i!==null)throw Error(X(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=rr(s),s=ki(r).hoistableScripts,i=s.get(t),i||(i={type:"script",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,e))}}function Vi(e){return'href="'+St(e)+'"'}function gn(e){return'link[rel="stylesheet"]['+e+"]"}function av(e){return Ae({},e,{"data-precedence":e.precedence,precedence:null})}function _0(e,t,s,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Xe(t,"link",s),Ke(t),e.head.appendChild(t))}function rr(e){return'[src="'+St(e)+'"]'}function pn(e){return"script[async]"+e}function Hh(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+St(s.href)+'"]');if(i)return t.instance=i,Ke(i),i;var r=Ae({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ke(i),Xe(i,"style",r),Qn(i,s.precedence,e),t.instance=i;case"stylesheet":r=Vi(s.href);var a=e.querySelector(gn(r));if(a)return t.state.loading|=4,t.instance=a,Ke(a),a;i=av(s),(r=Et.get(r))&&tu(i,r),a=(e.ownerDocument||e).createElement("link"),Ke(a);var m=a;return m._p=new Promise(function(n,c){m.onload=n,m.onerror=c}),Xe(a,"link",i),t.state.loading|=4,Qn(a,s.precedence,e),t.instance=a;case"script":return a=rr(s.src),(r=e.querySelector(pn(a)))?(t.instance=r,Ke(r),r):(i=s,(r=Et.get(a))&&(i=Ae({},s),su(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ke(r),Xe(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(X(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Qn(i,s.precedence,e));return t.instance}function Qn(e,t,s){for(var i=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,m=0;m<i.length;m++){var n=i[m];if(n.dataset.precedence===t)a=n;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zn=null;function zh(e,t,s){if(Zn===null){var i=new Map,r=Zn=new Map;r.set(s,i)}else r=Zn,i=r.get(s),i||(i=new Map,r.set(s,i));if(i.has(e))return i;for(i.set(e,null),s=s.getElementsByTagName(e),r=0;r<s.length;r++){var a=s[r];if(!(a[an]||a[Ze]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var m=a.getAttribute(t)||"";m=e+m;var n=i.get(m);n?n.push(a):i.set(m,[a])}}return i}function Uh(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function b0(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var $r=null;function y0(){}function S0(e,t,s){if($r===null)throw Error(X(475));var i=$r;if(t.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Vi(s.href),a=e.querySelector(gn(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=La.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,Ke(a);return}a=e.ownerDocument||e,s=av(s),(r=Et.get(r))&&tu(s,r),a=a.createElement("link"),Ke(a);var m=a;m._p=new Promise(function(n,c){m.onload=n,m.onerror=c}),Xe(a,"link",s),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=La.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function x0(){if($r===null)throw Error(X(475));var e=$r;return e.stylesheets&&e.count===0&&Yo(e,e.stylesheets),0<e.count?function(t){var s=setTimeout(function(){if(e.stylesheets&&Yo(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}function La(){if(this.count--,this.count===0){if(this.stylesheets)Yo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oa=null;function Yo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oa=new Map,t.forEach(C0,e),Oa=null,La.call(e))}function C0(e,t){if(!(t.state.loading&4)){var s=Oa.get(e);if(s)var i=s.get(null);else{s=new Map,Oa.set(e,s);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var m=r[a];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),i=m)}i&&s.set(null,i)}r=t.instance,m=r.getAttribute("data-precedence"),a=s.get(m)||i,a===i&&s.set(null,r),s.set(m,r),this.count++,i=La.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Vr={$$typeof:$t,Provider:null,Consumer:null,_currentValue:Ws,_currentValue2:Ws,_threadCount:0};function w0(e,t,s,i,r,a,m,n){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.hiddenUpdates=dl(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=n,this.incompleteTransitions=new Map}function ov(e,t,s,i,r,a,m,n,c,v,_,d){return e=new w0(e,t,s,m,n,c,v,d),t=1,a===!0&&(t|=24),a=ct(3,null,null,t),e.current=a,a.stateNode=e,t=kc(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:s,cache:t},Rc(a),e}function cv(e){return e?(e=Ei,e):Ei}function uv(e,t,s,i,r,a){r=cv(r),i.context===null?i.context=r:i.pendingContext=r,i=As(t),i.payload={element:s},a=a===void 0?null:a,a!==null&&(i.callback=a),s=js(e,i,t),s!==null&&(dt(s,e,t),jr(s,e,t))}function Ph(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function iu(e,t){Ph(e,t),(e=e.alternate)&&Ph(e,t)}function hv(e){if(e.tag===13){var t=tr(e,67108864);t!==null&&dt(t,e,67108864),iu(e,67108864)}}var Ma=!0;function E0(e,t,s,i){var r=ae.T;ae.T=null;var a=ge.p;try{ge.p=2,ru(e,t,s,i)}finally{ge.p=a,ae.T=r}}function A0(e,t,s,i){var r=ae.T;ae.T=null;var a=ge.p;try{ge.p=8,ru(e,t,s,i)}finally{ge.p=a,ae.T=r}}function ru(e,t,s,i){if(Ma){var r=$o(i);if(r===null)Gl(e,t,i,Ba,s),Ih(e,i);else if(D0(r,e,t,s,i))i.stopPropagation();else if(Ih(e,i),t&4&&-1<j0.indexOf(e)){for(;r!==null;){var a=er(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var m=qs(a.pendingLanes);if(m!==0){var n=a;for(n.pendingLanes|=2,n.entangledLanes|=2;m;){var c=1<<31-ht(m);n.entanglements[1]|=c,m&=~c}It(a),!(be&6)&&(Aa=zt()+500,vn(0))}}break;case 13:n=tr(a,2),n!==null&&dt(n,a,2),Ja(),iu(a,2)}if(a=$o(i),a===null&&Gl(e,t,i,Ba,s),a===r)break;r=a}r!==null&&i.stopPropagation()}else Gl(e,t,i,null,s)}}function $o(e){return e=yc(e),nu(e)}var Ba=null;function nu(e){if(Ba=null,e=bi(e),e!==null){var t=tn(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=Bf(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ba=e,null}function fv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fp()){case Pf:return 2;case If:return 8;case ua:case dp:return 32;case qf:return 268435456;default:return 32}default:return 32}}var Vo=!1,ks=null,Ns=null,Rs=null,Xr=new Map,Qr=new Map,bs=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(t.pointerId)}}function gr(e,t,s,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=er(t),t!==null&&hv(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function D0(e,t,s,i,r){switch(t){case"focusin":return ks=gr(ks,e,t,s,i,r),!0;case"dragenter":return Ns=gr(Ns,e,t,s,i,r),!0;case"mouseover":return Rs=gr(Rs,e,t,s,i,r),!0;case"pointerover":var a=r.pointerId;return Xr.set(a,gr(Xr.get(a)||null,e,t,s,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Qr.set(a,gr(Qr.get(a)||null,e,t,s,i,r)),!0}return!1}function dv(e){var t=bi(e.target);if(t!==null){var s=tn(t);if(s!==null){if(t=s.tag,t===13){if(t=Bf(s),t!==null){e.blockedOn=t,Sp(e.priority,function(){if(s.tag===13){var i=ft();i=gc(i);var r=tr(s,i);r!==null&&dt(r,s,i),iu(s,i)}});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=$o(e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);ho=i,s.target.dispatchEvent(i),ho=null}else return t=er(s),t!==null&&hv(t),e.blockedOn=s,!1;t.shift()}return!0}function qh(e,t,s){Jn(e)&&s.delete(t)}function T0(){Vo=!1,ks!==null&&Jn(ks)&&(ks=null),Ns!==null&&Jn(Ns)&&(Ns=null),Rs!==null&&Jn(Rs)&&(Rs=null),Xr.forEach(qh),Qr.forEach(qh)}function On(e,t){e.blockedOn===t&&(e.blockedOn=null,Vo||(Vo=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,T0)))}var Mn=null;function Fh(e){Mn!==e&&(Mn=e,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,function(){Mn===e&&(Mn=null);for(var t=0;t<e.length;t+=3){var s=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(nu(i||s)===null)continue;break}var a=er(s);a!==null&&(e.splice(t,3),t-=3,Do(a,{pending:!0,data:r,method:s.method,action:i},i,r))}}))}function Zr(e){function t(c){return On(c,e)}ks!==null&&On(ks,e),Ns!==null&&On(Ns,e),Rs!==null&&On(Rs,e),Xr.forEach(t),Qr.forEach(t);for(var s=0;s<bs.length;s++){var i=bs[s];i.blockedOn===e&&(i.blockedOn=null)}for(;0<bs.length&&(s=bs[0],s.blockedOn===null);)dv(s),s.blockedOn===null&&bs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(i=0;i<s.length;i+=3){var r=s[i],a=s[i+1],m=r[rt]||null;if(typeof a=="function")m||Fh(s);else if(m){var n=null;if(a&&a.hasAttribute("formAction")){if(r=a,m=a[rt]||null)n=m.formAction;else if(nu(r)!==null)continue}else n=m.action;typeof n=="function"?s[i+1]=n:(s.splice(i,3),i-=3),Fh(s)}}}function au(e){this._internalRoot=e}il.prototype.render=au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));var s=t.current,i=ft();uv(s,i,e,t,null,null)};il.prototype.unmount=au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uv(e.current,2,null,e,null,null),Ja(),t[Ji]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yf();e={blockedOn:null,target:e,priority:t};for(var s=0;s<bs.length&&t!==0&&t<bs[s].priority;s++);bs.splice(s,0,e),s===0&&dv(e)}};var Gh=Of.version;if(Gh!=="19.1.0")throw Error(X(527,Gh,"19.1.0"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=np(t),e=e!==null?Hf(e):null,e=e===null?null:e.stateNode,e};var k0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bn.isDisabled&&Bn.supportsFiber)try{sn=Bn.inject(k0),ut=Bn}catch{}}qa.createRoot=function(e,t){if(!Mf(e))throw Error(X(299));var s=!1,i="",r=om,a=cm,m=um,n=null;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(n=t.unstable_transitionCallbacks)),t=ov(e,1,!1,null,null,s,i,r,a,m,n,null),e[Ji]=t.current,eu(e),new au(t)};qa.hydrateRoot=function(e,t,s){if(!Mf(e))throw Error(X(299));var i=!1,r="",a=om,m=cm,n=um,c=null,v=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(a=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(n=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(c=s.unstable_transitionCallbacks),s.formState!==void 0&&(v=s.formState)),t=ov(e,1,!0,t,s??null,i,r,a,m,n,c,v),t.context=cv(null),s=t.current,i=ft(),i=gc(i),r=As(i),r.callback=null,js(s,r,i),s=i,t.current.lanes=s,nn(t,s),It(t),e[Ji]=t.current,eu(e),new il(t)};qa.version="19.1.0";function mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mv)}catch(e){console.error(e)}}mv(),Nf.exports=qa;var N0=Nf.exports;const R0=Bg(N0);function L0({children:e}){return we.useEffect(()=>{let t,s=!1,i=null;const r={current:!1};try{r.current=localStorage.getItem("unicon_ws_paused")==="1"}catch{}const a=()=>{var C,x,u,o;if(r.current){window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!1,paused:!0}}));return}const v=`${location.protocol==="https:"?"wss":"ws"}://${location.host}/ws`,_=(x=(C=import.meta)==null?void 0:C.env)==null?void 0:x.VITE_WS_URL,g=`ws://localhost:${((o=(u=import.meta)==null?void 0:u.env)==null?void 0:o.VITE_WS_PORT)||8080}`,b=_||v;try{t=new WebSocket(b)}catch{try{t=new WebSocket(g)}catch{}}t&&(t.onopen=()=>{window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!0,url:t.url,paused:!1}}))},t.onmessage=l=>{try{const f=JSON.parse(l.data);window.dispatchEvent(new CustomEvent("unicon-ws",{detail:f}))}catch{}},t.onclose=()=>{const l=Date.now()+1500;window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!1,url:t.url,nextRetryTs:l,paused:r.current}})),!s&&!r.current&&(i=setTimeout(a,1500))},t.onerror=()=>{const l=Date.now()+1500;window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!1,error:!0,url:t==null?void 0:t.url,nextRetryTs:l,paused:r.current}}));try{t.close()}catch{}})},m=()=>{if(!r.current){try{i&&(clearTimeout(i),i=null)}catch{}try{t&&t.close()}catch{}a()}},n=c=>{const v=!!(c!=null&&c.detail&&c.detail.paused);r.current=v;try{localStorage.setItem("unicon_ws_paused",v?"1":"0")}catch{}if(v){try{i&&(clearTimeout(i),i=null)}catch{}try{t&&t.close()}catch{}window.dispatchEvent(new CustomEvent("unicon-ws-status",{detail:{connected:!1,paused:!0}}))}else a()};return window.addEventListener("unicon-ws-reconnect",m),window.addEventListener("unicon-ws-toggle-pause",n),a(),()=>{s=!0,window.removeEventListener("unicon-ws-reconnect",m),window.removeEventListener("unicon-ws-toggle-pause",n);try{t&&t.close()}catch{}try{i&&clearTimeout(i)}catch{}}},[]),e}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function Xo(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,i=Array(t);s<t;s++)i[s]=e[s];return i}function O0(e){if(Array.isArray(e))return e}function M0(e){if(Array.isArray(e))return Xo(e)}function B0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H0(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vv(i.key),i)}}function z0(e,t,s){return t&&H0(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ea(e,t){var s=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=lu(e))||t){s&&(e=s);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,m=!0,n=!1;return{s:function(){s=s.call(e)},n:function(){var c=s.next();return m=c.done,c},e:function(c){n=!0,a=c},f:function(){try{m||s.return==null||s.return()}finally{if(n)throw a}}}}function ue(e,t,s){return(t=vv(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function U0(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P0(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var i,r,a,m,n=[],c=!0,v=!1;try{if(a=(s=s.call(e)).next,t===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(i=a.call(s)).done)&&(n.push(i.value),n.length!==t);c=!0);}catch(_){v=!0,r=_}finally{try{if(!c&&s.return!=null&&(m=s.return(),Object(m)!==m))return}finally{if(v)throw r}}return n}}function I0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kh(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,i)}return s}function ee(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Kh(Object(s),!0).forEach(function(i){ue(e,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Kh(Object(s)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(s,i))})}return e}function rl(e,t){return O0(e)||P0(e,t)||lu(e,t)||I0()}function Nt(e){return M0(e)||U0(e)||lu(e)||q0()}function F0(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var i=s.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vv(e){var t=F0(e,"string");return typeof t=="symbol"?t:t+""}function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function lu(e,t){if(e){if(typeof e=="string")return Xo(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Xo(e,t):void 0}}var Wh=function(){},ou={},gv={},pv=null,_v={mark:Wh,measure:Wh};try{typeof window<"u"&&(ou=window),typeof document<"u"&&(gv=document),typeof MutationObserver<"u"&&(pv=MutationObserver),typeof performance<"u"&&(_v=performance)}catch{}var G0=ou.navigator||{},Yh=G0.userAgent,$h=Yh===void 0?"":Yh,Bs=ou,Ee=gv,Vh=pv,Hn=_v;Bs.document;var cs=!!Ee.documentElement&&!!Ee.head&&typeof Ee.addEventListener=="function"&&typeof Ee.createElement=="function",bv=~$h.indexOf("MSIE")||~$h.indexOf("Trident/"),Wl,K0=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,W0=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,yv={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},Y0={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Sv=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],Qe="classic",_n="duotone",xv="sharp",Cv="sharp-duotone",wv="chisel",Ev="etch",Av="jelly",jv="jelly-duo",Dv="jelly-fill",Tv="notdog",kv="notdog-duo",Nv="slab",Rv="slab-press",Lv="thumbprint",Ov="utility",Mv="utility-duo",Bv="utility-fill",Hv="whiteboard",$0="Classic",V0="Duotone",X0="Sharp",Q0="Sharp Duotone",Z0="Chisel",J0="Etch",e1="Jelly",t1="Jelly Duo",s1="Jelly Fill",i1="Notdog",r1="Notdog Duo",n1="Slab",a1="Slab Press",l1="Thumbprint",o1="Utility",c1="Utility Duo",u1="Utility Fill",h1="Whiteboard",zv=[Qe,_n,xv,Cv,wv,Ev,Av,jv,Dv,Tv,kv,Nv,Rv,Lv,Ov,Mv,Bv,Hv];Wl={},ue(ue(ue(ue(ue(ue(ue(ue(ue(ue(Wl,Qe,$0),_n,V0),xv,X0),Cv,Q0),wv,Z0),Ev,J0),Av,e1),jv,t1),Dv,s1),Tv,i1),ue(ue(ue(ue(ue(ue(ue(ue(Wl,kv,r1),Nv,n1),Rv,a1),Lv,l1),Ov,o1),Mv,c1),Bv,u1),Hv,h1);var f1={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},d1={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},m1=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),v1={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},Uv=["fak","fa-kit","fakd","fa-kit-duotone"],Xh={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},g1=["kit"],p1="kit",_1="kit-duotone",b1="Kit",y1="Kit Duotone";ue(ue({},p1,b1),_1,y1);var S1={kit:{"fa-kit":"fak"}},x1={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},C1={kit:{fak:"fa-kit"}},Qh={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Yl,zn={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},w1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],E1="classic",A1="duotone",j1="sharp",D1="sharp-duotone",T1="chisel",k1="etch",N1="jelly",R1="jelly-duo",L1="jelly-fill",O1="notdog",M1="notdog-duo",B1="slab",H1="slab-press",z1="thumbprint",U1="utility",P1="utility-duo",I1="utility-fill",q1="whiteboard",F1="Classic",G1="Duotone",K1="Sharp",W1="Sharp Duotone",Y1="Chisel",$1="Etch",V1="Jelly",X1="Jelly Duo",Q1="Jelly Fill",Z1="Notdog",J1="Notdog Duo",eb="Slab",tb="Slab Press",sb="Thumbprint",ib="Utility",rb="Utility Duo",nb="Utility Fill",ab="Whiteboard";Yl={},ue(ue(ue(ue(ue(ue(ue(ue(ue(ue(Yl,E1,F1),A1,G1),j1,K1),D1,W1),T1,Y1),k1,$1),N1,V1),R1,X1),L1,Q1),O1,Z1),ue(ue(ue(ue(ue(ue(ue(ue(Yl,M1,J1),B1,eb),H1,tb),z1,sb),U1,ib),P1,rb),I1,nb),q1,ab);var lb="kit",ob="kit-duotone",cb="Kit",ub="Kit Duotone";ue(ue({},lb,cb),ob,ub);var hb={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},fb={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},Qo={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},db=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],Pv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(w1,db),mb=["solid","regular","light","thin","duotone","brands","semibold"],Iv=[1,2,3,4,5,6,7,8,9,10],vb=Iv.concat([11,12,13,14,15,16,17,18,19,20]),gb=["aw","fw","pull-left","pull-right"],pb=[].concat(Nt(Object.keys(fb)),mb,gb,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",zn.GROUP,zn.SWAP_OPACITY,zn.PRIMARY,zn.SECONDARY]).concat(Iv.map(function(e){return"".concat(e,"x")})).concat(vb.map(function(e){return"w-".concat(e)})),_b={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},as="___FONT_AWESOME___",Zo=16,qv="fa",Fv="svg-inline--fa",ii="data-fa-i2svg",Jo="data-fa-pseudo-element",bb="data-fa-pseudo-element-pending",cu="data-prefix",uu="data-icon",Zh="fontawesome-i2svg",yb="async",Sb=["HTML","HEAD","STYLE","SCRIPT"],Gv=["::before","::after",":before",":after"],Kv=function(){try{return!0}catch{return!1}}();function bn(e){return new Proxy(e,{get:function(s,i){return i in s?s[i]:s[Qe]}})}var Wv=ee({},yv);Wv[Qe]=ee(ee(ee(ee({},{"fa-duotone":"duotone"}),yv[Qe]),Xh.kit),Xh["kit-duotone"]);var xb=bn(Wv),ec=ee({},v1);ec[Qe]=ee(ee(ee(ee({},{duotone:"fad"}),ec[Qe]),Qh.kit),Qh["kit-duotone"]);var Jh=bn(ec),tc=ee({},Qo);tc[Qe]=ee(ee({},tc[Qe]),C1.kit);var hu=bn(tc),sc=ee({},hb);sc[Qe]=ee(ee({},sc[Qe]),S1.kit);bn(sc);var Cb=K0,Yv="fa-layers-text",wb=W0,Eb=ee({},f1);bn(Eb);var Ab=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],$l=Y0,jb=[].concat(Nt(g1),Nt(pb)),Br=Bs.FontAwesomeConfig||{};function Db(e){var t=Ee.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function Tb(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(Ee&&typeof Ee.querySelector=="function"){var kb=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];kb.forEach(function(e){var t=rl(e,2),s=t[0],i=t[1],r=Tb(Db(s));r!=null&&(Br[i]=r)})}var $v={styleDefault:"solid",familyDefault:Qe,cssPrefix:qv,replacementClass:Fv,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Br.familyPrefix&&(Br.cssPrefix=Br.familyPrefix);var Xi=ee(ee({},$v),Br);Xi.autoReplaceSvg||(Xi.observeMutations=!1);var re={};Object.keys($v).forEach(function(e){Object.defineProperty(re,e,{enumerable:!0,set:function(s){Xi[e]=s,Hr.forEach(function(i){return i(re)})},get:function(){return Xi[e]}})});Object.defineProperty(re,"familyPrefix",{enumerable:!0,set:function(t){Xi.cssPrefix=t,Hr.forEach(function(s){return s(re)})},get:function(){return Xi.cssPrefix}});Bs.FontAwesomeConfig=re;var Hr=[];function Nb(e){return Hr.push(e),function(){Hr.splice(Hr.indexOf(e),1)}}var fi=Zo,Bt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Rb(e){if(!(!e||!cs)){var t=Ee.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var s=Ee.head.childNodes,i=null,r=s.length-1;r>-1;r--){var a=s[r],m=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(m)>-1&&(i=a)}return Ee.head.insertBefore(t,i),e}}var Lb="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ef(){for(var e=12,t="";e-- >0;)t+=Lb[Math.random()*62|0];return t}function nr(e){for(var t=[],s=(e||[]).length>>>0;s--;)t[s]=e[s];return t}function fu(e){return e.classList?nr(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function Vv(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ob(e){return Object.keys(e||{}).reduce(function(t,s){return t+"".concat(s,'="').concat(Vv(e[s]),'" ')},"").trim()}function nl(e){return Object.keys(e||{}).reduce(function(t,s){return t+"".concat(s,": ").concat(e[s].trim(),";")},"")}function du(e){return e.size!==Bt.size||e.x!==Bt.x||e.y!==Bt.y||e.rotate!==Bt.rotate||e.flipX||e.flipY}function Mb(e){var t=e.transform,s=e.containerWidth,i=e.iconWidth,r={transform:"translate(".concat(s/2," 256)")},a="translate(".concat(t.x*32,", ").concat(t.y*32,") "),m="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),n="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(a," ").concat(m," ").concat(n)},v={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:c,path:v}}function Bb(e){var t=e.transform,s=e.width,i=s===void 0?Zo:s,r=e.height,a=r===void 0?Zo:r,m="";return bv?m+="translate(".concat(t.x/fi-i/2,"em, ").concat(t.y/fi-a/2,"em) "):m+="translate(calc(-50% + ".concat(t.x/fi,"em), calc(-50% + ").concat(t.y/fi,"em)) "),m+="scale(".concat(t.size/fi*(t.flipX?-1:1),", ").concat(t.size/fi*(t.flipY?-1:1),") "),m+="rotate(".concat(t.rotate,"deg) "),m}var Hb=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function Xv(){var e=qv,t=Fv,s=re.cssPrefix,i=re.replacementClass,r=Hb;if(s!==e||i!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),m=new RegExp("\\--".concat(e,"\\-"),"g"),n=new RegExp("\\.".concat(t),"g");r=r.replace(a,".".concat(s,"-")).replace(m,"--".concat(s,"-")).replace(n,".".concat(i))}return r}var tf=!1;function Vl(){re.autoAddCss&&!tf&&(Rb(Xv()),tf=!0)}var zb={mixout:function(){return{dom:{css:Xv,insertCss:Vl}}},hooks:function(){return{beforeDOMElementCreation:function(){Vl()},beforeI2svg:function(){Vl()}}}},ls=Bs||{};ls[as]||(ls[as]={});ls[as].styles||(ls[as].styles={});ls[as].hooks||(ls[as].hooks={});ls[as].shims||(ls[as].shims=[]);var Tt=ls[as],Qv=[],Zv=function(){Ee.removeEventListener("DOMContentLoaded",Zv),za=1,Qv.map(function(t){return t()})},za=!1;cs&&(za=(Ee.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ee.readyState),za||Ee.addEventListener("DOMContentLoaded",Zv));function Ub(e){cs&&(za?setTimeout(e,0):Qv.push(e))}function yn(e){var t=e.tag,s=e.attributes,i=s===void 0?{}:s,r=e.children,a=r===void 0?[]:r;return typeof e=="string"?Vv(e):"<".concat(t," ").concat(Ob(i),">").concat(a.map(yn).join(""),"</").concat(t,">")}function sf(e,t,s){if(e&&e[t]&&e[t][s])return{prefix:t,iconName:s,icon:e[t][s]}}var Xl=function(t,s,i,r){var a=Object.keys(t),m=a.length,n=s,c,v,_;for(i===void 0?(c=1,_=t[a[0]]):(c=0,_=i);c<m;c++)v=a[c],_=n(_,t[v],v,t);return _};function Jv(e){return Nt(e).length!==1?null:e.codePointAt(0).toString(16)}function rf(e){return Object.keys(e).reduce(function(t,s){var i=e[s],r=!!i.icon;return r?t[i.iconName]=i.icon:t[s]=i,t},{})}function ic(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.skipHooks,r=i===void 0?!1:i,a=rf(t);typeof Tt.hooks.addPack=="function"&&!r?Tt.hooks.addPack(e,rf(t)):Tt.styles[e]=ee(ee({},Tt.styles[e]||{}),a),e==="fas"&&ic("fa",t)}var Jr=Tt.styles,Pb=Tt.shims,eg=Object.keys(hu),Ib=eg.reduce(function(e,t){return e[t]=Object.keys(hu[t]),e},{}),mu=null,tg={},sg={},ig={},rg={},ng={};function qb(e){return~jb.indexOf(e)}function Fb(e,t){var s=t.split("-"),i=s[0],r=s.slice(1).join("-");return i===e&&r!==""&&!qb(r)?r:null}var ag=function(){var t=function(a){return Xl(Jr,function(m,n,c){return m[c]=Xl(n,a,{}),m},{})};tg=t(function(r,a,m){if(a[3]&&(r[a[3]]=m),a[2]){var n=a[2].filter(function(c){return typeof c=="number"});n.forEach(function(c){r[c.toString(16)]=m})}return r}),sg=t(function(r,a,m){if(r[m]=m,a[2]){var n=a[2].filter(function(c){return typeof c=="string"});n.forEach(function(c){r[c]=m})}return r}),ng=t(function(r,a,m){var n=a[2];return r[m]=m,n.forEach(function(c){r[c]=m}),r});var s="far"in Jr||re.autoFetchSvg,i=Xl(Pb,function(r,a){var m=a[0],n=a[1],c=a[2];return n==="far"&&!s&&(n="fas"),typeof m=="string"&&(r.names[m]={prefix:n,iconName:c}),typeof m=="number"&&(r.unicodes[m.toString(16)]={prefix:n,iconName:c}),r},{names:{},unicodes:{}});ig=i.names,rg=i.unicodes,mu=al(re.styleDefault,{family:re.familyDefault})};Nb(function(e){mu=al(e.styleDefault,{family:re.familyDefault})});ag();function vu(e,t){return(tg[e]||{})[t]}function Gb(e,t){return(sg[e]||{})[t]}function Ks(e,t){return(ng[e]||{})[t]}function lg(e){return ig[e]||{prefix:null,iconName:null}}function Kb(e){var t=rg[e],s=vu("fas",e);return t||(s?{prefix:"fas",iconName:s}:null)||{prefix:null,iconName:null}}function Hs(){return mu}var og=function(){return{prefix:null,iconName:null,rest:[]}};function Wb(e){var t=Qe,s=eg.reduce(function(i,r){return i[r]="".concat(re.cssPrefix,"-").concat(r),i},{});return zv.forEach(function(i){(e.includes(s[i])||e.some(function(r){return Ib[i].includes(r)}))&&(t=i)}),t}function al(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.family,i=s===void 0?Qe:s,r=xb[i][e];if(i===_n&&!e)return"fad";var a=Jh[i][e]||Jh[i][r],m=e in Tt.styles?e:null,n=a||m||null;return n}function Yb(e){var t=[],s=null;return e.forEach(function(i){var r=Fb(re.cssPrefix,i);r?s=r:i&&t.push(i)}),{iconName:s,rest:t}}function nf(e){return e.sort().filter(function(t,s,i){return i.indexOf(t)===s})}var af=Pv.concat(Uv);function ll(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.skipLookups,i=s===void 0?!1:s,r=null,a=nf(e.filter(function(b){return af.includes(b)})),m=nf(e.filter(function(b){return!af.includes(b)})),n=a.filter(function(b){return r=b,!Sv.includes(b)}),c=rl(n,1),v=c[0],_=v===void 0?null:v,d=Wb(a),g=ee(ee({},Yb(m)),{},{prefix:al(_,{family:d})});return ee(ee(ee({},g),Qb({values:e,family:d,styles:Jr,config:re,canonical:g,givenPrefix:r})),$b(i,r,g))}function $b(e,t,s){var i=s.prefix,r=s.iconName;if(e||!i||!r)return{prefix:i,iconName:r};var a=t==="fa"?lg(r):{},m=Ks(i,r);return r=a.iconName||m||r,i=a.prefix||i,i==="far"&&!Jr.far&&Jr.fas&&!re.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}var Vb=zv.filter(function(e){return e!==Qe||e!==_n}),Xb=Object.keys(Qo).filter(function(e){return e!==Qe}).map(function(e){return Object.keys(Qo[e])}).flat();function Qb(e){var t=e.values,s=e.family,i=e.canonical,r=e.givenPrefix,a=r===void 0?"":r,m=e.styles,n=m===void 0?{}:m,c=e.config,v=c===void 0?{}:c,_=s===_n,d=t.includes("fa-duotone")||t.includes("fad"),g=v.familyDefault==="duotone",b=i.prefix==="fad"||i.prefix==="fa-duotone";if(!_&&(d||g||b)&&(i.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(i.prefix="fab"),!i.prefix&&Vb.includes(s)){var C=Object.keys(n).find(function(u){return Xb.includes(u)});if(C||v.autoFetchSvg){var x=m1.get(s).defaultShortPrefixId;i.prefix=x,i.iconName=Ks(i.prefix,i.iconName)||i.iconName}}return(i.prefix==="fa"||a==="fa")&&(i.prefix=Hs()||"fas"),i}var Zb=function(){function e(){B0(this,e),this.definitions={}}return z0(e,[{key:"add",value:function(){for(var s=this,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var m=r.reduce(this._pullDefinitions,{});Object.keys(m).forEach(function(n){s.definitions[n]=ee(ee({},s.definitions[n]||{}),m[n]),ic(n,m[n]);var c=hu[Qe][n];c&&ic(c,m[n]),ag()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(s,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(a){var m=r[a],n=m.prefix,c=m.iconName,v=m.icon,_=v[2];s[n]||(s[n]={}),_.length>0&&_.forEach(function(d){typeof d=="string"&&(s[n][d]=v)}),s[n][c]=v}),s}}])}(),lf=[],Ti={},zi={},Jb=Object.keys(zi);function ey(e,t){var s=t.mixoutsTo;return lf=e,Ti={},Object.keys(zi).forEach(function(i){Jb.indexOf(i)===-1&&delete zi[i]}),lf.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(m){typeof r[m]=="function"&&(s[m]=r[m]),Ha(r[m])==="object"&&Object.keys(r[m]).forEach(function(n){s[m]||(s[m]={}),s[m][n]=r[m][n]})}),i.hooks){var a=i.hooks();Object.keys(a).forEach(function(m){Ti[m]||(Ti[m]=[]),Ti[m].push(a[m])})}i.provides&&i.provides(zi)}),s}function rc(e,t){for(var s=arguments.length,i=new Array(s>2?s-2:0),r=2;r<s;r++)i[r-2]=arguments[r];var a=Ti[e]||[];return a.forEach(function(m){t=m.apply(null,[t].concat(i))}),t}function ri(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];var r=Ti[e]||[];r.forEach(function(a){a.apply(null,s)})}function zs(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return zi[e]?zi[e].apply(null,t):void 0}function nc(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,s=e.prefix||Hs();if(t)return t=Ks(s,t)||t,sf(cg.definitions,s,t)||sf(Tt.styles,s,t)}var cg=new Zb,ty=function(){re.autoReplaceSvg=!1,re.observeMutations=!1,ri("noAuto")},sy={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return cs?(ri("beforeI2svg",t),zs("pseudoElements2svg",t),zs("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.autoReplaceSvgRoot;re.autoReplaceSvg===!1&&(re.autoReplaceSvg=!0),re.observeMutations=!0,Ub(function(){ry({autoReplaceSvgRoot:s}),ri("watch",t)})}},iy={icon:function(t){if(t===null)return null;if(Ha(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Ks(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var s=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=al(t[0]);return{prefix:i,iconName:Ks(i,s)||s}}if(typeof t=="string"&&(t.indexOf("".concat(re.cssPrefix,"-"))>-1||t.match(Cb))){var r=ll(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||Hs(),iconName:Ks(r.prefix,r.iconName)||r.iconName}}if(typeof t=="string"){var a=Hs();return{prefix:a,iconName:Ks(a,t)||t}}}},vt={noAuto:ty,config:re,dom:sy,parse:iy,library:cg,findIconDefinition:nc,toHtml:yn},ry=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.autoReplaceSvgRoot,i=s===void 0?Ee:s;(Object.keys(Tt.styles).length>0||re.autoFetchSvg)&&cs&&re.autoReplaceSvg&&vt.dom.i2svg({node:i})};function ol(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return yn(i)})}}),Object.defineProperty(e,"node",{get:function(){if(cs){var i=Ee.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function ny(e){var t=e.children,s=e.main,i=e.mask,r=e.attributes,a=e.styles,m=e.transform;if(du(m)&&s.found&&!i.found){var n=s.width,c=s.height,v={x:n/c/2,y:.5};r.style=nl(ee(ee({},a),{},{"transform-origin":"".concat(v.x+m.x/16,"em ").concat(v.y+m.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}function ay(e){var t=e.prefix,s=e.iconName,i=e.children,r=e.attributes,a=e.symbol,m=a===!0?"".concat(t,"-").concat(re.cssPrefix,"-").concat(s):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ee(ee({},r),{},{id:m}),children:i}]}]}function ly(e){var t=["aria-label","aria-labelledby","title","role"];return t.some(function(s){return s in e})}function gu(e){var t=e.icons,s=t.main,i=t.mask,r=e.prefix,a=e.iconName,m=e.transform,n=e.symbol,c=e.maskId,v=e.extra,_=e.watchable,d=_===void 0?!1:_,g=i.found?i:s,b=g.width,C=g.height,x=[re.replacementClass,a?"".concat(re.cssPrefix,"-").concat(a):""].filter(function(y){return v.classes.indexOf(y)===-1}).filter(function(y){return y!==""||!!y}).concat(v.classes).join(" "),u={children:[],attributes:ee(ee({},v.attributes),{},{"data-prefix":r,"data-icon":a,class:x,role:v.attributes.role||"img",viewBox:"0 0 ".concat(b," ").concat(C)})};!ly(v.attributes)&&!v.attributes["aria-hidden"]&&(u.attributes["aria-hidden"]="true"),d&&(u.attributes[ii]="");var o=ee(ee({},u),{},{prefix:r,iconName:a,main:s,mask:i,maskId:c,transform:m,symbol:n,styles:ee({},v.styles)}),l=i.found&&s.found?zs("generateAbstractMask",o)||{children:[],attributes:{}}:zs("generateAbstractIcon",o)||{children:[],attributes:{}},f=l.children,p=l.attributes;return o.children=f,o.attributes=p,n?ay(o):ny(o)}function of(e){var t=e.content,s=e.width,i=e.height,r=e.transform,a=e.extra,m=e.watchable,n=m===void 0?!1:m,c=ee(ee({},a.attributes),{},{class:a.classes.join(" ")});n&&(c[ii]="");var v=ee({},a.styles);du(r)&&(v.transform=Bb({transform:r,width:s,height:i}),v["-webkit-transform"]=v.transform);var _=nl(v);_.length>0&&(c.style=_);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),d}function oy(e){var t=e.content,s=e.extra,i=ee(ee({},s.attributes),{},{class:s.classes.join(" ")}),r=nl(s.styles);r.length>0&&(i.style=r);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),a}var Ql=Tt.styles;function ac(e){var t=e[0],s=e[1],i=e.slice(4),r=rl(i,1),a=r[0],m=null;return Array.isArray(a)?m={tag:"g",attributes:{class:"".concat(re.cssPrefix,"-").concat($l.GROUP)},children:[{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat($l.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(re.cssPrefix,"-").concat($l.PRIMARY),fill:"currentColor",d:a[1]}}]}:m={tag:"path",attributes:{fill:"currentColor",d:a}},{found:!0,width:t,height:s,icon:m}}var cy={found:!1,width:512,height:512};function uy(e,t){!Kv&&!re.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function lc(e,t){var s=t;return t==="fa"&&re.styleDefault!==null&&(t=Hs()),new Promise(function(i,r){if(s==="fa"){var a=lg(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&Ql[t]&&Ql[t][e]){var m=Ql[t][e];return i(ac(m))}uy(e,t),i(ee(ee({},cy),{},{icon:re.showMissingIcons&&e?zs("missingIconAbstract")||{}:{}}))})}var cf=function(){},oc=re.measurePerformance&&Hn&&Hn.mark&&Hn.measure?Hn:{mark:cf,measure:cf},Sr='FA "7.1.0"',hy=function(t){return oc.mark("".concat(Sr," ").concat(t," begins")),function(){return ug(t)}},ug=function(t){oc.mark("".concat(Sr," ").concat(t," ends")),oc.measure("".concat(Sr," ").concat(t),"".concat(Sr," ").concat(t," begins"),"".concat(Sr," ").concat(t," ends"))},pu={begin:hy,end:ug},ta=function(){};function uf(e){var t=e.getAttribute?e.getAttribute(ii):null;return typeof t=="string"}function fy(e){var t=e.getAttribute?e.getAttribute(cu):null,s=e.getAttribute?e.getAttribute(uu):null;return t&&s}function dy(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(re.replacementClass)}function my(){if(re.autoReplaceSvg===!0)return sa.replace;var e=sa[re.autoReplaceSvg];return e||sa.replace}function vy(e){return Ee.createElementNS("http://www.w3.org/2000/svg",e)}function gy(e){return Ee.createElement(e)}function hg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.ceFn,i=s===void 0?e.tag==="svg"?vy:gy:s;if(typeof e=="string")return Ee.createTextNode(e);var r=i(e.tag);Object.keys(e.attributes||[]).forEach(function(m){r.setAttribute(m,e.attributes[m])});var a=e.children||[];return a.forEach(function(m){r.appendChild(hg(m,{ceFn:i}))}),r}function py(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var sa={replace:function(t){var s=t[0];if(s.parentNode)if(t[1].forEach(function(r){s.parentNode.insertBefore(hg(r),s)}),s.getAttribute(ii)===null&&re.keepOriginalSource){var i=Ee.createComment(py(s));s.parentNode.replaceChild(i,s)}else s.remove()},nest:function(t){var s=t[0],i=t[1];if(~fu(s).indexOf(re.replacementClass))return sa.replace(t);var r=new RegExp("".concat(re.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var a=i[0].attributes.class.split(" ").reduce(function(n,c){return c===re.replacementClass||c.match(r)?n.toSvg.push(c):n.toNode.push(c),n},{toNode:[],toSvg:[]});i[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?s.removeAttribute("class"):s.setAttribute("class",a.toNode.join(" "))}var m=i.map(function(n){return yn(n)}).join(`
`);s.setAttribute(ii,""),s.innerHTML=m}};function hf(e){e()}function fg(e,t){var s=typeof t=="function"?t:ta;if(e.length===0)s();else{var i=hf;re.mutateApproach===yb&&(i=Bs.requestAnimationFrame||hf),i(function(){var r=my(),a=pu.begin("mutate");e.map(r),a(),s()})}}var _u=!1;function dg(){_u=!0}function cc(){_u=!1}var Ua=null;function ff(e){if(Vh&&re.observeMutations){var t=e.treeCallback,s=t===void 0?ta:t,i=e.nodeCallback,r=i===void 0?ta:i,a=e.pseudoElementsCallback,m=a===void 0?ta:a,n=e.observeMutationsRoot,c=n===void 0?Ee:n;Ua=new Vh(function(v){if(!_u){var _=Hs();nr(v).forEach(function(d){if(d.type==="childList"&&d.addedNodes.length>0&&!uf(d.addedNodes[0])&&(re.searchPseudoElements&&m(d.target),s(d.target)),d.type==="attributes"&&d.target.parentNode&&re.searchPseudoElements&&m([d.target],!0),d.type==="attributes"&&uf(d.target)&&~Ab.indexOf(d.attributeName))if(d.attributeName==="class"&&fy(d.target)){var g=ll(fu(d.target)),b=g.prefix,C=g.iconName;d.target.setAttribute(cu,b||_),C&&d.target.setAttribute(uu,C)}else dy(d.target)&&r(d.target)})}}),cs&&Ua.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function _y(){Ua&&Ua.disconnect()}function by(e){var t=e.getAttribute("style"),s=[];return t&&(s=t.split(";").reduce(function(i,r){var a=r.split(":"),m=a[0],n=a.slice(1);return m&&n.length>0&&(i[m]=n.join(":").trim()),i},{})),s}function yy(e){var t=e.getAttribute("data-prefix"),s=e.getAttribute("data-icon"),i=e.innerText!==void 0?e.innerText.trim():"",r=ll(fu(e));return r.prefix||(r.prefix=Hs()),t&&s&&(r.prefix=t,r.iconName=s),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=Gb(r.prefix,e.innerText)||vu(r.prefix,Jv(e.innerText))),!r.iconName&&re.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=e.firstChild.data)),r}function Sy(e){var t=nr(e.attributes).reduce(function(s,i){return s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s},{});return t}function xy(){return{iconName:null,prefix:null,transform:Bt,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function df(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},s=yy(e),i=s.iconName,r=s.prefix,a=s.rest,m=Sy(e),n=rc("parseNodeAttributes",{},e),c=t.styleParser?by(e):[];return ee({iconName:i,prefix:r,transform:Bt,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:c,attributes:m}},n)}var Cy=Tt.styles;function mg(e){var t=re.autoReplaceSvg==="nest"?df(e,{styleParser:!1}):df(e);return~t.extra.classes.indexOf(Yv)?zs("generateLayersText",e,t):zs("generateSvgReplacementMutation",e,t)}function wy(){return[].concat(Nt(Uv),Nt(Pv))}function mf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!cs)return Promise.resolve();var s=Ee.documentElement.classList,i=function(d){return s.add("".concat(Zh,"-").concat(d))},r=function(d){return s.remove("".concat(Zh,"-").concat(d))},a=re.autoFetchSvg?wy():Sv.concat(Object.keys(Cy));a.includes("fa")||a.push("fa");var m=[".".concat(Yv,":not([").concat(ii,"])")].concat(a.map(function(_){return".".concat(_,":not([").concat(ii,"])")})).join(", ");if(m.length===0)return Promise.resolve();var n=[];try{n=nr(e.querySelectorAll(m))}catch{}if(n.length>0)i("pending"),r("complete");else return Promise.resolve();var c=pu.begin("onTree"),v=n.reduce(function(_,d){try{var g=mg(d);g&&_.push(g)}catch(b){Kv||b.name==="MissingIcon"&&console.error(b)}return _},[]);return new Promise(function(_,d){Promise.all(v).then(function(g){fg(g,function(){i("active"),i("complete"),r("pending"),typeof t=="function"&&t(),c(),_()})}).catch(function(g){c(),d(g)})})}function Ey(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;mg(e).then(function(s){s&&fg([s],t)})}function Ay(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:nc(t||{}),r=s.mask;return r&&(r=(r||{}).icon?r:nc(r||{})),e(i,ee(ee({},s),{},{mask:r}))}}var jy=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.transform,r=i===void 0?Bt:i,a=s.symbol,m=a===void 0?!1:a,n=s.mask,c=n===void 0?null:n,v=s.maskId,_=v===void 0?null:v,d=s.classes,g=d===void 0?[]:d,b=s.attributes,C=b===void 0?{}:b,x=s.styles,u=x===void 0?{}:x;if(t){var o=t.prefix,l=t.iconName,f=t.icon;return ol(ee({type:"icon"},t),function(){return ri("beforeDOMElementCreation",{iconDefinition:t,params:s}),gu({icons:{main:ac(f),mask:c?ac(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:o,iconName:l,transform:ee(ee({},Bt),r),symbol:m,maskId:_,extra:{attributes:C,styles:u,classes:g}})})}},Dy={mixout:function(){return{icon:Ay(jy)}},hooks:function(){return{mutationObserverCallbacks:function(s){return s.treeCallback=mf,s.nodeCallback=Ey,s}}},provides:function(t){t.i2svg=function(s){var i=s.node,r=i===void 0?Ee:i,a=s.callback,m=a===void 0?function(){}:a;return mf(r,m)},t.generateSvgReplacementMutation=function(s,i){var r=i.iconName,a=i.prefix,m=i.transform,n=i.symbol,c=i.mask,v=i.maskId,_=i.extra;return new Promise(function(d,g){Promise.all([lc(r,a),c.iconName?lc(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(b){var C=rl(b,2),x=C[0],u=C[1];d([s,gu({icons:{main:x,mask:u},prefix:a,iconName:r,transform:m,symbol:n,maskId:v,extra:_,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(s){var i=s.children,r=s.attributes,a=s.main,m=s.transform,n=s.styles,c=nl(n);c.length>0&&(r.style=c);var v;return du(m)&&(v=zs("generateAbstractTransformGrouping",{main:a,transform:m,containerWidth:a.width,iconWidth:a.width})),i.push(v||a.icon),{children:i,attributes:r}}}},Ty={mixout:function(){return{layer:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.classes,a=r===void 0?[]:r;return ol({type:"layer"},function(){ri("beforeDOMElementCreation",{assembler:s,params:i});var m=[];return s(function(n){Array.isArray(n)?n.map(function(c){m=m.concat(c.abstract)}):m=m.concat(n.abstract)}),[{tag:"span",attributes:{class:["".concat(re.cssPrefix,"-layers")].concat(Nt(a)).join(" ")},children:m}]})}}}},ky={mixout:function(){return{counter:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.title;var r=i.classes,a=r===void 0?[]:r,m=i.attributes,n=m===void 0?{}:m,c=i.styles,v=c===void 0?{}:c;return ol({type:"counter",content:s},function(){return ri("beforeDOMElementCreation",{content:s,params:i}),oy({content:s.toString(),extra:{attributes:n,styles:v,classes:["".concat(re.cssPrefix,"-layers-counter")].concat(Nt(a))}})})}}}},Ny={mixout:function(){return{text:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.transform,a=r===void 0?Bt:r,m=i.classes,n=m===void 0?[]:m,c=i.attributes,v=c===void 0?{}:c,_=i.styles,d=_===void 0?{}:_;return ol({type:"text",content:s},function(){return ri("beforeDOMElementCreation",{content:s,params:i}),of({content:s,transform:ee(ee({},Bt),a),extra:{attributes:v,styles:d,classes:["".concat(re.cssPrefix,"-layers-text")].concat(Nt(n))}})})}}},provides:function(t){t.generateLayersText=function(s,i){var r=i.transform,a=i.extra,m=null,n=null;if(bv){var c=parseInt(getComputedStyle(s).fontSize,10),v=s.getBoundingClientRect();m=v.width/c,n=v.height/c}return Promise.resolve([s,of({content:s.innerHTML,width:m,height:n,transform:r,extra:a,watchable:!0})])}}},vg=new RegExp('"',"ug"),vf=[1105920,1112319],gf=ee(ee(ee(ee({},{FontAwesome:{normal:"fas",400:"fas"}}),d1),_b),x1),uc=Object.keys(gf).reduce(function(e,t){return e[t.toLowerCase()]=gf[t],e},{}),Ry=Object.keys(uc).reduce(function(e,t){var s=uc[t];return e[t]=s[900]||Nt(Object.entries(s))[0][1],e},{});function Ly(e){var t=e.replace(vg,"");return Jv(Nt(t)[0]||"")}function Oy(e){var t=e.getPropertyValue("font-feature-settings").includes("ss01"),s=e.getPropertyValue("content"),i=s.replace(vg,""),r=i.codePointAt(0),a=r>=vf[0]&&r<=vf[1],m=i.length===2?i[0]===i[1]:!1;return a||m||t}function My(e,t){var s=e.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(t),r=isNaN(i)?"normal":i;return(uc[s]||{})[r]||Ry[s]}function pf(e,t){var s="".concat(bb).concat(t.replace(":","-"));return new Promise(function(i,r){if(e.getAttribute(s)!==null)return i();var a=nr(e.children),m=a.filter(function(w){return w.getAttribute(Jo)===t})[0],n=Bs.getComputedStyle(e,t),c=n.getPropertyValue("font-family"),v=c.match(wb),_=n.getPropertyValue("font-weight"),d=n.getPropertyValue("content");if(m&&!v)return e.removeChild(m),i();if(v&&d!=="none"&&d!==""){var g=n.getPropertyValue("content"),b=My(c,_),C=Ly(g),x=v[0].startsWith("FontAwesome"),u=Oy(n),o=vu(b,C),l=o;if(x){var f=Kb(C);f.iconName&&f.prefix&&(o=f.iconName,b=f.prefix)}if(o&&!u&&(!m||m.getAttribute(cu)!==b||m.getAttribute(uu)!==l)){e.setAttribute(s,l),m&&e.removeChild(m);var p=xy(),y=p.extra;y.attributes[Jo]=t,lc(o,b).then(function(w){var E=gu(ee(ee({},p),{},{icons:{main:w,mask:og()},prefix:b,iconName:l,extra:y,watchable:!0})),S=Ee.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(S,e.firstChild):e.appendChild(S),S.outerHTML=E.map(function(A){return yn(A)}).join(`
`),e.removeAttribute(s),i()}).catch(r)}else i()}else i()})}function By(e){return Promise.all([pf(e,"::before"),pf(e,"::after")])}function Hy(e){return e.parentNode!==document.head&&!~Sb.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Jo)&&(!e.parentNode||e.parentNode.tagName!=="svg")}var zy=function(t){return!!t&&Gv.some(function(s){return t.includes(s)})},Uy=function(t){if(!t)return[];var s=new Set,i=t.split(/,(?![^()]*\))/).map(function(c){return c.trim()});i=i.flatMap(function(c){return c.includes("(")?c:c.split(",").map(function(v){return v.trim()})});var r=ea(i),a;try{for(r.s();!(a=r.n()).done;){var m=a.value;if(zy(m)){var n=Gv.reduce(function(c,v){return c.replace(v,"")},m);n!==""&&n!=="*"&&s.add(n)}}}catch(c){r.e(c)}finally{r.f()}return s};function _f(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(cs){var s;if(t)s=e;else if(re.searchPseudoElementsFullScan)s=e.querySelectorAll("*");else{var i=new Set,r=ea(document.styleSheets),a;try{for(r.s();!(a=r.n()).done;){var m=a.value;try{var n=ea(m.cssRules),c;try{for(n.s();!(c=n.n()).done;){var v=c.value,_=Uy(v.selectorText),d=ea(_),g;try{for(d.s();!(g=d.n()).done;){var b=g.value;i.add(b)}}catch(x){d.e(x)}finally{d.f()}}}catch(x){n.e(x)}finally{n.f()}}catch(x){re.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(m.href," (").concat(x.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(x){r.e(x)}finally{r.f()}if(!i.size)return;var C=Array.from(i).join(", ");try{s=e.querySelectorAll(C)}catch{}}return new Promise(function(x,u){var o=nr(s).filter(Hy).map(By),l=pu.begin("searchPseudoElements");dg(),Promise.all(o).then(function(){l(),cc(),x()}).catch(function(){l(),cc(),u()})})}}var Py={hooks:function(){return{mutationObserverCallbacks:function(s){return s.pseudoElementsCallback=_f,s}}},provides:function(t){t.pseudoElements2svg=function(s){var i=s.node,r=i===void 0?Ee:i;re.searchPseudoElements&&_f(r)}}},bf=!1,Iy={mixout:function(){return{dom:{unwatch:function(){dg(),bf=!0}}}},hooks:function(){return{bootstrap:function(){ff(rc("mutationObserverCallbacks",{}))},noAuto:function(){_y()},watch:function(s){var i=s.observeMutationsRoot;bf?cc():ff(rc("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},yf=function(t){var s={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,r){var a=r.toLowerCase().split("-"),m=a[0],n=a.slice(1).join("-");if(m&&n==="h")return i.flipX=!0,i;if(m&&n==="v")return i.flipY=!0,i;if(n=parseFloat(n),isNaN(n))return i;switch(m){case"grow":i.size=i.size+n;break;case"shrink":i.size=i.size-n;break;case"left":i.x=i.x-n;break;case"right":i.x=i.x+n;break;case"up":i.y=i.y-n;break;case"down":i.y=i.y+n;break;case"rotate":i.rotate=i.rotate+n;break}return i},s)},qy={mixout:function(){return{parse:{transform:function(s){return yf(s)}}}},hooks:function(){return{parseNodeAttributes:function(s,i){var r=i.getAttribute("data-fa-transform");return r&&(s.transform=yf(r)),s}}},provides:function(t){t.generateAbstractTransformGrouping=function(s){var i=s.main,r=s.transform,a=s.containerWidth,m=s.iconWidth,n={transform:"translate(".concat(a/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),v="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),_="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(c," ").concat(v," ").concat(_)},g={transform:"translate(".concat(m/2*-1," -256)")},b={outer:n,inner:d,path:g};return{tag:"g",attributes:ee({},b.outer),children:[{tag:"g",attributes:ee({},b.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:ee(ee({},i.icon.attributes),b.path)}]}]}}}},Zl={x:0,y:0,width:"100%",height:"100%"};function Sf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Fy(e){return e.tag==="g"?e.children:[e]}var Gy={hooks:function(){return{parseNodeAttributes:function(s,i){var r=i.getAttribute("data-fa-mask"),a=r?ll(r.split(" ").map(function(m){return m.trim()})):og();return a.prefix||(a.prefix=Hs()),s.mask=a,s.maskId=i.getAttribute("data-fa-mask-id"),s}}},provides:function(t){t.generateAbstractMask=function(s){var i=s.children,r=s.attributes,a=s.main,m=s.mask,n=s.maskId,c=s.transform,v=a.width,_=a.icon,d=m.width,g=m.icon,b=Mb({transform:c,containerWidth:d,iconWidth:v}),C={tag:"rect",attributes:ee(ee({},Zl),{},{fill:"white"})},x=_.children?{children:_.children.map(Sf)}:{},u={tag:"g",attributes:ee({},b.inner),children:[Sf(ee({tag:_.tag,attributes:ee(ee({},_.attributes),b.path)},x))]},o={tag:"g",attributes:ee({},b.outer),children:[u]},l="mask-".concat(n||ef()),f="clip-".concat(n||ef()),p={tag:"mask",attributes:ee(ee({},Zl),{},{id:l,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[C,o]},y={tag:"defs",children:[{tag:"clipPath",attributes:{id:f},children:Fy(g)},p]};return i.push(y,{tag:"rect",attributes:ee({fill:"currentColor","clip-path":"url(#".concat(f,")"),mask:"url(#".concat(l,")")},Zl)}),{children:i,attributes:r}}}},Ky={provides:function(t){var s=!1;Bs.matchMedia&&(s=Bs.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:ee(ee({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var m=ee(ee({},a),{},{attributeName:"opacity"}),n={tag:"circle",attributes:ee(ee({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return s||n.children.push({tag:"animate",attributes:ee(ee({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ee(ee({},m),{},{values:"1;0;1;1;0;1;"})}),i.push(n),i.push({tag:"path",attributes:ee(ee({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:s?[]:[{tag:"animate",attributes:ee(ee({},m),{},{values:"1;0;0;0;0;1;"})}]}),s||i.push({tag:"path",attributes:ee(ee({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ee(ee({},m),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},Wy={hooks:function(){return{parseNodeAttributes:function(s,i){var r=i.getAttribute("data-fa-symbol"),a=r===null?!1:r===""?!0:r;return s.symbol=a,s}}}},Yy=[zb,Dy,Ty,ky,Ny,Py,Iy,qy,Gy,Ky,Wy];ey(Yy,{mixoutsTo:vt});vt.noAuto;var en=vt.config;vt.library;vt.dom;var gg=vt.parse;vt.findIconDefinition;vt.toHtml;var $y=vt.icon;vt.layer;vt.text;vt.counter;function Vy(e){return e=e-0,e===e}function pg(e){return Vy(e)?e:(e=e.replace(/[_-]+(.)?/g,(t,s)=>s?s.toUpperCase():""),e.charAt(0).toLowerCase()+e.slice(1))}function Xy(e){return e.charAt(0).toUpperCase()+e.slice(1)}var di=new Map,Qy=1e3;function Zy(e){if(di.has(e))return di.get(e);const t={};let s=0;const i=e.length;for(;s<i;){const r=e.indexOf(";",s),a=r===-1?i:r,m=e.slice(s,a).trim();if(m){const n=m.indexOf(":");if(n>0){const c=m.slice(0,n).trim(),v=m.slice(n+1).trim();if(c&&v){const _=pg(c);t[_.startsWith("webkit")?Xy(_):_]=v}}}s=a+1}if(di.size===Qy){const r=di.keys().next().value;r&&di.delete(r)}return di.set(e,t),t}function _g(e,t,s={}){if(typeof t=="string")return t;const i=(t.children||[]).map(_=>_g(e,_)),r=t.attributes||{},a={};for(const[_,d]of Object.entries(r))switch(!0){case _==="class":{a.className=d;break}case _==="style":{a.style=Zy(String(d));break}case _.startsWith("aria-"):case _.startsWith("data-"):{a[_.toLowerCase()]=d;break}default:a[pg(_)]=d}const{style:m,role:n,"aria-label":c,...v}=s;return m&&(a.style=a.style?{...a.style,...m}:m),n&&(a.role=n),c&&(a["aria-label"]=c,a["aria-hidden"]="false"),e(t.tag,{...v,...a},...i)}var Jy=_g.bind(null,we.createElement),xf=(e,t)=>{const s=G.useId();return e||(t?s:void 0)},eS=class{constructor(e="react-fontawesome"){this.enabled=!1;let t=!1;try{t=typeof process<"u"&&!1}catch{}this.scope=e,this.enabled=t}log(...e){this.enabled&&console.log(`[${this.scope}]`,...e)}warn(...e){this.enabled&&console.warn(`[${this.scope}]`,...e)}error(...e){this.enabled&&console.error(`[${this.scope}]`,...e)}},tS="searchPseudoElementsFullScan"in en?"7.0.0":"6.0.0",sS=Number.parseInt(tS)>=7,zr="fa",Kt={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},iS={left:"fa-pull-left",right:"fa-pull-right"},rS={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},nS={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},Wt={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function aS(e){const t=en.cssPrefix||en.familyPrefix||zr;return t===zr?e:e.replace(new RegExp(String.raw`(?<=^|\s)${zr}-`,"g"),`${t}-`)}function lS(e){const{beat:t,fade:s,beatFade:i,bounce:r,shake:a,spin:m,spinPulse:n,spinReverse:c,pulse:v,fixedWidth:_,inverse:d,border:g,flip:b,size:C,rotation:x,pull:u,swapOpacity:o,rotateBy:l,widthAuto:f,className:p}=e,y=[];return p&&y.push(...p.split(" ")),t&&y.push(Kt.beat),s&&y.push(Kt.fade),i&&y.push(Kt.beatFade),r&&y.push(Kt.bounce),a&&y.push(Kt.shake),m&&y.push(Kt.spin),c&&y.push(Kt.spinReverse),n&&y.push(Kt.spinPulse),v&&y.push(Kt.pulse),_&&y.push(Wt.fixedWidth),d&&y.push(Wt.inverse),g&&y.push(Wt.border),b===!0&&y.push(Wt.flip),(b==="horizontal"||b==="both")&&y.push(Wt.flipHorizontal),(b==="vertical"||b==="both")&&y.push(Wt.flipVertical),C!=null&&y.push(nS[C]),x!=null&&x!==0&&y.push(rS[x]),u!=null&&y.push(iS[u]),o&&y.push(Wt.swapOpacity),sS?(l&&y.push(Wt.rotateBy),f&&y.push(Wt.widthAuto),(en.cssPrefix||en.familyPrefix||zr)===zr?y:y.map(aS)):y}var oS=e=>typeof e=="object"&&"icon"in e&&!!e.icon;function Cf(e){if(e)return oS(e)?e:gg.icon(e)}function cS(e){return Object.keys(e)}var wf=new eS("FontAwesomeIcon"),bg={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},uS=new Set(Object.keys(bg)),yg=we.forwardRef((e,t)=>{const s={...bg,...e},{icon:i,mask:r,symbol:a,title:m,titleId:n,maskId:c,transform:v}=s,_=xf(c,!!r),d=xf(n,!!m),g=Cf(i);if(!g)return wf.error("Icon lookup is undefined",i),null;const b=lS(s),C=typeof v=="string"?gg.transform(v):v,x=Cf(r),u=$y(g,{...b.length>0&&{classes:b},...C&&{transform:C},...x&&{mask:x},symbol:a,title:m,titleId:d,maskId:_});if(!u)return wf.error("Could not find icon",g),null;const{abstract:o}=u,l={ref:t};for(const f of cS(s))uS.has(f)||(l[f]=s[f]);return Jy(o[0],l)});yg.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var hS={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M0 352L0 128C0 75 43 32 96 32l320 0c53 0 96 43 96 96l0 224c0 53-43 96-96 96l-120 0c-5.2 0-10.2 1.7-14.4 4.8L166.4 539.2c-4.2 3.1-9.2 4.8-14.4 4.8-13.3 0-24-10.7-24-24l0-72-32 0c-53 0-96-43-96-96z"]},fS={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},dS={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6-46.8 43.5-78.1 95.4-93 131.1-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64-11.5 0-22.3-3-31.7-8.4-1 10.9-.1 22.1 2.9 33.2 13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-12.2-45.7-55.5-74.8-101.1-70.8 5.3 9.3 8.4 20.1 8.4 31.7z"]},mS={prefix:"fas",iconName:"paper-plane",icon:[576,512,[61913],"f1d8","M536.4-26.3c9.8-3.5 20.6-1 28 6.3s9.8 18.2 6.3 28l-178 496.9c-5 13.9-18.1 23.1-32.8 23.1-14.2 0-27-8.6-32.3-21.7l-64.2-158c-4.5-11-2.5-23.6 5.2-32.6l94.5-112.4c5.1-6.1 4.7-15-.9-20.6s-14.6-6-20.6-.9L229.2 276.1c-9.1 7.6-21.6 9.6-32.6 5.2L38.1 216.8c-13.1-5.3-21.7-18.1-21.7-32.3 0-14.7 9.2-27.8 23.1-32.8l496.9-178z"]},vS={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 205.8c-14.8 9.8-31.8 17.7-49.5 24-47 16.8-108.7 26.2-174.5 26.2S96.4 246.5 49.5 229.8c-17.6-6.3-34.7-14.2-49.5-24L0 288c0 44.2 100.3 80 224 80s224-35.8 224-80l0-82.2zm0-77.8l0-48C448 35.8 347.7 0 224 0S0 35.8 0 80l0 48c0 44.2 100.3 80 224 80s224-35.8 224-80zM398.5 389.8C351.6 406.5 289.9 416 224 416S96.4 406.5 49.5 389.8c-17.6-6.3-34.7-14.2-49.5-24L0 432c0 44.2 100.3 80 224 80s224-35.8 224-80l0-66.2c-14.8 9.8-31.8 17.7-49.5 24z"]},gS={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z"]},Sg={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm0-336c-17.7 0-32 14.3-32 32 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-44.2 35.8-80 80-80s80 35.8 80 80c0 47.2-36 67.2-56 74.5l0 3.8c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-8.1c0-20.5 14.8-35.2 30.1-40.2 6.4-2.1 13.2-5.5 18.2-10.3 4.3-4.2 7.7-10 7.7-19.6 0-17.7-14.3-32-32-32zM224 368a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},pS={prefix:"fas",iconName:"play",icon:[448,512,[9654],"f04b","M91.2 36.9c-12.4-6.8-27.4-6.5-39.6 .7S32 57.9 32 72l0 368c0 14.1 7.5 27.2 19.6 34.4s27.2 7.5 39.6 .7l336-184c12.8-7 20.8-20.5 20.8-35.1s-8-28.1-20.8-35.1l-336-184z"]},_S={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z"]},bS={prefix:"fas",iconName:"server",icon:[448,512,[],"f233","M64 32C28.7 32 0 60.7 0 96l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 32zm216 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 288zm216 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},yS={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"]},SS={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},xS={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]},CS={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"]},wS={prefix:"fas",iconName:"eye-slash",icon:[576,512,[],"f070","M41-24.9c-9.4-9.4-24.6-9.4-33.9 0S-2.3-.3 7 9.1l528 528c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-96.4-96.4c2.7-2.4 5.4-4.8 8-7.2 46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7 0-24.6-14.9-35.7-46.2-87.7-93-131.1-47.1-43.7-111.8-80.6-192.6-80.6-56.8 0-105.6 18.2-146 44.2L41-24.9zM204.5 138.7c23.5-16.8 52.4-26.7 83.5-26.7 79.5 0 144 64.5 144 144 0 31.1-9.9 59.9-26.7 83.5l-34.7-34.7c12.7-21.4 17-47.7 10.1-73.7-13.7-51.2-66.4-81.6-117.6-67.9-8.6 2.3-16.7 5.7-24 10l-34.7-34.7zM325.3 395.1c-11.9 3.2-24.4 4.9-37.3 4.9-79.5 0-144-64.5-144-144 0-12.9 1.7-25.4 4.9-37.3L69.4 139.2c-32.6 36.8-55 75.8-66.9 104.5-3.3 7.9-3.3 16.7 0 24.6 14.9 35.7 46.2 87.7 93 131.1 47.1 43.7 111.8 80.6 192.6 80.6 37.3 0 71.2-7.9 101.5-20.6l-64.2-64.2z"]},ES={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M338.8-9.9c11.9 8.6 16.3 24.2 10.9 37.8L271.3 224 416 224c13.5 0 25.5 8.4 30.1 21.1s.7 26.9-9.6 35.5l-288 240c-11.3 9.4-27.4 9.9-39.3 1.3s-16.3-24.2-10.9-37.8L176.7 288 32 288c-13.5 0-25.5-8.4-30.1-21.1s-.7-26.9 9.6-35.5l288-240c11.3-9.4 27.4-9.9 39.3-1.3z"]},AS={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32z"]},jS={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M65.9 228.5c13.3-93 93.4-164.5 190.1-164.5 53 0 101 21.5 135.8 56.2 .2 .2 .4 .4 .6 .6l7.6 7.2-47.9 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 53.4-11.3-10.7C390.5 28.6 326.5 0 256 0 127 0 20.3 95.4 2.6 219.5 .1 237 12.2 253.2 29.7 255.7s33.7-9.7 36.2-27.1zm443.5 64c2.5-17.5-9.7-33.7-27.1-36.2s-33.7 9.7-36.2 27.1c-13.3 93-93.4 164.5-190.1 164.5-53 0-101-21.5-135.8-56.2-.2-.2-.4-.4-.6-.6l-7.6-7.2 47.9 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 320c-8.5 0-16.7 3.4-22.7 9.5S-.1 343.7 0 352.3l1 127c.1 17.7 14.6 31.9 32.3 31.7S65.2 496.4 65 478.7l-.4-51.5 10.7 10.1c46.3 46.1 110.2 74.7 180.7 74.7 129 0 235.7-95.4 253.4-219.5z"]},DS={prefix:"fas",iconName:"layer-group",icon:[512,512,[],"f5fd","M232.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 149.8C5.4 145.8 0 137.3 0 128s5.4-17.9 13.9-21.8L232.5 5.2zM48.1 218.4l164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 277.8C5.4 273.8 0 265.3 0 256s5.4-17.9 13.9-21.8l34.1-15.8zM13.9 362.2l34.1-15.8 164.3 75.9c27.7 12.8 59.6 12.8 87.3 0l164.3-75.9 34.1 15.8c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L13.9 405.8C5.4 401.8 0 393.3 0 384s5.4-17.9 13.9-21.8z"]};const TS={plus:xS,"circle-question":Sg,"magnifying-glass":fS,"arrows-rotate":jS,"paper-plane":mS,eye:dS,"eye-slash":wS,copy:CS,"trash-can":_S,play:pS,square:AS,gear:gS,database:vS,globe:SS,server:bS,bolt:ES,"message-square":hS,layers:DS,list:yS};function ia({name:e,size:t=16,className:s=""}){const i=TS[e]||Sg;return h.jsx(yg,{icon:i,className:s,style:{fontSize:`${t}px`}})}function kS({onOpenWorkspace:e,activeTabKind:t}){const s=({iconName:i,label:r,onClick:a,active:m=!1})=>h.jsxs("button",{onClick:a,className:`w-full flex items-center gap-3 px-4 py-2 rounded-md text-sm hover:bg-gray-100 transition ${m?"bg-gray-100 font-medium":""}`,children:[h.jsx(ia,{name:i,size:18,className:"text-gray-700"}),h.jsx("span",{children:r})]});return h.jsxs("aside",{className:"w-64 border-r border-gray-200 bg-white p-4 space-y-4",children:[h.jsx("div",{className:"px-2 text-xs uppercase text-gray-500 tracking-wide",children:"General"}),h.jsx("div",{className:"space-y-1",children:h.jsx(s,{iconName:"list",label:"Connections",onClick:()=>e("connections")})}),h.jsx("div",{className:"pt-4 border-t border-gray-200"}),h.jsx("div",{className:"px-2 text-xs uppercase text-gray-500 tracking-wide",children:"Workspaces"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(s,{iconName:"globe",label:"REST",onClick:()=>e("rest"),active:t==="rest"}),h.jsx(s,{iconName:"server",label:"OPC UA",onClick:()=>e("opcua")}),h.jsx(s,{iconName:"bolt",label:"WebSocket",onClick:()=>e("ws")}),h.jsx(s,{iconName:"layers",label:"SSH",onClick:()=>e("ssh")}),h.jsx(s,{iconName:"server",label:"Kubernetes",onClick:()=>e("k8s")}),h.jsx(s,{iconName:"message-square",label:"gRPC",onClick:()=>e("grpc")}),h.jsx(s,{iconName:"layers",label:"CPD",onClick:()=>e("cpd")}),h.jsx(s,{iconName:"database",label:"SQL",onClick:()=>e("sql")})]}),h.jsx("div",{className:"pt-4 border-t border-gray-200"}),h.jsx("div",{className:"px-2 text-xs uppercase text-gray-500 tracking-wide",children:"System"}),h.jsx("div",{className:"space-y-1",children:h.jsx(s,{iconName:"gear",label:"Settings",onClick:()=>{}})})]})}const NS={sm:"h-8 px-3 text-[12px] leading-4",md:"h-10 px-4 text-base leading-6",lg:"h-12 px-5 text-base leading-6"},RS="inline-flex items-center justify-center rounded-[4px] font-semibold select-none disabled:opacity-50 disabled:cursor-not-allowed transition-colors",LS={primary:"bg-swarco-blue-800 text-white hover:bg-swarco-blue-600 active:bg-swarco-blue-400 focus:outline-none focus:ring-2 focus:ring-swarco-blue-200",secondary:"border border-gray-300 text-swarco-blue-800 bg-white hover:bg-gray-50 active:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-swarco-blue-200"};function De({variant:e="primary",size:t="md",className:s="",children:i,leftIcon:r,rightIcon:a,leftEl:m=null,rightEl:n=null,...c}){return h.jsxs("button",{className:[RS,LS[e],NS[t],s].join(" "),...c,children:[m||(r?h.jsx(r,{size:16,className:"mr-2"}):null),i,n||(a?h.jsx(a,{size:16,className:"ml-2"}):null)]})}function OS({text:e,children:t}){return h.jsxs("span",{className:"relative group inline-flex items-center",children:[t,h.jsx("span",{className:"pointer-events-none absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block bg-swarco-grey-900 text-white text-[12px] leading-4 px-2 py-1 rounded",children:e})]})}const bu="unicon_token_v1",xg="unicon_roles_v1";function Cg(e,t=[]){try{localStorage.setItem(bu,e)}catch{}try{localStorage.setItem(xg,JSON.stringify(t))}catch{}}function Sn(){try{return localStorage.getItem(bu)||null}catch{return null}}function MS(){try{localStorage.removeItem(bu)}catch{}try{localStorage.removeItem(xg)}catch{}}const cl="/unicon/api";async function ts(e,t){const s=Sn(),i=await fetch(`${cl}${e}`,{method:"POST",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}},body:JSON.stringify(t??{})}),r=await i.json().catch(()=>({}));if(!i.ok||(r==null?void 0:r.success)===!1){const a=(r==null?void 0:r.error)||i.statusText;throw new Error(a)}return r}async function Pa(e){const t=Sn(),s=await fetch(`${cl}${e}`,{headers:t?{Authorization:`Bearer ${t}`}:void 0}),i=await s.json().catch(()=>({}));if(!s.ok||(i==null?void 0:i.success)===!1){const r=(i==null?void 0:i.error)||s.statusText;throw new Error(r)}return i}async function xn(){return Pa("/connections")}async function wg(e){return ts("/connections",e)}async function Eg(e){return fetch(`${cl}/connections/${e}`,{method:"DELETE"}).then(t=>t.json())}async function Ag(e,t){const s=Sn(),i=await fetch(`${cl}/connections/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}},body:JSON.stringify(t||{})}),r=await i.json().catch(()=>({}));if(!i.ok||(r==null?void 0:r.success)===!1){const a=(r==null?void 0:r.error)||i.statusText;throw new Error(a)}return r}async function Qi(e){return ts("/connect",{connectionId:e})}async function Zi(e){return ts("/disconnect",{connectionId:e})}async function Pe(e,t,s={}){return ts("/operation",{connectionId:e,operation:t,params:s})}const BS=Object.freeze(Object.defineProperty({__proto__:null,apiGet:Pa,apiPost:ts,connectConnection:Qi,createConnection:wg,deleteConnection:Eg,disconnectConnection:Zi,listConnections:xn,op:Pe,updateConnection:Ag},Symbol.toStringTag,{value:"Module"}));function HS({status:e="disconnected"}){const t=e==="connected"?"bg-green-500":e==="connecting"?"bg-amber-500":e==="error"?"bg-red-500":"bg-gray-300";return h.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${t}`,"aria-hidden":"true"})}function ci({connection:e,name:t,type:s,status:i,id:r,className:a=""}){const m=e||{},n=t||m.name||"No connection selected",c=s||m.type,v=i||m.status||(n==="No connection selected"?"disconnected":void 0),_=r||m.id?String(r||m.id).slice(0,8):null,d=n==="No connection selected";return h.jsxs("div",{className:`inline-flex items-center gap-2 px-2.5 py-1.5 rounded-md border text-xs ${d?"text-gray-500 border-gray-200 bg-gray-50":"text-gray-700 border-gray-200 bg-white"} ${a}`,role:"status","aria-label":"Connection in use",children:[!d&&h.jsx(HS,{status:v}),h.jsx("span",{className:"font-medium",children:n}),c?h.jsx("span",{className:"uppercase text-[10px] tracking-wide text-gray-500",children:c}):null,_?h.jsxs("span",{className:"font-mono text-gray-400",children:["#",_]}):null,v?h.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded ${v==="connected"?"bg-green-50 text-green-700":v==="connecting"?"bg-amber-50 text-amber-700":v==="error"?"bg-red-50 text-red-700":"bg-gray-50 text-gray-600"}`,children:v}):null]})}function zS({onNewConnection:e,activeTab:t}){var c,v;const[s,i]=we.useState(null);we.useEffect(()=>{Sn()&&Pa("/me").then(d=>i(d.user)).catch(()=>{})},[]);const[r,a]=we.useState(null);we.useEffect(()=>{const _=(t==null?void 0:t.params)||{};if(_.connection&&typeof _.connection=="object"){a(_.connection);return}if(_.connectionId){let d=!0;return Pa("/connections").then(g=>{const C=(g.connections||[]).find(x=>x.id===_.connectionId)||null;d&&a(C)}).catch(()=>a(null)),()=>{d=!1}}a(null)},[t==null?void 0:t.id,(c=t==null?void 0:t.params)==null?void 0:c.connectionId]);const[m,n]=we.useState(!1);return we.useEffect(()=>{function _(d){const g=document.getElementById("account-menu"),b=document.getElementById("account-menu-button");m&&g&&!g.contains(d.target)&&b&&!b.contains(d.target)&&n(!1)}return document.addEventListener("click",_),()=>document.removeEventListener("click",_)},[m]),h.jsxs("header",{className:"h-14 border-b border-gray-200 bg-white px-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:"/unicon/brand/swarco.svg",alt:"Swarco",className:"h-6"}),h.jsx("div",{className:"font-semibold text-swarco-grey-900",children:"Unicon"})]}),h.jsxs("div",{className:"flex items-center gap-3 relative",children:[h.jsx(ci,{connection:r||void 0}),h.jsx(De,{variant:"secondary",size:"md",leftEl:h.jsx(ia,{name:"plus",size:16,className:"mr-2"}),onClick:e,children:"New Connection"}),h.jsx(OS,{text:"Help",children:h.jsx("button",{className:"p-2 text-swarco-grey-800 hover:text-swarco-grey-900","aria-label":"Help",children:h.jsx(ia,{name:"circle-question",size:18})})}),h.jsxs("div",{className:"flex items-center gap-2",children:[s!=null&&s.avatar?h.jsx("img",{src:s.avatar,alt:"avatar",className:"h-8 w-8 rounded-full border"}):h.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-xs text-gray-600",children:s!=null&&s.email?(v=s.email[0])==null?void 0:v.toUpperCase():"?"}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{id:"account-menu-button",className:"p-2 text-swarco-grey-800 hover:text-swarco-grey-900","aria-haspopup":"menu","aria-expanded":m,"aria-controls":"account-menu",onClick:()=>n(_=>!_),children:h.jsx(ia,{name:"chevron-down",size:16})}),m&&h.jsxs("div",{id:"account-menu",role:"menu",className:"absolute right-0 mt-2 w-56 bg-white border rounded shadow",children:[h.jsx("div",{className:"px-3 py-2 text-sm text-gray-700 border-b",children:(s==null?void 0:s.email)||"Signed in"}),h.jsxs("div",{className:"px-3 py-2 text-xs text-gray-500",children:["Provider: ",(s==null?void 0:s.provider)||""]}),(s==null?void 0:s.provider)&&h.jsxs("button",{role:"menuitem",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:async()=>{try{const _=localStorage.getItem("unicon_token_v1");await fetch(`/unicon/api/auth/oauth/${s.provider}`,{method:"DELETE",headers:_?{Authorization:`Bearer ${_}`}:{}}),location.reload()}catch{}},children:["Disconnect ",s.provider]}),h.jsx("button",{role:"menuitem",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:async()=>{const _=prompt("Language code (en/de):","en");if(_)try{await fetch("/unicon/api/settings/language",{method:"POST",headers:{"Content-Type":"application/json",...localStorage.getItem("unicon_token_v1")?{Authorization:`Bearer ${localStorage.getItem("unicon_token_v1")}`}:{}},body:JSON.stringify({lang:_})})}catch{}},children:"Language"}),h.jsx("button",{role:"menuitem",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",onClick:()=>{MS(),location.replace("/unicon/")},children:"Logout"})]})]})]})]})]})}function US({tabs:e,activeTabId:t,onActivate:s,onClose:i,onCloseAll:r}){return h.jsxs("div",{className:"h-10 border-b border-gray-200 bg-white px-2 flex items-end",children:[h.jsx("div",{className:"flex gap-1 overflow-x-auto flex-1",children:e.map(a=>h.jsxs("button",{onClick:()=>s(a.id),className:`group h-8 px-3 inline-flex items-center gap-2 rounded-t-md border border-b-0 ${a.id===t?"bg-white border-gray-200 text-swarco-blue-800 border-b-swarco-blue-800":"bg-gray-100 text-swarco-grey-600 border-gray-200 hover:bg-gray-200"}`,title:a.title,children:[h.jsx("span",{className:"text-sm whitespace-nowrap",children:a.title}),h.jsx("span",{className:"opacity-50 group-hover:opacity-100",onClick:m=>{m.stopPropagation(),i(a.id)},children:h.jsx(ra,{size:14})})]},a.id))}),e.length>0&&h.jsx("button",{className:"ml-2 h-8 w-8 flex items-center justify-center rounded border border-gray-200 text-swarco-grey-700 hover:bg-gray-100",title:"Close all tabs","aria-label":"Close all tabs",onClick:()=>r&&r(),children:h.jsx(Hg,{size:16})})]})}function PS({tabs:e,activeTabId:t,registry:s,openTab:i}){const r=G.useMemo(()=>e.find(n=>n.id===t)||null,[e,t]);if(!r)return h.jsx("main",{className:"flex-1 bg-white flex items-center justify-center text-gray-500",children:"No tabs open"});const a=s[r.kind];if(!a)return h.jsx("main",{className:"flex-1 bg-white flex items-center justify-center text-gray-500",children:"Unknown tab"});const m=a.component;return h.jsx("main",{className:"flex-1 bg-white p-4 overflow-auto",children:h.jsx(m,{...r.params||{},openTab:i})})}function jg({children:e,htmlFor:t}){return h.jsx("label",{htmlFor:t,className:"block text-[16px] leading-6 font-semibold text-swarco-grey-900 mb-1",children:e})}function Dg({children:e,tone:t="default"}){const s=t==="error"?"text-swarco-red-500":"text-swarco-grey-600";return h.jsx("div",{className:`mt-1 text-[12px] leading-4 ${s}`,children:e})}function Dt({id:e,label:t,error:s,helper:i,className:r="",...a}){return h.jsxs("div",{className:r,children:[t?h.jsx(jg,{htmlFor:e,children:t}):null,h.jsx("input",{id:e,className:`h-10 w-full rounded-[4px] border px-3 text-[16px] leading-6 placeholder-swarco-grey-400 focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600
          ${s?"border-swarco-red-500":"border-swarco-grey-400"}`,...a}),i?h.jsx(Dg,{tone:s?"error":"default",children:i}):null]})}function IS({id:e,label:t,error:s,helper:i,className:r="",children:a,...m}){return h.jsxs("div",{className:r,children:[t?h.jsx(jg,{htmlFor:e,children:t}):null,h.jsx("select",{id:e,className:`h-10 w-full rounded-[4px] border px-3 text-[16px] leading-6 focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600
          ${s?"border-swarco-red-500":"border-swarco-grey-400"}`,...m,children:a}),i?h.jsx(Dg,{tone:s?"error":"default",children:i}):null]})}const qS=({connection:e})=>{const[t,s]=G.useState("request"),[i,r]=G.useState({method:"GET",endpoint:"/",headers:{},body:"",params:{}}),[a,m]=G.useState(null),[n,c]=G.useState([]),[v,_]=G.useState(!1),[d,g]=G.useState([{key:"",value:""}]),[b,C]=G.useState(!1),[x,u]=G.useState(""),[o,l]=G.useState([]),[f,p]=G.useState("idle"),[y,w]=G.useState(""),[E,S]=G.useState([]),A="/unicon/api",T=["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"];async function R(){if(x){if(!e||e.status!=="connected"){alert("Nicht mit Server verbunden");return}p("loading");try{const N=await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"loadOpenApi",params:{openApiUrl:x}})}),F=await N.json();if(!N.ok||(F==null?void 0:F.success)===!1)throw new Error((F==null?void 0:F.error)||"Load failed");await O(),p("loaded")}catch(N){console.error(N),p("error"),alert(N.message||"Load failed")}}}async function k(N){if(N){if(!e||e.status!=="connected"){alert("Nicht mit Server verbunden");return}p("loading");try{const F=new FormData;F.append("openApiFile",N);const K=await fetch(`${A}/upload-openapi`,{method:"POST",body:F}),V=await K.json();if(!K.ok||(V==null?void 0:V.success)===!1)throw new Error((V==null?void 0:V.error)||"Upload failed");const D=await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"loadOpenApi",params:{openApiFile:V.filename||N.name}})}),z=await D.json();if(!D.ok||(z==null?void 0:z.success)===!1)throw new Error((z==null?void 0:z.error)||"Load failed");await O(),p("loaded")}catch(F){console.error(F),p("error"),alert(F.message||"Upload failed")}}}async function O(N=null){var F;if(!(!e||e.status!=="connected"))try{const V=await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"getEndpoints",params:{tag:N}})})).json();V!=null&&V.success&&Array.isArray((F=V.data)==null?void 0:F.endpoints)&&l(V.data.endpoints)}catch{}}function q(N,F=0){var V;if(!N||F>6)return null;if(N.example!==void 0)return N.example;if(N.default!==void 0)return N.default;const K=N.type;if(K==="object"||N.properties&&!K){const D={},z=N.properties||{};for(const $ of Object.keys(z))D[$]=q(z[$],F+1);return D}return K==="array"||N.items?[q(N.items||{},F+1)]:K==="string"?((V=N.enum)==null?void 0:V[0])||"string":K==="number"||K==="integer"?0:K==="boolean"?!0:null}const W=async()=>{if(!e||e.status!=="connected"){alert("Nicht mit Server verbunden");return}_(!0),m(null);try{const N={};d.forEach(D=>{D.key&&D.value&&(N[D.key]=D.value)});const F={connectionId:e.id,operation:"request",params:{method:i.method,endpoint:i.endpoint,data:i.body?JSON.parse(i.body):null,headers:N}},V=await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).json();if(V.success){const D={...V.data,timestamp:new Date().toISOString(),request:{...i,headers:N}};m(D),c(z=>[D,...z.slice(0,49)]);for(const z of E)try{if(z.type==="download"){const $=new Blob([JSON.stringify(D.data,null,2)],{type:"application/json"}),H=document.createElement("a");H.href=URL.createObjectURL($),H.download=z.filename||"response.json",document.body.appendChild(H),H.click(),H.remove()}else z.type==="followup"&&await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"request",params:{method:z.method||"GET",endpoint:z.endpoint||"/",data:null,headers:{}}})})).json().catch(()=>({}))}catch{}}else throw new Error(V.error||"Request failed")}catch(N){console.error("Request error:",N),m({status:0,statusText:"Error",data:{error:N.message},timestamp:new Date().toISOString(),request:{...i}})}finally{_(!1)}},P=()=>{g(N=>[...N,{key:"",value:""}])},I=(N,F,K)=>{g(V=>V.map((D,z)=>z===N?{...D,[F]:K}:D))},j=N=>{g(F=>F.filter((K,V)=>V!==N))},L=N=>{r(N.request);const F=Object.entries(N.request.headers||{});g(F.length>0?F.map(([K,V])=>({key:K,value:V})):[{key:"",value:""}])},B=N=>{try{return JSON.stringify(N,null,2)}catch{return String(N)}},M=N=>{navigator.clipboard.writeText(N)},Y=N=>N>=200&&N<300?"text-green-600 bg-green-100":N>=300&&N<400?"text-blue-600 bg-blue-100":N>=400&&N<500?"text-orange-600 bg-orange-100":N>=500?"text-red-600 bg-red-100":"text-gray-600 bg-gray-100";return h.jsxs("div",{className:"h-full flex flex-col",children:[e?h.jsx("div",{className:"mb-3",children:h.jsx(ci,{connection:e})}):null,h.jsx("div",{className:"border-b border-gray-200 mb-6",children:h.jsx("nav",{className:"flex space-x-8",children:["request","response","history"].map(N=>h.jsxs("button",{onClick:()=>s(N),className:`py-2 px-1 border-b-2 font-medium text-sm ${t===N?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[N==="request"&&"Request",N==="response"&&"Response",N==="history"&&`History (${n.length})`]},N))})}),t==="request"&&h.jsxs("div",{className:"flex-1 space-y-6",children:[h.jsxs("div",{className:"bg-gray-50 border rounded p-3",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(yu,{size:14}),h.jsx("div",{className:"text-sm font-medium",children:"OpenAPI / Swagger"})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.jsx("label",{className:"text-sm",children:"Upload:"}),h.jsx("input",{type:"file",accept:".json,.yaml,.yml",onChange:N=>{var F;return((F=N.target.files)==null?void 0:F[0])&&k(N.target.files[0])}}),h.jsx("span",{className:"text-xs text-gray-500",children:f==="loaded"?"Spec loaded":f==="loading"?"Loading":""})]}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx(zg,{size:14}),h.jsx("input",{className:"flex-1 border rounded px-2 py-1 text-sm",placeholder:"https://host/openapi.json",value:x,onChange:N=>u(N.target.value)}),h.jsx(De,{size:"sm",onClick:R,children:"Load"}),h.jsx(De,{size:"sm",variant:"secondary",onClick:()=>O(),children:"Refresh endpoints"})]}),o.length>0&&h.jsx("div",{className:"mt-2 max-h-40 overflow-auto border rounded",children:o.map((N,F)=>h.jsxs("button",{className:"w-full text-left px-2 py-1 hover:bg-gray-100 text-sm flex items-center gap-2",title:N.summary||"",onClick:()=>{r(K=>({...K,method:N.method,endpoint:N.path})),s("request")},children:[h.jsx("span",{className:"px-1 py-0.5 rounded text-[11px] font-mono bg-gray-200",children:N.method}),h.jsx("span",{className:"font-mono text-[12px]",children:N.path}),N.summary&&h.jsxs("span",{className:"text-xs text-gray-500",children:[" ",N.summary]})]},F))}),h.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[h.jsx(yu,{size:14}),h.jsx("div",{className:"text-sm font-medium",children:"JSON Schema  Body"}),h.jsx("input",{type:"file",accept:".json",onChange:async N=>{var K;const F=(K=N.target.files)==null?void 0:K[0];if(F)try{const V=await F.text(),D=JSON.parse(V),z=q(D);w(JSON.stringify(z,null,2))}catch{alert("Invalid JSON schema")}}}),y&&h.jsx(De,{size:"sm",onClick:()=>r(N=>({...N,method:["POST","PUT","PATCH"].includes(N.method)?N.method:"POST",body:y})),children:"Insert to body"})]}),y&&h.jsx("pre",{className:"mt-2 bg-gray-900 text-green-400 p-2 rounded text-xs max-h-40 overflow-auto",children:y})]}),h.jsxs("div",{className:"flex space-x-3 mt-4",children:[h.jsx(IS,{value:i.method,onChange:N=>r(F=>({...F,method:N.target.value})),className:"w-32","aria-label":"HTTP Method",children:T.map(N=>h.jsx("option",{value:N,children:N},N))}),h.jsx(Dt,{value:i.endpoint,onChange:N=>r(F=>({...F,endpoint:N.target.value})),placeholder:"/api/endpoint","aria-label":"Endpoint",className:"flex-1"}),h.jsx(De,{onClick:W,disabled:v||(e==null?void 0:e.status)!=="connected",leftEl:v?h.jsx("span",{className:"mr-2",children:h.jsx("span",{className:"sr-only",children:"Loading"})}):h.jsx(Un,{size:16,className:"mr-2"}),children:"Send"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Headers"}),h.jsx(De,{variant:"secondary",size:"sm",onClick:P,leftEl:h.jsx(Af,{size:14,className:"mr-1"}),children:"Add Header"})]}),h.jsx("div",{className:"space-y-2",children:d.map((N,F)=>h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Dt,{value:N.key,onChange:K=>I(F,"key",K.target.value),placeholder:"Header Name",className:"flex-1"}),h.jsx(Dt,{value:N.value,onChange:K=>I(F,"value",K.target.value),placeholder:"Header Value",className:"flex-1"}),h.jsx("button",{onClick:()=>j(F),className:"p-2 text-gray-400 hover:text-red-500",children:h.jsx(na,{size:14})})]},F))})]}),["POST","PUT","PATCH"].includes(i.method)&&h.jsxs("div",{className:"space-y-3",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Request Body"}),h.jsx("textarea",{value:i.body,onChange:N=>r(F=>({...F,body:N.target.value})),placeholder:'{"key": "value"}',rows:8,className:"w-full px-3 py-2 border border-swarco-grey-400 rounded-md font-mono text-sm focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600"}),h.jsx("div",{className:"text-xs text-gray-500",children:"JSON format expected. Will be parsed automatically."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Post actions"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(De,{size:"sm",variant:"secondary",onClick:()=>S(N=>[...N,{type:"download",filename:"response.json"}]),leftEl:h.jsx(Ug,{size:14,className:"mr-1"}),children:"Save as file"}),h.jsx(De,{size:"sm",variant:"secondary",onClick:()=>S(N=>[...N,{type:"followup",method:"GET",endpoint:"/"}]),leftEl:h.jsx(Pg,{size:14,className:"mr-1"}),children:"Add follow-up"})]})]}),E.length>0&&h.jsx("div",{className:"space-y-1",children:E.map((N,F)=>h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs font-mono",children:N.type}),N.type==="download"&&h.jsx("input",{className:"border rounded px-2 py-1 text-xs",placeholder:"filename",value:N.filename||"",onChange:K=>S(V=>V.map((D,z)=>z===F?{...D,filename:K.target.value}:D))}),N.type==="followup"&&h.jsxs(h.Fragment,{children:[h.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:N.method,onChange:K=>S(V=>V.map((D,z)=>z===F?{...D,method:K.target.value}:D)),children:T.map(K=>h.jsx("option",{value:K,children:K},K))}),h.jsx("input",{className:"border rounded px-2 py-1 text-xs flex-1",placeholder:"/path",value:N.endpoint,onChange:K=>S(V=>V.map((D,z)=>z===F?{...D,endpoint:K.target.value}:D))})]}),h.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>S(K=>K.filter((V,D)=>D!==F)),children:h.jsx(na,{size:14})})]},F))})]})]}),t==="response"&&h.jsx("div",{className:"flex-1",children:a?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Response Info"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>C(!b),className:"inline-flex items-center px-2 py-1 text-xs text-gray-600 hover:text-gray-800",children:[b?h.jsx(Ig,{size:12,className:"mr-1"}):h.jsx(qg,{size:12,className:"mr-1"}),b?"Formatted":"Raw"]}),h.jsxs("button",{onClick:()=>M(B(a.data)),className:"inline-flex items-center px-2 py-1 text-xs text-gray-600 hover:text-gray-800",children:[h.jsx(jf,{size:12,className:"mr-1"}),"Copy"]})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Status:"}),h.jsxs("span",{className:`ml-2 px-2 py-1 rounded text-xs font-mono ${Y(a.status)}`,children:[a.status," ",a.statusText]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Time:"}),h.jsx("span",{className:"ml-2 font-mono",children:new Date(a.timestamp).toLocaleTimeString()})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Size:"}),h.jsxs("span",{className:"ml-2 font-mono",children:[JSON.stringify(a.data).length," bytes"]})]})]})]}),a.headers&&Object.keys(a.headers).length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Response Headers"}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:h.jsx("div",{className:"space-y-1 text-sm font-mono",children:Object.entries(a.headers).map(([N,F])=>h.jsxs("div",{className:"flex",children:[h.jsxs("span",{className:"text-gray-600 w-32 flex-shrink-0",children:[N,":"]}),h.jsx("span",{className:"text-gray-800",children:F})]},N))})})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Response Body"}),h.jsx("div",{className:"bg-gray-900 text-green-400 rounded-lg p-4 font-mono text-sm overflow-auto max-h-96",children:b?h.jsx("pre",{children:JSON.stringify(a.data)}):h.jsx("pre",{children:B(a.data)})})]})]}):h.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Df,{size:48,className:"mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"Keine Response verfgbar"}),h.jsx("p",{className:"text-sm",children:"Senden Sie zuerst einen Request"})]})})}),t==="history"&&h.jsx("div",{className:"flex-1",children:n.length>0?h.jsx("div",{className:"space-y-3",children:n.map((N,F)=>h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>L(N),children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:"px-2 py-1 text-xs font-mono bg-gray-100 rounded",children:N.request.method}),h.jsx("span",{className:"font-mono text-sm text-gray-700",children:N.request.endpoint}),h.jsx("span",{className:`px-2 py-1 text-xs font-mono rounded ${Y(N.status)}`,children:N.status})]}),h.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[h.jsx(Su,{size:12}),h.jsx("span",{children:new Date(N.timestamp).toLocaleString()})]})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[Object.keys(N.request.headers||{}).length>0&&h.jsxs("span",{className:"mr-3",children:[Object.keys(N.request.headers).length," headers"]}),N.request.body&&h.jsxs("span",{children:["Body: ",N.request.body.slice(0,50),"..."]})]})]},F))}):h.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Su,{size:48,className:"mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"Keine Request History"}),h.jsx("p",{className:"text-sm",children:"Ihre Requests werden hier angezeigt"})]})})})]})};function FS(){const[e,t]=we.useState({connected:!1,paused:!1}),[s,i]=we.useState(!0),[r,a]=we.useState(null),[m,n]=we.useState(Date.now()),[c,v]=we.useState(()=>{try{return localStorage.getItem("unicon_ws_paused")==="1"}catch{return!1}});if(we.useEffect(()=>{const C=u=>t(u.detail||{connected:!1});window.addEventListener("unicon-ws-status",C);const x=setInterval(()=>n(Date.now()),500);return()=>{window.removeEventListener("unicon-ws-status",C),clearInterval(x)}},[]),we.useEffect(()=>{const C=async()=>{try{const u=await fetch("/unicon/api/health");i(u.ok),a(new Date)}catch{i(!1),a(new Date)}};C();const x=setInterval(C,1e4);return()=>{clearInterval(x)}},[]),e.connected&&s&&!c)return null;const _=e.nextRetryTs&&!c?Math.max(0,Math.ceil((e.nextRetryTs-m)/1e3)):null,d=()=>{c||window.dispatchEvent(new CustomEvent("unicon-ws-reconnect"))},g=()=>{const C=!c;v(C);try{localStorage.setItem("unicon_ws_paused",C?"1":"0")}catch{}window.dispatchEvent(new CustomEvent("unicon-ws-toggle-pause",{detail:{paused:C}}))},b=async()=>{const C={apiOk:s,wsConnected:e.connected,wsPaused:c,wsError:!!e.error,wsUrl:e.url||null,nextRetryTs:e.nextRetryTs||null,page:typeof location<"u"?location.href:null,ua:typeof navigator<"u"?navigator.userAgent:null,lastHealthCheck:r?r.toISOString():null,ts:new Date().toISOString()};try{await navigator.clipboard.writeText(JSON.stringify(C,null,2))}catch{}};return h.jsxs("div",{className:"bg-amber-50 border-b border-amber-200 text-amber-900 text-sm px-4 py-2 flex items-center gap-3",children:[h.jsx("span",{className:"inline-flex w-2.5 h-2.5 rounded-full bg-amber-500"}),h.jsxs("span",{className:"flex-1",children:["Backend: ",s?"API OK":"API unreachable","  WS ",c?"paused":e.connected?"connected":"disconnected",!c&&_!==null?`  auto-retry in ${_}s`:"",r?`  checked ${r.toLocaleTimeString()}`:""]}),h.jsx("button",{className:"px-2 py-1 border rounded bg-white hover:bg-gray-50",onClick:g,children:c?"Resume WS":"Pause WS"}),h.jsx("button",{className:"px-2 py-1 border rounded bg-white hover:bg-gray-50",onClick:d,disabled:c,title:c?"Resume first to reconnect":"Reconnect WebSocket",children:"Retry"}),h.jsx("button",{className:"px-2 py-1 border rounded bg-white hover:bg-gray-50",onClick:b,children:"Copy diagnostics"})]})}function GS({connection:e}){const[t,s]=G.useState([]),[i,r]=G.useState(null),[a,m]=G.useState(""),[n,c]=G.useState(!1),v=async()=>{if(!(!e||e.status!=="connected")){c(!0);try{const d=await(await fetch("/unicon/api/operation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"browse",params:{nodeId:"RootFolder"}})})).json();d.success&&s(d.nodes||[])}finally{c(!1)}}};return G.useEffect(()=>{(e==null?void 0:e.status)==="connected"&&v()},[e==null?void 0:e.status]),h.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-medium",children:"OPC UA Browser"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(ci,{connection:e}),h.jsx(De,{variant:"secondary",onClick:v,disabled:n,leftEl:h.jsx(ws,{size:16,className:n?"mr-2 animate-spin":"mr-2"}),children:"Refresh"})]})]}),h.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"border rounded p-4",children:[h.jsx("h4",{className:"font-medium mb-3",children:"Nodes"}),t.length?h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:t.map(_=>h.jsxs("div",{onClick:()=>{r(_),m(_.value||"")},className:`p-2 rounded cursor-pointer hover:bg-gray-50 ${(i==null?void 0:i.nodeId)===_.nodeId?"bg-blue-50 border border-blue-200":""}`,children:[h.jsx("div",{className:"font-medium text-sm",children:_.displayName}),h.jsx("div",{className:"text-xs text-gray-500",children:_.nodeId})]},_.nodeId))}):h.jsxs("div",{className:"text-center text-gray-500 py-8",children:[h.jsx(aa,{size:32,className:"mx-auto mb-2 opacity-50"}),h.jsx("p",{className:"text-sm",children:"No nodes available"})]})]}),h.jsxs("div",{className:"border rounded p-4",children:[h.jsx("h4",{className:"font-medium mb-3",children:"Node Operations"}),i?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Node ID"}),h.jsx(Dt,{value:i.nodeId,readOnly:!0,className:"w-full"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1",children:"Value"}),h.jsx(Dt,{value:a,onChange:_=>m(_.target.value),className:"w-full"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(De,{variant:"secondary",className:"flex-1",children:"Read"}),h.jsx(De,{className:"flex-1",children:"Write"})]})]}):h.jsxs("div",{className:"text-center text-gray-500 py-8",children:[h.jsx(Fg,{size:32,className:"mx-auto mb-2 opacity-50"}),h.jsx("p",{className:"text-sm",children:"Select a node to perform operations"})]})]})]})]})}function KS({connection:e}){const[t,s]=G.useState(""),[i,r]=G.useState([]),[a,m]=G.useState(!0),[n,c]=G.useState((e==null?void 0:e.status)||"disconnected");G.useEffect(()=>{const _=d=>{var b;const g=d.detail||{};try{(g==null?void 0:g.type)==="ws"&&((b=g==null?void 0:g.data)==null?void 0:b.connectionId)===(e==null?void 0:e.id)&&(g.data.event==="message"?r(C=>[...C,{type:"received",content:g.data.data,timestamp:new Date}]):g.data.event==="connected"?c("connected"):g.data.event==="closed"&&(c("disconnected"),a&&(e!=null&&e.id)&&fetch("/unicon/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id})}).catch(()=>{})))}catch{}};return window.addEventListener("unicon-ws",_),()=>window.removeEventListener("unicon-ws",_)},[e==null?void 0:e.id,a]);const v=async()=>{if(!(!t.trim()||!e||n!=="connected"))try{await fetch("/unicon/api/operation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"send",params:{message:t}})}),r(_=>[..._,{type:"sent",content:t,timestamp:new Date}]),s("")}catch(_){console.error("Send error:",_)}};return h.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-medium",children:"WebSocket Client"}),h.jsx(ci,{connection:e,status:n})]}),h.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[h.jsxs("span",{children:["Status: ",n]}),h.jsxs("label",{className:"flex items-center gap-1",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:_=>m(_.target.checked)}),"Auto-reconnect"]}),h.jsx(De,{variant:"secondary",disabled:n==="connected",onClick:()=>fetch("/unicon/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id})}),children:"Connect"}),h.jsx(De,{variant:"secondary",disabled:n!=="connected",onClick:()=>fetch("/unicon/api/disconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id})}),children:"Disconnect"})]}),h.jsxs("div",{className:"flex-1 border border-gray-200 rounded-lg p-4",children:[h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto mb-4",children:i.map((_,d)=>h.jsxs("div",{className:`p-2 rounded ${_.type==="sent"?"bg-blue-50 border-l-4 border-blue-500":"bg-green-50 border-l-4 border-green-500"}`,children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:_.timestamp.toLocaleTimeString()}),h.jsx("div",{className:"font-mono text-sm",children:_.content})]},d))}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Dt,{value:t,onChange:_=>s(_.target.value),placeholder:"Enter message...",className:"flex-1",onKeyDown:_=>_.key==="Enter"&&v()}),h.jsx(De,{onClick:v,children:"Send"})]})]})]})}function WS({connectionId:e}){const[t,s]=G.useState("localhost:50051"),[i]=G.useState(e||null),[r,a]=G.useState(""),[m,n]=G.useState(""),[c,v]=G.useState(""),[_,d]=G.useState(""),[g,b]=G.useState("{}"),[C,x]=G.useState(null);async function u(){try{const l=i||await o(),p=await(await fetch("/unicon/api/operation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:l,operation:"unary",params:{method:_,request:JSON.parse(g||"{}")}})})).json();x(p)}catch(l){x({error:l.message})}}async function o(){if(i)return i;const f=(await fetch("/unicon/api/connections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`grpc:${t}`,type:"grpc",config:{address:t,proto:r,package:m,service:c}})}).then(p=>p.json())).connection.id;return await fetch("/unicon/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:f})}),f}return h.jsxs("div",{className:"p-4 space-y-3",children:[h.jsx("h3",{className:"text-lg font-medium",children:"gRPC Workspace"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx("div",{children:h.jsx(Dt,{label:"Address",value:t,onChange:l=>s(l.target.value),placeholder:"localhost:50051"})}),h.jsx("div",{children:h.jsx(Dt,{label:"Package",value:m,onChange:l=>n(l.target.value),placeholder:"my.package"})}),h.jsx("div",{children:h.jsx(Dt,{label:"Service",value:c,onChange:l=>v(l.target.value),placeholder:"MyService"})}),h.jsx("div",{children:h.jsx(Dt,{label:"Method",value:_,onChange:l=>d(l.target.value),placeholder:"SayHello"})})]}),h.jsx("div",{children:h.jsx(Dt,{label:"Proto (path under server/proto or absolute)",value:r,onChange:l=>a(l.target.value),placeholder:"helloworld.proto"})}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-swarco-grey-900 mb-1",children:"Payload (JSON)"}),h.jsx("textarea",{className:"w-full border border-swarco-grey-400 rounded px-3 py-2 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600",rows:6,value:g,onChange:l=>b(l.target.value)})]}),h.jsx(De,{onClick:u,children:"Call Unary"}),C&&h.jsx("div",{className:"text-sm bg-gray-50 border rounded p-3 mt-2",children:h.jsx("pre",{children:JSON.stringify(C,null,2)})})]})}const YS=({connection:e})=>{var K,V,D,z,$;const[t,s]=G.useState("topics"),[i,r]=G.useState([]),[a,m]=G.useState(""),[n,c]=G.useState([]),[v,_]=G.useState('{"value": 23.5, "unit": "C", "timestamp": "'+new Date().toISOString()+'"}'),[d,g]=G.useState(`sw.sensor.#
sw.assets.#`),[b,C]=G.useState([]),[x,u]=G.useState("sw.*"),[o,l]=G.useState(!1),[f,p]=G.useState("test"),[y,w]=G.useState("publish"),[E,S]=G.useState({storeAll:!1,flatSubscribe:!0,sendInitialData:!0,aggrMode:0}),A="/unicon/api",T=[{value:"publish",label:"Publish (FullFull)",description:"Standard publish"},{value:"publishUpdate",label:"Publish Update",description:"Merge partial data"},{value:"deltaPublish",label:"Delta Publish",description:"Changes only"},{value:"publishDeltaToDelta",label:"DeltaDelta",description:"Performance optimized"},{value:"publishDeltaToFull",label:"DeltaFull",description:"Merge delta to full"},{value:"publishFullToDelta",label:"FullDelta",description:"Extract changes"},{value:"sendTopic",label:"Send Topic",description:"No storage/management"}],R=async()=>{var H;if(!(!e||e.status!=="connected")){l(!0);try{const Z=await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"ping",params:{message:f}})})).json();Z.success?j("ping",`Ping response: ${((H=Z.data)==null?void 0:H.msg)||"OK"}`,null,Z.data):j("error",`Ping failed: ${Z.error}`,null,null)}catch(J){console.error("Ping error:",J),j("error",`Ping error: ${J.message}`,null,null)}finally{l(!1)}}},k=async()=>{var H;if(!(!e||e.status!=="connected")){l(!0);try{const Z=await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"browseTopics",params:{topicPattern:x,limit:100,beginTopicName:"",reverse:!1}})})).json();Z.success?(r(Z.topicNames||[]),j("browse",`Found ${((H=Z.topicNames)==null?void 0:H.length)||0} topics`,null,Z.topicNames)):j("error",`Browse failed: ${Z.error}`,null,null)}catch(J){console.error("Browse error:",J),j("error",`Browse error: ${J.message}`,null,null)}finally{l(!1)}}},O=async()=>{if(!e||e.status!=="connected"||!d.trim())return;const H=Date.now();l(!0);try{const J=d.split(`
`).map(U=>U.trim()).filter(U=>U),ne=await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"subscribe",params:{id:H,topicPatterns:J,config:E}})})).json();ne.success?(c(U=>[...U,{id:H,patterns:J,config:E,timestamp:new Date,messageCount:0}]),j("subscribe",`Subscribed to ${J.length} patterns`,null,{id:H,patterns:J})):j("error",`Subscribe failed: ${ne.error}`,null,null)}catch(J){console.error("Subscribe error:",J),j("error",`Subscribe error: ${J.message}`,null,null)}finally{l(!1)}},q=async()=>{if(!e||e.status!=="connected"||!d.trim())return;const H=Date.now();l(!0);try{const J=d.split(`
`).map(U=>U.trim()).filter(U=>U),ne=await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"simpleSubscribe",params:{id:H,topicPatterns:J}})})).json();ne.success?(c(U=>[...U,{id:H,patterns:J,config:{simple:!0},timestamp:new Date,messageCount:0}]),j("subscribe",`Simple subscribed to ${J.length} patterns`,null,{id:H,patterns:J})):j("error",`Simple subscribe failed: ${ne.error}`,null,null)}catch(J){console.error("Simple subscribe error:",J),j("error",`Simple subscribe error: ${J.message}`,null,null)}finally{l(!1)}},W=async H=>{if(!(!e||e.status!=="connected"))try{const Z=await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"unsubscribe",params:{id:H}})})).json();Z.success?(c(ne=>ne.filter(U=>U.id!==H)),j("unsubscribe",`Unsubscribed from ID: ${H}`,null,{id:H})):j("error",`Unsubscribe failed: ${Z.error}`,null,null)}catch(J){console.error("Unsubscribe error:",J),j("error",`Unsubscribe error: ${J.message}`,null,null)}},P=async()=>{if(!(!e||e.status!=="connected"||!a.trim())){l(!0);try{let H;try{H=JSON.parse(v)}catch{H=v}const Z=await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:y,params:{topic:a,data:H}})})).json();Z.success?j("publish",`Published (${y}) to: ${a}`,a,H):j("error",`Publish failed: ${Z.error}`,a,null)}catch(H){console.error("Publish error:",H),j("error",`Publish error: ${H.message}`,a,null)}finally{l(!1)}}},I=async()=>{if(!(!e||e.status!=="connected")){l(!0);try{const H=d.split(`
`).map(ne=>ne.trim()).filter(ne=>ne),Z=await(await fetch(`${A}/operation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e.id,operation:"getLatestData",params:{topicPatterns:H}})})).json();Z.success?j("latestData",`Retrieved latest data for ${H.length} patterns`,null,Z.data):j("error",`Get latest data failed: ${Z.error}`,null,null)}catch(H){console.error("Get latest data error:",H),j("error",`Get latest data error: ${H.message}`,null,null)}finally{l(!1)}}},j=(H,J,Z=null,ne=null)=>{const U={id:Date.now()+Math.random(),type:H,message:J,topic:Z,data:ne,timestamp:new Date};C(Q=>[U,...Q.slice(0,99)])},L=H=>{navigator.clipboard.writeText(H).then(()=>{j("info","Copied to clipboard",null,null)})},B=()=>{C([])},M=H=>{if(typeof H=="string")try{return JSON.stringify(JSON.parse(H),null,2)}catch{return H}return JSON.stringify(H,null,2)},Y=H=>{switch(H){case"ping":return h.jsx(Pn,{className:"text-yellow-500",size:14});case"subscribe":return h.jsx(or,{className:"text-green-500",size:14});case"unsubscribe":return h.jsx(xu,{className:"text-orange-500",size:14});case"publish":return h.jsx(Un,{className:"text-blue-500",size:14});case"received":return h.jsx(Jl,{className:"text-purple-500",size:14});case"browse":return h.jsx(hl,{className:"text-teal-500",size:14});case"latestData":return h.jsx(aa,{className:"text-indigo-500",size:14});case"error":return h.jsx(Wg,{className:"text-red-500",size:14});case"info":return h.jsx(Kg,{className:"text-gray-500",size:14});default:return h.jsx(Jl,{className:"text-gray-500",size:14})}},N=H=>{switch(H){case"ping":return"border-l-yellow-500 bg-yellow-50";case"subscribe":return"border-l-green-500 bg-green-50";case"unsubscribe":return"border-l-orange-500 bg-orange-50";case"publish":return"border-l-blue-500 bg-blue-50";case"received":return"border-l-purple-500 bg-purple-50";case"browse":return"border-l-teal-500 bg-teal-50";case"latestData":return"border-l-indigo-500 bg-indigo-50";case"error":return"border-l-red-500 bg-red-50";case"info":return"border-l-gray-300 bg-gray-50";default:return"border-l-gray-300 bg-gray-50"}},F=we.useCallback(H=>{var J,Z,ne;if(((Z=(J=H.data)==null?void 0:J.payload)==null?void 0:Z.type)==="topicChange"){const U=H.data.payload;c(Q=>Q.map(se=>se.id===U.subscriptionId?{...se,messageCount:se.messageCount+1}:se)),(ne=U.topics)==null||ne.forEach(Q=>{j("received","Topic data received",Q.topic,Q.data)})}},[j]);return G.useEffect(()=>{const H=J=>F(J.detail||{});return window.addEventListener("unicon-ws",H),()=>window.removeEventListener("unicon-ws",H)},[F]),h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsx("div",{className:"border-b border-gray-200 mb-6",children:h.jsx("nav",{className:"flex space-x-8",children:["topics","messages","subscriptions","settings"].map(H=>h.jsxs("button",{onClick:()=>s(H),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${t===H?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[H==="topics"&&"Topics & Operations",H==="messages"&&`Messages (${b.length})`,H==="subscriptions"&&`Subscriptions (${n.length})`,H==="settings"&&"Settings"]},H))})}),t==="topics"&&h.jsxs("div",{className:"flex-1 space-y-6",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[h.jsx(Pn,{size:16,className:"mr-2 text-yellow-500"}),"Connection Test"]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("input",{type:"text",value:f,onChange:H=>p(H.target.value),placeholder:"Ping message",className:"flex-1 px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"}),h.jsxs(De,{onClick:R,disabled:o,leftIcon:Pn,children:[o?h.jsx(ws,{size:16,className:"animate-spin"}):null,"Ping"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-medium flex items-center",children:[h.jsx(hl,{size:16,className:"mr-2 text-teal-500"}),"Browse Topics"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"text",value:x,onChange:H=>u(H.target.value),placeholder:"sw.* or sw.sensors.# or specific.topic.name",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"}),h.jsxs(De,{variant:"secondary",className:"w-full",onClick:k,disabled:o,leftIcon:hl,children:[o?h.jsx(ws,{size:16,className:"mr-2 animate-spin"}):null,"Browse Topics"]})]}),i.length>0&&h.jsxs("div",{className:"border border-gray-200 rounded-lg max-h-64 overflow-y-auto",children:[h.jsxs("div",{className:"p-2 bg-gray-50 border-b text-xs font-medium text-gray-600",children:["Found ",i.length," topics"]}),i.map((H,J)=>h.jsx("div",{onClick:()=>m(H),className:`p-2 cursor-pointer hover:bg-gray-50 border-b border-gray-100 last:border-b-0 ${a===H?"bg-teal-50 border-teal-200":""}`,children:h.jsx("span",{className:"font-mono text-sm",children:H})},J))]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-medium flex items-center",children:[h.jsx(Un,{size:16,className:"mr-2 text-blue-500"}),"Publish Data"]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("input",{type:"text",value:a,onChange:H=>m(H.target.value),placeholder:"sw.sensor.temperature.room1",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500"}),h.jsx("select",{value:y,onChange:H=>w(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500",children:T.map(H=>h.jsxs("option",{value:H.value,children:[H.label," - ",H.description]},H.value))}),h.jsx("textarea",{value:v,onChange:H=>_(H.target.value),placeholder:'{"value": 23.5, "unit": "C", "timestamp": "2024-01-01T12:00:00Z"}',rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded text-sm font-mono focus:outline-none focus:ring-1 focus:ring-teal-500"}),h.jsx(De,{className:"w-full",onClick:P,disabled:o||!a.trim(),leftIcon:Un,children:`Publish (${y})`})]})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsxs("h4",{className:"font-medium mb-4 flex items-center",children:[h.jsx(or,{size:16,className:"mr-2 text-green-500"}),"Topic Subscriptions"]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"lg:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic Patterns"}),h.jsx("textarea",{value:d,onChange:H=>g(H.target.value),placeholder:`sw.sensor.#
sw.assets.*
specific.topic.name`,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded text-sm font-mono focus:outline-none focus:ring-1 focus:ring-teal-500"}),h.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Use # for multi-level wildcard, * for single-level wildcard. One pattern per line."})]}),h.jsxs("div",{className:"flex flex-col justify-end space-y-2",children:[h.jsx(De,{onClick:q,disabled:o||!d.trim(),leftIcon:or,children:"Simple Subscribe"}),h.jsx(De,{onClick:O,disabled:o||!d.trim(),leftIcon:or,children:"Advanced Subscribe"}),h.jsx(De,{variant:"secondary",onClick:I,disabled:o||!d.trim(),leftIcon:aa,children:"Get Latest Data"})]})]})]})]}),t==="messages"&&h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium",children:"Message History"}),h.jsx("div",{className:"flex space-x-2",children:h.jsxs("button",{onClick:B,disabled:b.length===0,className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50",children:[h.jsx(na,{size:14,className:"mr-1"}),"Clear"]})})]}),h.jsx("div",{className:"flex-1 border border-gray-200 rounded-lg overflow-hidden",children:h.jsx("div",{className:"h-full overflow-y-auto p-4 space-y-3",children:b.length>0?b.map(H=>h.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${N(H.type)}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[Y(H.type),h.jsx("span",{className:"text-xs font-medium text-gray-600 uppercase",children:H.type}),h.jsx("span",{className:"text-xs text-gray-500",children:H.timestamp.toLocaleTimeString()})]}),H.data&&h.jsx("button",{onClick:()=>L(M(H.data)),className:"p-1 text-gray-400 hover:text-gray-600",children:h.jsx(jf,{size:12})})]}),h.jsx("div",{className:"text-sm text-gray-700 mb-2",children:H.message}),H.topic&&h.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[h.jsx("span",{className:"font-medium",children:"Topic:"})," ",h.jsx("span",{className:"font-mono",children:H.topic})]}),H.data&&h.jsx("div",{className:"text-xs bg-white rounded p-2 border font-mono",children:h.jsx("pre",{className:"whitespace-pre-wrap break-words max-h-32 overflow-y-auto",children:M(H.data)})})]},H.id)):h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Gg,{size:48,className:"mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"Keine Nachrichten"}),h.jsx("p",{className:"text-sm",children:"CPD-Nachrichten werden hier angezeigt"})]})})})})]}),t==="subscriptions"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-medium",children:"Active Subscriptions"}),n.length>0?n.map(H=>h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),h.jsxs("div",{children:[h.jsxs("span",{className:"font-medium",children:["Subscription ID: ",H.id]}),h.jsxs("div",{className:"text-sm text-gray-500",children:["Created: ",H.timestamp.toLocaleString()]})]})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["Messages: ",h.jsx("span",{className:"font-mono font-medium",children:H.messageCount})]}),h.jsxs("button",{onClick:()=>W(H.id),className:"inline-flex items-center px-3 py-1 text-sm text-red-600 hover:text-red-800 border border-red-300 rounded hover:bg-red-50",children:[h.jsx(xu,{size:14,className:"mr-1"}),"Unsubscribe"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Topic Patterns:"}),h.jsx("div",{className:"mt-1 space-y-1",children:H.patterns.map((J,Z)=>h.jsx("div",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:J},Z))})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Configuration:"}),h.jsx("div",{className:"mt-1 text-sm text-gray-600",children:H.config.simple?h.jsx("div",{className:"bg-blue-100 px-2 py-1 rounded",children:"Simple Subscription"}):h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{children:["Store All: ",H.config.storeAll?"Yes":"No"]}),h.jsxs("div",{children:["Flat Subscribe: ",H.config.flatSubscribe?"Yes":"No"]}),h.jsxs("div",{children:["Send Initial: ",H.config.sendInitialData?"Yes":"No"]}),h.jsxs("div",{children:["Aggregation Mode: ",H.config.aggrMode]})]})})]})]})]},H.id)):h.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(or,{size:48,className:"mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"Keine aktiven Subscriptions"}),h.jsx("p",{className:"text-sm",children:"Abonnieren Sie Topics, um Live-Updates zu erhalten"})]})})]}),t==="settings"&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-lg font-medium",children:"CPD Configuration"}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h4",{className:"font-medium mb-3",children:"Connection Information"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-700",children:"Protocol:"}),h.jsx("span",{className:"ml-2",children:((K=e==null?void 0:e.config)==null?void 0:K.protocol)||"Unknown"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-700",children:"Address:"}),h.jsx("span",{className:"ml-2 font-mono",children:((V=e==null?void 0:e.config)==null?void 0:V.protocol)==="grpc"?(D=e==null?void 0:e.config)==null?void 0:D.address:(z=e==null?void 0:e.config)==null?void 0:z.url})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-700",children:"TLS/Security:"}),h.jsx("span",{className:"ml-2",children:($=e==null?void 0:e.config)!=null&&$.useTls?"Enabled":"Disabled"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),h.jsx("span",{className:`ml-2 font-medium ${(e==null?void 0:e.status)==="connected"?"text-green-600":"text-red-600"}`,children:(e==null?void 0:e.status)==="connected"?"Connected":"Disconnected"})]})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h4",{className:"font-medium mb-3",children:"Default Subscription Configuration"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Store All Data"}),h.jsx("div",{className:"text-xs text-gray-500",children:"Force storage of all topic data within CPD adapter"})]}),h.jsx("button",{onClick:()=>S(H=>({...H,storeAll:!H.storeAll})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${E.storeAll?"bg-teal-600":"bg-gray-200"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${E.storeAll?"translate-x-6":"translate-x-1"}`})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Flat Subscribe"}),h.jsx("div",{className:"text-xs text-gray-500",children:"Only subscribe to currently available topics"})]}),h.jsx("button",{onClick:()=>S(H=>({...H,flatSubscribe:!H.flatSubscribe})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${E.flatSubscribe?"bg-teal-600":"bg-gray-200"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${E.flatSubscribe?"translate-x-6":"translate-x-1"}`})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Send Initial Data"}),h.jsx("div",{className:"text-xs text-gray-500",children:"Send latest data immediately upon subscription"})]}),h.jsx("button",{onClick:()=>S(H=>({...H,sendInitialData:!H.sendInitialData})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${E.sendInitialData?"bg-teal-600":"bg-gray-200"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${E.sendInitialData?"translate-x-6":"translate-x-1"}`})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aggregation Mode"}),h.jsxs("select",{value:E.aggrMode,onChange:H=>S(J=>({...J,aggrMode:parseInt(H.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-teal-500",children:[h.jsx("option",{value:0,children:"ON_ANY - Individual topic updates"}),h.jsx("option",{value:1,children:"ON_CAPTURETIME - Group updates by time window"}),h.jsx("option",{value:2,children:"ON_CAPTURETRIGGER - Group updates by trigger topic"})]})]})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h4",{className:"font-medium mb-3",children:"Session Statistics"}),h.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-teal-600",children:n.length}),h.jsx("div",{className:"text-sm text-gray-600",children:"Active Subscriptions"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.length}),h.jsx("div",{className:"text-sm text-gray-600",children:"Total Messages"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.reduce((H,J)=>H+J.messageCount,0)}),h.jsx("div",{className:"text-sm text-gray-600",children:"Received Updates"})]})]})]})]})]})};function Tg({size:e=16}){const t=typeof e=="number"?`${e}px`:e;return h.jsxs("svg",{style:{width:t,height:t},className:"animate-spin text-swarco-blue-800",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}function $S({connectionId:e}){const[t,s]=G.useState([]),[i,r]=G.useState(""),[a,m]=G.useState("disconnected"),[n,c]=G.useState("sqlite"),[v,_]=G.useState("SELECT 1 AS test;"),[d,g]=G.useState("[]"),[b,C]=G.useState([]),[x,u]=G.useState(null),[o,l]=G.useState(!1),[f,p]=G.useState(null),[y,w]=G.useState("asc"),[E,S]=G.useState({}),[A,T]=G.useState(1),R=100,k=G.useMemo(()=>(t||[]).filter(M=>M.type==="sql"),[t]);G.useEffect(()=>{(async()=>{var K;const M=await xn();s(M.connections||[]);const Y=(M.connections||[]).filter(V=>V.type==="sql"),F=Y.find(V=>V.id===e)||Y[0];F&&(r(F.id),c(((K=F.config)==null?void 0:K.driver)||"sqlite"))})()},[e]);async function O(){if(i){l(!0);try{await Qi(i),m("connected")}finally{l(!1)}}}async function q(){if(i){l(!0);try{await Zi(i),m("disconnected"),C([]),u(null)}finally{l(!1)}}}function W(){try{const M=JSON.parse(d||"[]");return Array.isArray(M)?M:[]}catch{return[]}}async function P(){if(!(!i||a!=="connected")){l(!0);try{const M=await Pe(i,"query",{sql:v,params:W()}),Y=(M==null?void 0:M.data)||M;Array.isArray(Y.rows)?(C(Y.rows),u({rowCount:Y.rows.length}),T(1)):(C([]),u(Y))}catch(M){C([]),u({error:M.message})}finally{l(!1)}}}const I=G.useMemo(()=>{let M=b;const Y=Object.keys(E||{});if(Y.length&&(M=M.filter(N=>Y.every(F=>{const K=(E[F]||"").toString().trim();if(!K)return!0;const V=N[F];return String(V??"").toLowerCase().includes(K.toLowerCase())}))),f){const N=y==="desc"?-1:1;M=[...M].sort((F,K)=>{const V=F==null?void 0:F[f],D=K==null?void 0:K[f];if(V==null&&D==null)return 0;if(V==null)return-1*N;if(D==null)return 1*N;if(typeof V=="number"&&typeof D=="number")return(V-D)*N;const z=String(V),$=String(D);return z.localeCompare($)*N})}return M},[b,E,f,y]),j=G.useMemo(()=>{const M=(A-1)*R;return I.slice(M,M+R)},[I,A]),L=G.useMemo(()=>I.length?Object.keys(I[0]):[],[I]),B=Math.max(1,Math.ceil(I.length/R));return h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"flex items-end gap-3",children:[h.jsx(VS,{connections:t,selectedId:i,status:a}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"SQL Connection"}),h.jsx("select",{className:"border border-swarco-grey-400 rounded px-3 py-2 min-w-[16rem] focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600",value:i,onChange:M=>{var N;r(M.target.value);const Y=(N=k.find(F=>F.id===M.target.value))==null?void 0:N.config;c((Y==null?void 0:Y.driver)||"sqlite")},children:k.map(M=>{var Y;return h.jsxs("option",{value:M.id,children:[M.name," (",((Y=M.config)==null?void 0:Y.driver)||"sqlite",")"]},M.id)})})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(De,{variant:"secondary",onClick:O,disabled:!i||o||a==="connected",leftEl:o?h.jsx(Tg,{size:14}):h.jsx(hc,{size:14,className:"mr-1"}),children:"Connect"}),h.jsx(De,{variant:"secondary",onClick:q,disabled:!i||o||a!=="connected",leftEl:h.jsx(fc,{size:14,className:"mr-1"}),children:"Disconnect"})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Driver: ",n]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"SQL"}),h.jsx("textarea",{rows:6,className:"w-full border border-swarco-grey-400 rounded px-3 py-2 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600",value:v,onChange:M=>_(M.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Params (JSON array)"}),h.jsx("textarea",{rows:6,className:"w-full border border-swarco-grey-400 rounded px-3 py-2 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-swarco-blue-200 focus:border-swarco-blue-600",value:d,onChange:M=>g(M.target.value)})]})]}),h.jsx("div",{children:h.jsx(De,{onClick:P,disabled:o||a!=="connected",children:o?"Running":"Execute"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:"px-2 py-1 border rounded text-sm",disabled:!b.length,onClick:()=>XS(b,"query-results.csv"),children:"Export CSV"}),h.jsx("button",{className:"px-2 py-1 border rounded text-sm",onClick:()=>QS(v,d),children:"Save Query"}),h.jsx("button",{className:"px-2 py-1 border rounded text-sm",onClick:()=>ZS(_,g),children:"Load Last"})]}),b.length>0&&h.jsxs("div",{className:"border rounded",children:[h.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-gray-50 text-sm",children:[h.jsxs("div",{children:[b.length," rows"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:"px-2 py-1 border rounded",disabled:A<=1,onClick:()=>T(M=>Math.max(1,M-1)),children:"Prev"}),h.jsxs("span",{children:["Page ",A," / ",B]}),h.jsx("button",{className:"px-2 py-1 border rounded",disabled:A>=B,onClick:()=>T(M=>Math.min(B,M+1)),children:"Next"})]})]}),h.jsx("div",{className:"overflow-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsxs("thead",{className:"bg-gray-50",children:[h.jsx("tr",{children:L.map(M=>h.jsx("th",{className:"text-left px-3 py-2 border-b font-medium",children:h.jsxs("button",{className:"inline-flex items-center gap-1",onClick:()=>{f===M?w(Y=>Y==="asc"?"desc":"asc"):(p(M),w("asc"))},children:[M,f===M&&h.jsx("span",{className:"text-xs opacity-60",children:y==="asc"?"":""})]})},M))}),h.jsx("tr",{children:L.map(M=>h.jsx("th",{className:"px-3 pb-2 border-b",children:h.jsx("input",{className:"w-full border rounded px-2 py-1 text-xs",placeholder:"filter",value:E[M]||"",onChange:Y=>{const N=Y.target.value;S(F=>({...F,[M]:N})),T(1)}})},M))})]}),h.jsx("tbody",{children:j.map((M,Y)=>h.jsx("tr",{className:"border-b",children:L.map(N=>h.jsx("td",{className:"px-3 py-1 font-mono",children:String(M[N])},N))},Y))})]})})]}),x&&!b.length&&h.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 border rounded p-3",children:h.jsx("pre",{children:JSON.stringify(x,null,2)})})]})}function VS({connections:e,selectedId:t,status:s}){const i=(e||[]).find(r=>r.id===t)||null;return h.jsx("div",{className:"ml-auto",children:h.jsx(ci,{connection:i||void 0,status:s})})}function XS(e,t){if(!e||!e.length)return;const s=Object.keys(e[0]),i=c=>{const v=String(c??"");return/[",\n]/.test(v)?'"'+v.replace(/"/g,'""')+'"':v},r=[s.join(",")].concat(e.map(c=>s.map(v=>i(c[v])).join(","))),a=new Blob([r.join(`
`)],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(a),n=document.createElement("a");n.href=m,n.download=t,n.click(),URL.revokeObjectURL(m)}function QS(e,t){const s={sql:e,paramsText:t,ts:Date.now()};localStorage.setItem("sql_saved_last",JSON.stringify(s))}function ZS(e,t){try{const s=JSON.parse(localStorage.getItem("sql_saved_last")||"null");s&&(e(s.sql||""),t(s.paramsText||"[]"))}catch{}}var kg={exports:{}};(function(e,t){(function(s,i){e.exports=i()})(self,()=>(()=>{var s={4567:function(m,n,c){var v=this&&this.__decorate||function(f,p,y,w){var E,S=arguments.length,A=S<3?p:w===null?w=Object.getOwnPropertyDescriptor(p,y):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(f,p,y,w);else for(var T=f.length-1;T>=0;T--)(E=f[T])&&(A=(S<3?E(A):S>3?E(p,y,A):E(p,y))||A);return S>3&&A&&Object.defineProperty(p,y,A),A},_=this&&this.__param||function(f,p){return function(y,w){p(y,w,f)}};Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;const d=c(9042),g=c(6114),b=c(9924),C=c(844),x=c(5596),u=c(4725),o=c(3656);let l=n.AccessibilityManager=class extends C.Disposable{constructor(f,p){super(),this._terminal=f,this._renderService=p,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let y=0;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);if(this._topBoundaryFocusListener=y=>this._handleBoundaryFocus(y,0),this._bottomBoundaryFocusListener=y=>this._handleBoundaryFocus(y,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new b.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(y=>this._handleResize(y.rows))),this.register(this._terminal.onRender(y=>this._refreshRows(y.start,y.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(y=>this._handleChar(y))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(y=>this._handleTab(y))),this.register(this._terminal.onKey(y=>this._handleKey(y.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,o.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,C.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(f){for(let p=0;p<f;p++)this._handleChar(" ")}_handleChar(f){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==f&&(this._charsToAnnounce+=f):this._charsToAnnounce+=f,f===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=d.tooMuchOutput)),g.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,g.isMac&&this._liveRegion.remove()}_handleKey(f){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(f)||this._charsToConsume.push(f)}_refreshRows(f,p){this._liveRegionDebouncer.refresh(f,p,this._terminal.rows)}_renderRows(f,p){const y=this._terminal.buffer,w=y.lines.length.toString();for(let E=f;E<=p;E++){const S=y.translateBufferLineToString(y.ydisp+E,!0),A=(y.ydisp+E+1).toString(),T=this._rowElements[E];T&&(S.length===0?T.innerText="":T.textContent=S,T.setAttribute("aria-posinset",A),T.setAttribute("aria-setsize",w))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(f,p){const y=f.target,w=this._rowElements[p===0?1:this._rowElements.length-2];if(y.getAttribute("aria-posinset")===(p===0?"1":`${this._terminal.buffer.lines.length}`)||f.relatedTarget!==w)return;let E,S;if(p===0?(E=y,S=this._rowElements.pop(),this._rowContainer.removeChild(S)):(E=this._rowElements.shift(),S=y,this._rowContainer.removeChild(E)),E.removeEventListener("focus",this._topBoundaryFocusListener),S.removeEventListener("focus",this._bottomBoundaryFocusListener),p===0){const A=this._createAccessibilityTreeNode();this._rowElements.unshift(A),this._rowContainer.insertAdjacentElement("afterbegin",A)}else{const A=this._createAccessibilityTreeNode();this._rowElements.push(A),this._rowContainer.appendChild(A)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(p===0?-1:1),this._rowElements[p===0?1:this._rowElements.length-2].focus(),f.preventDefault(),f.stopImmediatePropagation()}_handleResize(f){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let p=this._rowContainer.children.length;p<this._terminal.rows;p++)this._rowElements[p]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[p]);for(;this._rowElements.length>f;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const f=document.createElement("div");return f.setAttribute("role","listitem"),f.tabIndex=-1,this._refreshRowDimensions(f),f}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let f=0;f<this._terminal.rows;f++)this._refreshRowDimensions(this._rowElements[f])}}_refreshRowDimensions(f){f.style.height=`${this._renderService.dimensions.css.cell.height}px`}};n.AccessibilityManager=l=v([_(1,u.IRenderService)],l)},3614:(m,n)=>{function c(g){return g.replace(/\r?\n/g,"\r")}function v(g,b){return b?"\x1B[200~"+g+"\x1B[201~":g}function _(g,b,C,x){g=v(g=c(g),C.decPrivateModes.bracketedPasteMode&&x.rawOptions.ignoreBracketedPasteMode!==!0),C.triggerDataEvent(g,!0),b.value=""}function d(g,b,C){const x=C.getBoundingClientRect(),u=g.clientX-x.left-10,o=g.clientY-x.top-10;b.style.width="20px",b.style.height="20px",b.style.left=`${u}px`,b.style.top=`${o}px`,b.style.zIndex="1000",b.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=c,n.bracketTextForPaste=v,n.copyHandler=function(g,b){g.clipboardData&&g.clipboardData.setData("text/plain",b.selectionText),g.preventDefault()},n.handlePasteEvent=function(g,b,C,x){g.stopPropagation(),g.clipboardData&&_(g.clipboardData.getData("text/plain"),b,C,x)},n.paste=_,n.moveTextAreaUnderMouseCursor=d,n.rightClickHandler=function(g,b,C,x,u){d(g,b,C),u&&x.rightClickSelect(g),b.value=x.selectionText,b.select()}},7239:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;const v=c(1505);n.ColorContrastCache=class{constructor(){this._color=new v.TwoKeyMap,this._css=new v.TwoKeyMap}setCss(_,d,g){this._css.set(_,d,g)}getCss(_,d){return this._css.get(_,d)}setColor(_,d,g){this._color.set(_,d,g)}getColor(_,d){return this._color.get(_,d)}clear(){this._color.clear(),this._css.clear()}}},3656:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(c,v,_,d){c.addEventListener(v,_,d);let g=!1;return{dispose:()=>{g||(g=!0,c.removeEventListener(v,_,d))}}}},6465:function(m,n,c){var v=this&&this.__decorate||function(u,o,l,f){var p,y=arguments.length,w=y<3?o:f===null?f=Object.getOwnPropertyDescriptor(o,l):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,o,l,f);else for(var E=u.length-1;E>=0;E--)(p=u[E])&&(w=(y<3?p(w):y>3?p(o,l,w):p(o,l))||w);return y>3&&w&&Object.defineProperty(o,l,w),w},_=this&&this.__param||function(u,o){return function(l,f){o(l,f,u)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier2=void 0;const d=c(3656),g=c(8460),b=c(844),C=c(2585);let x=n.Linkifier2=class extends b.Disposable{get currentLink(){return this._currentLink}constructor(u){super(),this._bufferService=u,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,b.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,b.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(u){return this._linkProviders.push(u),{dispose:()=>{const o=this._linkProviders.indexOf(u);o!==-1&&this._linkProviders.splice(o,1)}}}attachToDom(u,o,l){this._element=u,this._mouseService=o,this._renderService=l,this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(u){if(this._lastMouseEvent=u,!this._element||!this._mouseService)return;const o=this._positionFromMouseEvent(u,this._element,this._mouseService);if(!o)return;this._isMouseOut=!1;const l=u.composedPath();for(let f=0;f<l.length;f++){const p=l[f];if(p.classList.contains("xterm"))break;if(p.classList.contains("xterm-hover"))return}this._lastBufferCell&&o.x===this._lastBufferCell.x&&o.y===this._lastBufferCell.y||(this._handleHover(o),this._lastBufferCell=o)}_handleHover(u){if(this._activeLine!==u.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(u,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,u)||(this._clearCurrentLink(),this._askForLink(u,!0))}_askForLink(u,o){var l,f;this._activeProviderReplies&&o||((l=this._activeProviderReplies)===null||l===void 0||l.forEach(y=>{y==null||y.forEach(w=>{w.link.dispose&&w.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=u.y);let p=!1;for(const[y,w]of this._linkProviders.entries())o?!((f=this._activeProviderReplies)===null||f===void 0)&&f.get(y)&&(p=this._checkLinkProviderResult(y,u,p)):w.provideLinks(u.y,E=>{var S,A;if(this._isMouseOut)return;const T=E==null?void 0:E.map(R=>({link:R}));(S=this._activeProviderReplies)===null||S===void 0||S.set(y,T),p=this._checkLinkProviderResult(y,u,p),((A=this._activeProviderReplies)===null||A===void 0?void 0:A.size)===this._linkProviders.length&&this._removeIntersectingLinks(u.y,this._activeProviderReplies)})}_removeIntersectingLinks(u,o){const l=new Set;for(let f=0;f<o.size;f++){const p=o.get(f);if(p)for(let y=0;y<p.length;y++){const w=p[y],E=w.link.range.start.y<u?0:w.link.range.start.x,S=w.link.range.end.y>u?this._bufferService.cols:w.link.range.end.x;for(let A=E;A<=S;A++){if(l.has(A)){p.splice(y--,1);break}l.add(A)}}}}_checkLinkProviderResult(u,o,l){var f;if(!this._activeProviderReplies)return l;const p=this._activeProviderReplies.get(u);let y=!1;for(let w=0;w<u;w++)this._activeProviderReplies.has(w)&&!this._activeProviderReplies.get(w)||(y=!0);if(!y&&p){const w=p.find(E=>this._linkAtPosition(E.link,o));w&&(l=!0,this._handleNewLink(w))}if(this._activeProviderReplies.size===this._linkProviders.length&&!l)for(let w=0;w<this._activeProviderReplies.size;w++){const E=(f=this._activeProviderReplies.get(w))===null||f===void 0?void 0:f.find(S=>this._linkAtPosition(S.link,o));if(E){l=!0,this._handleNewLink(E);break}}return l}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(u){if(!this._element||!this._mouseService||!this._currentLink)return;const o=this._positionFromMouseEvent(u,this._element,this._mouseService);o&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,o)&&this._currentLink.link.activate(u,this._currentLink.link.text)}_clearCurrentLink(u,o){this._element&&this._currentLink&&this._lastMouseEvent&&(!u||!o||this._currentLink.link.range.start.y>=u&&this._currentLink.link.range.end.y<=o)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,b.disposeArray)(this._linkCacheDisposables))}_handleNewLink(u){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const o=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);o&&this._linkAtPosition(u.link,o)&&(this._currentLink=u,this._currentLink.state={decorations:{underline:u.link.decorations===void 0||u.link.decorations.underline,pointerCursor:u.link.decorations===void 0||u.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,u.link,this._lastMouseEvent),u.link.decorations={},Object.defineProperties(u.link.decorations,{pointerCursor:{get:()=>{var l,f;return(f=(l=this._currentLink)===null||l===void 0?void 0:l.state)===null||f===void 0?void 0:f.decorations.pointerCursor},set:l=>{var f,p;!((f=this._currentLink)===null||f===void 0)&&f.state&&this._currentLink.state.decorations.pointerCursor!==l&&(this._currentLink.state.decorations.pointerCursor=l,this._currentLink.state.isHovered&&((p=this._element)===null||p===void 0||p.classList.toggle("xterm-cursor-pointer",l)))}},underline:{get:()=>{var l,f;return(f=(l=this._currentLink)===null||l===void 0?void 0:l.state)===null||f===void 0?void 0:f.decorations.underline},set:l=>{var f,p,y;!((f=this._currentLink)===null||f===void 0)&&f.state&&((y=(p=this._currentLink)===null||p===void 0?void 0:p.state)===null||y===void 0?void 0:y.decorations.underline)!==l&&(this._currentLink.state.decorations.underline=l,this._currentLink.state.isHovered&&this._fireUnderlineEvent(u.link,l))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(l=>{if(!this._currentLink)return;const f=l.start===0?0:l.start+1+this._bufferService.buffer.ydisp,p=this._bufferService.buffer.ydisp+1+l.end;if(this._currentLink.link.range.start.y>=f&&this._currentLink.link.range.end.y<=p&&(this._clearCurrentLink(f,p),this._lastMouseEvent&&this._element)){const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._askForLink(y,!1)}})))}_linkHover(u,o,l){var f;!((f=this._currentLink)===null||f===void 0)&&f.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!0),this._currentLink.state.decorations.pointerCursor&&u.classList.add("xterm-cursor-pointer")),o.hover&&o.hover(l,o.text)}_fireUnderlineEvent(u,o){const l=u.range,f=this._bufferService.buffer.ydisp,p=this._createLinkUnderlineEvent(l.start.x-1,l.start.y-f-1,l.end.x,l.end.y-f-1,void 0);(o?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(p)}_linkLeave(u,o,l){var f;!((f=this._currentLink)===null||f===void 0)&&f.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!1),this._currentLink.state.decorations.pointerCursor&&u.classList.remove("xterm-cursor-pointer")),o.leave&&o.leave(l,o.text)}_linkAtPosition(u,o){const l=u.range.start.y*this._bufferService.cols+u.range.start.x,f=u.range.end.y*this._bufferService.cols+u.range.end.x,p=o.y*this._bufferService.cols+o.x;return l<=p&&p<=f}_positionFromMouseEvent(u,o,l){const f=l.getCoords(u,o,this._bufferService.cols,this._bufferService.rows);if(f)return{x:f[0],y:f[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(u,o,l,f,p){return{x1:u,y1:o,x2:l,y2:f,cols:this._bufferService.cols,fg:p}}};n.Linkifier2=x=v([_(0,C.IBufferService)],x)},9042:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(m,n,c){var v=this&&this.__decorate||function(x,u,o,l){var f,p=arguments.length,y=p<3?u:l===null?l=Object.getOwnPropertyDescriptor(u,o):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(x,u,o,l);else for(var w=x.length-1;w>=0;w--)(f=x[w])&&(y=(p<3?f(y):p>3?f(u,o,y):f(u,o))||y);return p>3&&y&&Object.defineProperty(u,o,y),y},_=this&&this.__param||function(x,u){return function(o,l){u(o,l,x)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkProvider=void 0;const d=c(511),g=c(2585);let b=n.OscLinkProvider=class{constructor(x,u,o){this._bufferService=x,this._optionsService=u,this._oscLinkService=o}provideLinks(x,u){var o;const l=this._bufferService.buffer.lines.get(x-1);if(!l)return void u(void 0);const f=[],p=this._optionsService.rawOptions.linkHandler,y=new d.CellData,w=l.getTrimmedLength();let E=-1,S=-1,A=!1;for(let T=0;T<w;T++)if(S!==-1||l.hasContent(T)){if(l.loadCell(T,y),y.hasExtendedAttrs()&&y.extended.urlId){if(S===-1){S=T,E=y.extended.urlId;continue}A=y.extended.urlId!==E}else S!==-1&&(A=!0);if(A||S!==-1&&T===w-1){const R=(o=this._oscLinkService.getLinkData(E))===null||o===void 0?void 0:o.uri;if(R){const k={start:{x:S+1,y:x},end:{x:T+(A||T!==w-1?0:1),y:x}};let O=!1;if(!(p!=null&&p.allowNonHttpProtocols))try{const q=new URL(R);["http:","https:"].includes(q.protocol)||(O=!0)}catch{O=!0}O||f.push({text:R,range:k,activate:(q,W)=>p?p.activate(q,W,k):C(0,W),hover:(q,W)=>{var P;return(P=p==null?void 0:p.hover)===null||P===void 0?void 0:P.call(p,q,W,k)},leave:(q,W)=>{var P;return(P=p==null?void 0:p.leave)===null||P===void 0?void 0:P.call(p,q,W,k)}})}A=!1,y.hasExtendedAttrs()&&y.extended.urlId?(S=T,E=y.extended.urlId):(S=-1,E=-1)}}u(f)}};function C(x,u){if(confirm(`Do you want to navigate to ${u}?

WARNING: This link could potentially be dangerous`)){const o=window.open();if(o){try{o.opener=null}catch{}o.location.href=u}else console.warn("Opening link blocked as opener could not be cleared")}}n.OscLinkProvider=b=v([_(0,g.IBufferService),_(1,g.IOptionsService),_(2,g.IOscLinkService)],b)},6193:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0,n.RenderDebouncer=class{constructor(c,v){this._parentWindow=c,this._renderCallback=v,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(c){return this._refreshCallbacks.push(c),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(c,v,_){this._rowCount=_,c=c!==void 0?c:0,v=v!==void 0?v:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,v):v,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const c=Math.max(this._rowStart,0),v=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,v),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const c of this._refreshCallbacks)c(0);this._refreshCallbacks=[]}}},5596:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenDprMonitor=void 0;const v=c(844);class _ extends v.Disposable{constructor(g){super(),this._parentWindow=g,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,v.toDisposable)(()=>{this.clearListener()}))}setListener(g){this._listener&&this.clearListener(),this._listener=g,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var g;this._outerListener&&((g=this._resolutionMediaMatchList)===null||g===void 0||g.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}n.ScreenDprMonitor=_},3236:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;const v=c(3614),_=c(3656),d=c(6465),g=c(9042),b=c(3730),C=c(1680),x=c(3107),u=c(5744),o=c(2950),l=c(1296),f=c(428),p=c(4269),y=c(5114),w=c(8934),E=c(3230),S=c(9312),A=c(4725),T=c(6731),R=c(8055),k=c(8969),O=c(8460),q=c(844),W=c(6114),P=c(8437),I=c(2584),j=c(7399),L=c(5941),B=c(9074),M=c(2585),Y=c(5435),N=c(4567),F=typeof window<"u"?window.document:null;class K extends k.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(D={}){super(D),this.browser=W,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new q.MutableDisposable),this._onCursorMove=this.register(new O.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new O.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new O.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new O.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new O.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new O.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new O.EventEmitter),this._onBlur=this.register(new O.EventEmitter),this._onA11yCharEmitter=this.register(new O.EventEmitter),this._onA11yTabEmitter=this.register(new O.EventEmitter),this._onWillOpen=this.register(new O.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(d.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(b.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(M.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((z,$)=>this.refresh(z,$))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(z=>this._reportWindowsOptions(z))),this.register(this._inputHandler.onColor(z=>this._handleColorEvent(z))),this.register((0,O.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,O.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,O.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,O.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(z=>this._afterResize(z.cols,z.rows))),this.register((0,q.toDisposable)(()=>{var z,$;this._customKeyEventHandler=void 0,($=(z=this.element)===null||z===void 0?void 0:z.parentNode)===null||$===void 0||$.removeChild(this.element)}))}_handleColorEvent(D){if(this._themeService)for(const z of D){let $,H="";switch(z.index){case 256:$="foreground",H="10";break;case 257:$="background",H="11";break;case 258:$="cursor",H="12";break;default:$="ansi",H="4;"+z.index}switch(z.type){case 0:const J=R.color.toColorRGB($==="ansi"?this._themeService.colors.ansi[z.index]:this._themeService.colors[$]);this.coreService.triggerDataEvent(`${I.C0.ESC}]${H};${(0,L.toRgbString)(J)}${I.C1_ESCAPED.ST}`);break;case 1:if($==="ansi")this._themeService.modifyColors(Z=>Z.ansi[z.index]=R.rgba.toColor(...z.color));else{const Z=$;this._themeService.modifyColors(ne=>ne[Z]=R.rgba.toColor(...z.color))}break;case 2:this._themeService.restoreColor(z.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(D){D?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(N.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(D){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(I.C0.ESC+"[I"),this.updateCursorStyle(D),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var D;return(D=this.textarea)===null||D===void 0?void 0:D.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(I.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const D=this.buffer.ybase+this.buffer.y,z=this.buffer.lines.get(D);if(!z)return;const $=Math.min(this.buffer.x,this.cols-1),H=this._renderService.dimensions.css.cell.height,J=z.getWidth($),Z=this._renderService.dimensions.css.cell.width*J,ne=this.buffer.y*this._renderService.dimensions.css.cell.height,U=$*this._renderService.dimensions.css.cell.width;this.textarea.style.left=U+"px",this.textarea.style.top=ne+"px",this.textarea.style.width=Z+"px",this.textarea.style.height=H+"px",this.textarea.style.lineHeight=H+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,_.addDisposableDomListener)(this.element,"copy",z=>{this.hasSelection()&&(0,v.copyHandler)(z,this._selectionService)}));const D=z=>(0,v.handlePasteEvent)(z,this.textarea,this.coreService,this.optionsService);this.register((0,_.addDisposableDomListener)(this.textarea,"paste",D)),this.register((0,_.addDisposableDomListener)(this.element,"paste",D)),W.isFirefox?this.register((0,_.addDisposableDomListener)(this.element,"mousedown",z=>{z.button===2&&(0,v.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,_.addDisposableDomListener)(this.element,"contextmenu",z=>{(0,v.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),W.isLinux&&this.register((0,_.addDisposableDomListener)(this.element,"auxclick",z=>{z.button===1&&(0,v.moveTextAreaUnderMouseCursor)(z,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,_.addDisposableDomListener)(this.textarea,"keyup",D=>this._keyUp(D),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"keydown",D=>this._keyDown(D),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"keypress",D=>this._keyPress(D),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionupdate",D=>this._compositionHelper.compositionupdate(D))),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,_.addDisposableDomListener)(this.textarea,"input",D=>this._inputEvent(D),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(D){var z;if(!D)throw new Error("Terminal requires a parent element.");D.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=D.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),D.appendChild(this.element);const $=F.createDocumentFragment();this._viewportElement=F.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),$.appendChild(this._viewportElement),this._viewportScrollArea=F.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=F.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=F.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),$.appendChild(this.screenElement),this.textarea=F.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),W.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(y.CoreBrowserService,this.textarea,(z=this._document.defaultView)!==null&&z!==void 0?z:window),this._instantiationService.setService(A.ICoreBrowserService,this._coreBrowserService),this.register((0,_.addDisposableDomListener)(this.textarea,"focus",H=>this._handleTextAreaFocus(H))),this.register((0,_.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(f.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(A.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(T.ThemeService),this._instantiationService.setService(A.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(p.CharacterJoinerService),this._instantiationService.setService(A.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(A.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(H=>this._onRender.fire(H))),this.onResize(H=>this._renderService.resize(H.cols,H.rows)),this._compositionView=F.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild($);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(w.MouseService),this._instantiationService.setService(A.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(C.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(H=>this.scrollLines(H.amount,H.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(S.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(A.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(H=>this.scrollLines(H.amount,H.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(H=>this._renderService.handleSelectionChanged(H.start,H.end,H.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(H=>{this.textarea.value=H,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(H=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,_.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(x.BufferDecorationRenderer,this.screenElement)),this.register((0,_.addDisposableDomListener)(this.element,"mousedown",H=>this._selectionService.handleMouseDown(H))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(N.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",H=>this._handleScreenReaderModeOptionChange(H))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",H=>{!this._overviewRulerRenderer&&H&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(l.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const D=this,z=this.element;function $(Z){const ne=D._mouseService.getMouseReportCoords(Z,D.screenElement);if(!ne)return!1;let U,Q;switch(Z.overrideType||Z.type){case"mousemove":Q=32,Z.buttons===void 0?(U=3,Z.button!==void 0&&(U=Z.button<3?Z.button:3)):U=1&Z.buttons?0:4&Z.buttons?1:2&Z.buttons?2:3;break;case"mouseup":Q=0,U=Z.button<3?Z.button:3;break;case"mousedown":Q=1,U=Z.button<3?Z.button:3;break;case"wheel":if(D.viewport.getLinesScrolled(Z)===0)return!1;Q=Z.deltaY<0?0:1,U=4;break;default:return!1}return!(Q===void 0||U===void 0||U>4)&&D.coreMouseService.triggerMouseEvent({col:ne.col,row:ne.row,x:ne.x,y:ne.y,button:U,action:Q,ctrl:Z.ctrlKey,alt:Z.altKey,shift:Z.shiftKey})}const H={mouseup:null,wheel:null,mousedrag:null,mousemove:null},J={mouseup:Z=>($(Z),Z.buttons||(this._document.removeEventListener("mouseup",H.mouseup),H.mousedrag&&this._document.removeEventListener("mousemove",H.mousedrag)),this.cancel(Z)),wheel:Z=>($(Z),this.cancel(Z,!0)),mousedrag:Z=>{Z.buttons&&$(Z)},mousemove:Z=>{Z.buttons||$(Z)}};this.register(this.coreMouseService.onProtocolChange(Z=>{Z?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Z)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Z?H.mousemove||(z.addEventListener("mousemove",J.mousemove),H.mousemove=J.mousemove):(z.removeEventListener("mousemove",H.mousemove),H.mousemove=null),16&Z?H.wheel||(z.addEventListener("wheel",J.wheel,{passive:!1}),H.wheel=J.wheel):(z.removeEventListener("wheel",H.wheel),H.wheel=null),2&Z?H.mouseup||(z.addEventListener("mouseup",J.mouseup),H.mouseup=J.mouseup):(this._document.removeEventListener("mouseup",H.mouseup),z.removeEventListener("mouseup",H.mouseup),H.mouseup=null),4&Z?H.mousedrag||(H.mousedrag=J.mousedrag):(this._document.removeEventListener("mousemove",H.mousedrag),H.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,_.addDisposableDomListener)(z,"mousedown",Z=>{if(Z.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Z))return $(Z),H.mouseup&&this._document.addEventListener("mouseup",H.mouseup),H.mousedrag&&this._document.addEventListener("mousemove",H.mousedrag),this.cancel(Z)})),this.register((0,_.addDisposableDomListener)(z,"wheel",Z=>{if(!H.wheel){if(!this.buffer.hasScrollback){const ne=this.viewport.getLinesScrolled(Z);if(ne===0)return;const U=I.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Z.deltaY<0?"A":"B");let Q="";for(let se=0;se<Math.abs(ne);se++)Q+=U;return this.coreService.triggerDataEvent(Q,!0),this.cancel(Z,!0)}return this.viewport.handleWheel(Z)?this.cancel(Z):void 0}},{passive:!1})),this.register((0,_.addDisposableDomListener)(z,"touchstart",Z=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Z),this.cancel(Z)},{passive:!0})),this.register((0,_.addDisposableDomListener)(z,"touchmove",Z=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Z)?void 0:this.cancel(Z)},{passive:!1}))}refresh(D,z){var $;($=this._renderService)===null||$===void 0||$.refreshRows(D,z)}updateCursorStyle(D){var z;!((z=this._selectionService)===null||z===void 0)&&z.shouldColumnSelect(D)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(D,z,$=0){var H;$===1?(super.scrollLines(D,z,$),this.refresh(0,this.rows-1)):(H=this.viewport)===null||H===void 0||H.scrollLines(D)}paste(D){(0,v.paste)(D,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(D){this._customKeyEventHandler=D}registerLinkProvider(D){return this.linkifier2.registerLinkProvider(D)}registerCharacterJoiner(D){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const z=this._characterJoinerService.register(D);return this.refresh(0,this.rows-1),z}deregisterCharacterJoiner(D){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(D)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(D){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+D)}registerDecoration(D){return this._decorationService.registerDecoration(D)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(D,z,$){this._selectionService.setSelection(D,z,$)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var D;(D=this._selectionService)===null||D===void 0||D.clearSelection()}selectAll(){var D;(D=this._selectionService)===null||D===void 0||D.selectAll()}selectLines(D,z){var $;($=this._selectionService)===null||$===void 0||$.selectLines(D,z)}_keyDown(D){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(D)===!1)return!1;const z=this.browser.isMac&&this.options.macOptionIsMeta&&D.altKey;if(!z&&!this._compositionHelper.keydown(D))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;z||D.key!=="Dead"&&D.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const $=(0,j.evaluateKeyboardEvent)(D,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(D),$.type===3||$.type===2){const H=this.rows-1;return this.scrollLines($.type===2?-H:H),this.cancel(D,!0)}return $.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,D)||($.cancel&&this.cancel(D,!0),!$.key||!!(D.key&&!D.ctrlKey&&!D.altKey&&!D.metaKey&&D.key.length===1&&D.key.charCodeAt(0)>=65&&D.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):($.key!==I.C0.ETX&&$.key!==I.C0.CR||(this.textarea.value=""),this._onKey.fire({key:$.key,domEvent:D}),this._showCursor(),this.coreService.triggerDataEvent($.key,!0),!this.optionsService.rawOptions.screenReaderMode||D.altKey||D.ctrlKey?this.cancel(D,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(D,z){const $=D.isMac&&!this.options.macOptionIsMeta&&z.altKey&&!z.ctrlKey&&!z.metaKey||D.isWindows&&z.altKey&&z.ctrlKey&&!z.metaKey||D.isWindows&&z.getModifierState("AltGraph");return z.type==="keypress"?$:$&&(!z.keyCode||z.keyCode>47)}_keyUp(D){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(D)===!1||(function(z){return z.keyCode===16||z.keyCode===17||z.keyCode===18}(D)||this.focus(),this.updateCursorStyle(D),this._keyPressHandled=!1)}_keyPress(D){let z;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(D)===!1)return!1;if(this.cancel(D),D.charCode)z=D.charCode;else if(D.which===null||D.which===void 0)z=D.keyCode;else{if(D.which===0||D.charCode===0)return!1;z=D.which}return!(!z||(D.altKey||D.ctrlKey||D.metaKey)&&!this._isThirdLevelShift(this.browser,D)||(z=String.fromCharCode(z),this._onKey.fire({key:z,domEvent:D}),this._showCursor(),this.coreService.triggerDataEvent(z,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(D){if(D.data&&D.inputType==="insertText"&&(!D.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const z=D.data;return this.coreService.triggerDataEvent(z,!0),this.cancel(D),!0}return!1}resize(D,z){D!==this.cols||z!==this.rows?super.resize(D,z):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(D,z){var $,H;($=this._charSizeService)===null||$===void 0||$.measure(),(H=this.viewport)===null||H===void 0||H.syncScrollArea(!0)}clear(){var D;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let z=1;z<this.rows;z++)this.buffer.lines.push(this.buffer.getBlankLine(P.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(D=this.viewport)===null||D===void 0||D.reset(),this.refresh(0,this.rows-1)}}reset(){var D,z;this.options.rows=this.rows,this.options.cols=this.cols;const $=this._customKeyEventHandler;this._setup(),super.reset(),(D=this._selectionService)===null||D===void 0||D.reset(),this._decorationService.reset(),(z=this.viewport)===null||z===void 0||z.reset(),this._customKeyEventHandler=$,this.refresh(0,this.rows-1)}clearTextureAtlas(){var D;(D=this._renderService)===null||D===void 0||D.clearTextureAtlas()}_reportFocus(){var D;!((D=this.element)===null||D===void 0)&&D.classList.contains("focus")?this.coreService.triggerDataEvent(I.C0.ESC+"[I"):this.coreService.triggerDataEvent(I.C0.ESC+"[O")}_reportWindowsOptions(D){if(this._renderService)switch(D){case Y.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const z=this._renderService.dimensions.css.canvas.width.toFixed(0),$=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${I.C0.ESC}[4;${$};${z}t`);break;case Y.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const H=this._renderService.dimensions.css.cell.width.toFixed(0),J=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${I.C0.ESC}[6;${J};${H}t`)}}cancel(D,z){if(this.options.cancelEvents||z)return D.preventDefault(),D.stopPropagation(),!1}}n.Terminal=K},9924:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0,n.TimeBasedDebouncer=class{constructor(c,v=1e3){this._renderCallback=c,this._debounceThresholdMS=v,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(c,v,_){this._rowCount=_,c=c!==void 0?c:0,v=v!==void 0?v:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,v):v;const d=Date.now();if(d-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=d,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=d-this._lastRefreshMs,b=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},b)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const c=Math.max(this._rowStart,0),v=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,v)}}},1680:function(m,n,c){var v=this&&this.__decorate||function(o,l,f,p){var y,w=arguments.length,E=w<3?l:p===null?p=Object.getOwnPropertyDescriptor(l,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(o,l,f,p);else for(var S=o.length-1;S>=0;S--)(y=o[S])&&(E=(w<3?y(E):w>3?y(l,f,E):y(l,f))||E);return w>3&&E&&Object.defineProperty(l,f,E),E},_=this&&this.__param||function(o,l){return function(f,p){l(f,p,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;const d=c(3656),g=c(4725),b=c(8460),C=c(844),x=c(2585);let u=n.Viewport=class extends C.Disposable{constructor(o,l,f,p,y,w,E,S){super(),this._viewportElement=o,this._scrollArea=l,this._bufferService=f,this._optionsService=p,this._charSizeService=y,this._renderService=w,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(A=>this._activeBuffer=A.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(A=>this._renderDimensions=A)),this._handleThemeChange(S.colors),this.register(S.onChangeColors(A=>this._handleThemeChange(A))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(o){this._viewportElement.style.backgroundColor=o.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(o){if(o)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const l=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==l&&(this._lastRecordedBufferHeight=l,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const o=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==o&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=o),this._refreshAnimationFrame=null}syncScrollArea(o=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(o);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(o)}_handleScroll(o){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const l=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:l,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const o=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(o*(this._smoothScrollState.target-this._smoothScrollState.origin)),o<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(o,l){const f=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(l<0&&this._viewportElement.scrollTop!==0||l>0&&f<this._lastRecordedBufferHeight)||(o.cancelable&&o.preventDefault(),!1)}handleWheel(o){const l=this._getPixelsScrolled(o);return l!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+l:this._smoothScrollState.target+=l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=l,this._bubbleScroll(o,l))}scrollLines(o){if(o!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const l=o*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!1})}_getPixelsScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let l=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_LINE?l*=this._currentRowHeight:o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._currentRowHeight*this._bufferService.rows),l}getBufferElements(o,l){var f;let p,y="";const w=[],E=l??this._bufferService.buffer.lines.length,S=this._bufferService.buffer.lines;for(let A=o;A<E;A++){const T=S.get(A);if(!T)continue;const R=(f=S.get(A+1))===null||f===void 0?void 0:f.isWrapped;if(y+=T.translateToString(!R),!R||A===S.length-1){const k=document.createElement("div");k.textContent=y,w.push(k),y.length>0&&(p=k),y=""}}return{bufferElements:w,cursorElement:p}}getLinesScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let l=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(l/=this._currentRowHeight+0,this._wheelPartialScroll+=l,l=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._bufferService.rows),l}_applyScrollModifier(o,l){const f=this._optionsService.rawOptions.fastScrollModifier;return f==="alt"&&l.altKey||f==="ctrl"&&l.ctrlKey||f==="shift"&&l.shiftKey?o*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:o*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(o){this._lastTouchY=o.touches[0].pageY}handleTouchMove(o){const l=this._lastTouchY-o.touches[0].pageY;return this._lastTouchY=o.touches[0].pageY,l!==0&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(o,l))}};n.Viewport=u=v([_(2,x.IBufferService),_(3,x.IOptionsService),_(4,g.ICharSizeService),_(5,g.IRenderService),_(6,g.ICoreBrowserService),_(7,g.IThemeService)],u)},3107:function(m,n,c){var v=this&&this.__decorate||function(u,o,l,f){var p,y=arguments.length,w=y<3?o:f===null?f=Object.getOwnPropertyDescriptor(o,l):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,o,l,f);else for(var E=u.length-1;E>=0;E--)(p=u[E])&&(w=(y<3?p(w):y>3?p(o,l,w):p(o,l))||w);return y>3&&w&&Object.defineProperty(o,l,w),w},_=this&&this.__param||function(u,o){return function(l,f){o(l,f,u)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferDecorationRenderer=void 0;const d=c(3656),g=c(4725),b=c(844),C=c(2585);let x=n.BufferDecorationRenderer=class extends b.Disposable{constructor(u,o,l,f){super(),this._screenElement=u,this._bufferService=o,this._decorationService=l,this._renderService=f,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,d.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(p=>this._removeDecoration(p))),this.register((0,b.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const u of this._decorationService.decorations)this._renderDecoration(u);this._dimensionsChanged=!1}_renderDecoration(u){this._refreshStyle(u),this._dimensionsChanged&&this._refreshXPosition(u)}_createElement(u){var o,l;const f=document.createElement("div");f.classList.add("xterm-decoration"),f.classList.toggle("xterm-decoration-top-layer",((o=u==null?void 0:u.options)===null||o===void 0?void 0:o.layer)==="top"),f.style.width=`${Math.round((u.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,f.style.height=(u.options.height||1)*this._renderService.dimensions.css.cell.height+"px",f.style.top=(u.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",f.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const p=(l=u.options.x)!==null&&l!==void 0?l:0;return p&&p>this._bufferService.cols&&(f.style.display="none"),this._refreshXPosition(u,f),f}_refreshStyle(u){const o=u.marker.line-this._bufferService.buffers.active.ydisp;if(o<0||o>=this._bufferService.rows)u.element&&(u.element.style.display="none",u.onRenderEmitter.fire(u.element));else{let l=this._decorationElements.get(u);l||(l=this._createElement(u),u.element=l,this._decorationElements.set(u,l),this._container.appendChild(l),u.onDispose(()=>{this._decorationElements.delete(u),l.remove()})),l.style.top=o*this._renderService.dimensions.css.cell.height+"px",l.style.display=this._altBufferIsActive?"none":"block",u.onRenderEmitter.fire(l)}}_refreshXPosition(u,o=u.element){var l;if(!o)return;const f=(l=u.options.x)!==null&&l!==void 0?l:0;(u.options.anchor||"left")==="right"?o.style.right=f?f*this._renderService.dimensions.css.cell.width+"px":"":o.style.left=f?f*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(u){var o;(o=this._decorationElements.get(u))===null||o===void 0||o.remove(),this._decorationElements.delete(u),u.dispose()}};n.BufferDecorationRenderer=x=v([_(1,C.IBufferService),_(2,C.IDecorationService),_(3,g.IRenderService)],x)},5871:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorZoneStore=void 0,n.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(c){if(c.options.overviewRulerOptions){for(const v of this._zones)if(v.color===c.options.overviewRulerOptions.color&&v.position===c.options.overviewRulerOptions.position){if(this._lineIntersectsZone(v,c.marker.line))return;if(this._lineAdjacentToZone(v,c.marker.line,c.options.overviewRulerOptions.position))return void this._addLineToZone(v,c.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=c.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=c.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=c.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=c.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:c.options.overviewRulerOptions.color,position:c.options.overviewRulerOptions.position,startBufferLine:c.marker.line,endBufferLine:c.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(c){this._linePadding=c}_lineIntersectsZone(c,v){return v>=c.startBufferLine&&v<=c.endBufferLine}_lineAdjacentToZone(c,v,_){return v>=c.startBufferLine-this._linePadding[_||"full"]&&v<=c.endBufferLine+this._linePadding[_||"full"]}_addLineToZone(c,v){c.startBufferLine=Math.min(c.startBufferLine,v),c.endBufferLine=Math.max(c.endBufferLine,v)}}},5744:function(m,n,c){var v=this&&this.__decorate||function(p,y,w,E){var S,A=arguments.length,T=A<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(p,y,w,E);else for(var R=p.length-1;R>=0;R--)(S=p[R])&&(T=(A<3?S(T):A>3?S(y,w,T):S(y,w))||T);return A>3&&T&&Object.defineProperty(y,w,T),T},_=this&&this.__param||function(p,y){return function(w,E){y(w,E,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OverviewRulerRenderer=void 0;const d=c(5871),g=c(3656),b=c(4725),C=c(844),x=c(2585),u={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0},l={full:0,left:0,center:0,right:0};let f=n.OverviewRulerRenderer=class extends C.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(p,y,w,E,S,A,T){var R;super(),this._viewportElement=p,this._screenElement=y,this._bufferService=w,this._decorationService=E,this._renderService=S,this._optionsService=A,this._coreBrowseService=T,this._colorZoneStore=new d.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(R=this._viewportElement.parentElement)===null||R===void 0||R.insertBefore(this._canvas,this._viewportElement);const k=this._canvas.getContext("2d");if(!k)throw new Error("Ctx cannot be null");this._ctx=k,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,C.toDisposable)(()=>{var O;(O=this._canvas)===null||O===void 0||O.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,g.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const p=Math.floor(this._canvas.width/3),y=Math.ceil(this._canvas.width/3);o.full=this._canvas.width,o.left=p,o.center=y,o.right=p,this._refreshDrawHeightConstants(),l.full=0,l.left=0,l.center=o.left,l.right=o.left+o.center}_refreshDrawHeightConstants(){u.full=Math.round(2*this._coreBrowseService.dpr);const p=this._canvas.height/this._bufferService.buffer.lines.length,y=Math.round(Math.max(Math.min(p,12),6)*this._coreBrowseService.dpr);u.left=y,u.center=y,u.right=y}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const y of this._decorationService.decorations)this._colorZoneStore.addDecoration(y);this._ctx.lineWidth=1;const p=this._colorZoneStore.zones;for(const y of p)y.position!=="full"&&this._renderColorZone(y);for(const y of p)y.position==="full"&&this._renderColorZone(y);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(p){this._ctx.fillStyle=p.color,this._ctx.fillRect(l[p.position||"full"],Math.round((this._canvas.height-1)*(p.startBufferLine/this._bufferService.buffers.active.lines.length)-u[p.position||"full"]/2),o[p.position||"full"],Math.round((this._canvas.height-1)*((p.endBufferLine-p.startBufferLine)/this._bufferService.buffers.active.lines.length)+u[p.position||"full"]))}_queueRefresh(p,y){this._shouldUpdateDimensions=p||this._shouldUpdateDimensions,this._shouldUpdateAnchor=y||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};n.OverviewRulerRenderer=f=v([_(2,x.IBufferService),_(3,x.IDecorationService),_(4,b.IRenderService),_(5,x.IOptionsService),_(6,b.ICoreBrowserService)],f)},2950:function(m,n,c){var v=this&&this.__decorate||function(x,u,o,l){var f,p=arguments.length,y=p<3?u:l===null?l=Object.getOwnPropertyDescriptor(u,o):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(x,u,o,l);else for(var w=x.length-1;w>=0;w--)(f=x[w])&&(y=(p<3?f(y):p>3?f(u,o,y):f(u,o))||y);return p>3&&y&&Object.defineProperty(u,o,y),y},_=this&&this.__param||function(x,u){return function(o,l){u(o,l,x)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;const d=c(4725),g=c(2585),b=c(2584);let C=n.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(x,u,o,l,f,p){this._textarea=x,this._compositionView=u,this._bufferService=o,this._optionsService=l,this._coreService=f,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(x.keyCode===229||x.keyCode===16||x.keyCode===17||x.keyCode===18)return!1;this._finalizeComposition(!1)}return x.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){const u={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let o;this._isSendingComposition=!1,u.start+=this._dataAlreadySent.length,o=this._isComposing?this._textarea.value.substring(u.start,u.end):this._textarea.value.substring(u.start),o.length>0&&this._coreService.triggerDataEvent(o,!0)}},0)}else{this._isSendingComposition=!1;const u=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(u,!0)}}_handleAnyTextareaChanges(){const x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const u=this._textarea.value,o=u.replace(x,"");this._dataAlreadySent=o,u.length>x.length?this._coreService.triggerDataEvent(o,!0):u.length<x.length?this._coreService.triggerDataEvent(`${b.C0.DEL}`,!0):u.length===x.length&&u!==x&&this._coreService.triggerDataEvent(u,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const u=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),o=this._renderService.dimensions.css.cell.height,l=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,f=u*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=f+"px",this._compositionView.style.top=l+"px",this._compositionView.style.height=o+"px",this._compositionView.style.lineHeight=o+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const p=this._compositionView.getBoundingClientRect();this._textarea.style.left=f+"px",this._textarea.style.top=l+"px",this._textarea.style.width=Math.max(p.width,1)+"px",this._textarea.style.height=Math.max(p.height,1)+"px",this._textarea.style.lineHeight=p.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};n.CompositionHelper=C=v([_(2,g.IBufferService),_(3,g.IOptionsService),_(4,g.ICoreService),_(5,d.IRenderService)],C)},9806:(m,n)=>{function c(v,_,d){const g=d.getBoundingClientRect(),b=v.getComputedStyle(d),C=parseInt(b.getPropertyValue("padding-left")),x=parseInt(b.getPropertyValue("padding-top"));return[_.clientX-g.left-C,_.clientY-g.top-x]}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=c,n.getCoords=function(v,_,d,g,b,C,x,u,o){if(!C)return;const l=c(v,_,d);return l?(l[0]=Math.ceil((l[0]+(o?x/2:0))/x),l[1]=Math.ceil(l[1]/u),l[0]=Math.min(Math.max(l[0],1),g+(o?1:0)),l[1]=Math.min(Math.max(l[1],1),b),l):void 0}},9504:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;const v=c(2584);function _(u,o,l,f){const p=u-d(u,l),y=o-d(o,l),w=Math.abs(p-y)-function(E,S,A){let T=0;const R=E-d(E,A),k=S-d(S,A);for(let O=0;O<Math.abs(R-k);O++){const q=g(E,S)==="A"?-1:1,W=A.buffer.lines.get(R+q*O);W!=null&&W.isWrapped&&T++}return T}(u,o,l);return x(w,C(g(u,o),f))}function d(u,o){let l=0,f=o.buffer.lines.get(u),p=f==null?void 0:f.isWrapped;for(;p&&u>=0&&u<o.rows;)l++,f=o.buffer.lines.get(--u),p=f==null?void 0:f.isWrapped;return l}function g(u,o){return u>o?"A":"B"}function b(u,o,l,f,p,y){let w=u,E=o,S="";for(;w!==l||E!==f;)w+=p?1:-1,p&&w>y.cols-1?(S+=y.buffer.translateBufferLineToString(E,!1,u,w),w=0,u=0,E++):!p&&w<0&&(S+=y.buffer.translateBufferLineToString(E,!1,0,u+1),w=y.cols-1,u=w,E--);return S+y.buffer.translateBufferLineToString(E,!1,u,w)}function C(u,o){const l=o?"O":"[";return v.C0.ESC+l+u}function x(u,o){u=Math.floor(u);let l="";for(let f=0;f<u;f++)l+=o;return l}n.moveToCellSequence=function(u,o,l,f){const p=l.buffer.x,y=l.buffer.y;if(!l.buffer.hasScrollback)return function(S,A,T,R,k,O){return _(A,R,k,O).length===0?"":x(b(S,A,S,A-d(A,k),!1,k).length,C("D",O))}(p,y,0,o,l,f)+_(y,o,l,f)+function(S,A,T,R,k,O){let q;q=_(A,R,k,O).length>0?R-d(R,k):A;const W=R,P=function(I,j,L,B,M,Y){let N;return N=_(L,B,M,Y).length>0?B-d(B,M):j,I<L&&N<=B||I>=L&&N<B?"C":"D"}(S,A,T,R,k,O);return x(b(S,q,T,W,P==="C",k).length,C(P,O))}(p,y,u,o,l,f);let w;if(y===o)return w=p>u?"D":"C",x(Math.abs(p-u),C(w,f));w=y>o?"D":"C";const E=Math.abs(y-o);return x(function(S,A){return A.cols-S}(y>o?u:p,l)+(E-1)*l.cols+1+((y>o?p:u)-1),C(w,f))}},1296:function(m,n,c){var v=this&&this.__decorate||function(k,O,q,W){var P,I=arguments.length,j=I<3?O:W===null?W=Object.getOwnPropertyDescriptor(O,q):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(k,O,q,W);else for(var L=k.length-1;L>=0;L--)(P=k[L])&&(j=(I<3?P(j):I>3?P(O,q,j):P(O,q))||j);return I>3&&j&&Object.defineProperty(O,q,j),j},_=this&&this.__param||function(k,O){return function(q,W){O(q,W,k)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;const d=c(3787),g=c(2550),b=c(2223),C=c(6171),x=c(4725),u=c(8055),o=c(8460),l=c(844),f=c(2585),p="xterm-dom-renderer-owner-",y="xterm-rows",w="xterm-fg-",E="xterm-bg-",S="xterm-focus",A="xterm-selection";let T=1,R=n.DomRenderer=class extends l.Disposable{constructor(k,O,q,W,P,I,j,L,B,M){super(),this._element=k,this._screenElement=O,this._viewportElement=q,this._linkifier2=W,this._charSizeService=I,this._optionsService=j,this._bufferService=L,this._coreBrowserService=B,this._themeService=M,this._terminalClass=T++,this._rowElements=[],this.onRequestRedraw=this.register(new o.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(y),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(A),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Y=>this._injectCss(Y))),this._injectCss(this._themeService.colors),this._rowFactory=P.createInstance(d.DomRendererRowFactory,document),this._element.classList.add(p+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Y=>this._handleLinkHover(Y))),this.register(this._linkifier2.onHideLinkUnderline(Y=>this._handleLinkLeave(Y))),this.register((0,l.toDisposable)(()=>{this._element.classList.remove(p+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const k=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*k,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*k),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/k),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/k),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const q of this._rowElements)q.style.width=`${this.dimensions.css.canvas.width}px`,q.style.height=`${this.dimensions.css.cell.height}px`,q.style.lineHeight=`${this.dimensions.css.cell.height}px`,q.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const O=`${this._terminalSelector} .${y} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=O,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(k){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let O=`${this._terminalSelector} .${y} { color: ${k.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;O+=`${this._terminalSelector} .${y} .xterm-dim { color: ${u.color.multiplyOpacity(k.foreground,.5).css};}`,O+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,O+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",O+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${k.cursor.css};  color: ${k.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${k.cursor.css}; }}`,O+=`${this._terminalSelector} .${y}.${S} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${y}.${S} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-block { background-color: ${k.cursor.css}; color: ${k.cursorAccent.css};}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${k.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${k.cursor.css} inset;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${k.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,O+=`${this._terminalSelector} .${A} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${A} div { position: absolute; background-color: ${k.selectionBackgroundOpaque.css};}${this._terminalSelector} .${A} div { position: absolute; background-color: ${k.selectionInactiveBackgroundOpaque.css};}`;for(const[q,W]of k.ansi.entries())O+=`${this._terminalSelector} .${w}${q} { color: ${W.css}; }${this._terminalSelector} .${w}${q}.xterm-dim { color: ${u.color.multiplyOpacity(W,.5).css}; }${this._terminalSelector} .${E}${q} { background-color: ${W.css}; }`;O+=`${this._terminalSelector} .${w}${b.INVERTED_DEFAULT_COLOR} { color: ${u.color.opaque(k.background).css}; }${this._terminalSelector} .${w}${b.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${u.color.multiplyOpacity(u.color.opaque(k.background),.5).css}; }${this._terminalSelector} .${E}${b.INVERTED_DEFAULT_COLOR} { background-color: ${k.foreground.css}; }`,this._themeStyleElement.textContent=O}_setDefaultSpacing(){const k=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${k}px`,this._rowFactory.defaultSpacing=k}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(k,O){for(let q=this._rowElements.length;q<=O;q++){const W=document.createElement("div");this._rowContainer.appendChild(W),this._rowElements.push(W)}for(;this._rowElements.length>O;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(k,O){this._refreshRowElements(k,O),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(S)}handleFocus(){this._rowContainer.classList.add(S),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(k,O,q){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(k,O,q),this.renderRows(0,this._bufferService.rows-1),!k||!O)return;const W=k[1]-this._bufferService.buffer.ydisp,P=O[1]-this._bufferService.buffer.ydisp,I=Math.max(W,0),j=Math.min(P,this._bufferService.rows-1);if(I>=this._bufferService.rows||j<0)return;const L=document.createDocumentFragment();if(q){const B=k[0]>O[0];L.appendChild(this._createSelectionElement(I,B?O[0]:k[0],B?k[0]:O[0],j-I+1))}else{const B=W===I?k[0]:0,M=I===P?O[0]:this._bufferService.cols;L.appendChild(this._createSelectionElement(I,B,M));const Y=j-I-1;if(L.appendChild(this._createSelectionElement(I+1,0,this._bufferService.cols,Y)),I!==j){const N=P===j?O[0]:this._bufferService.cols;L.appendChild(this._createSelectionElement(j,0,N))}}this._selectionContainer.appendChild(L)}_createSelectionElement(k,O,q,W=1){const P=document.createElement("div");return P.style.height=W*this.dimensions.css.cell.height+"px",P.style.top=k*this.dimensions.css.cell.height+"px",P.style.left=O*this.dimensions.css.cell.width+"px",P.style.width=this.dimensions.css.cell.width*(q-O)+"px",P}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const k of this._rowElements)k.replaceChildren()}renderRows(k,O){const q=this._bufferService.buffer,W=q.ybase+q.y,P=Math.min(q.x,this._bufferService.cols-1),I=this._optionsService.rawOptions.cursorBlink,j=this._optionsService.rawOptions.cursorStyle,L=this._optionsService.rawOptions.cursorInactiveStyle;for(let B=k;B<=O;B++){const M=B+q.ydisp,Y=this._rowElements[B],N=q.lines.get(M);if(!Y||!N)break;Y.replaceChildren(...this._rowFactory.createRow(N,M,M===W,j,L,P,I,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${p}${this._terminalClass}`}_handleLinkHover(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!0)}_handleLinkLeave(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!1)}_setCellUnderline(k,O,q,W,P,I){q<0&&(k=0),W<0&&(O=0);const j=this._bufferService.rows-1;q=Math.max(Math.min(q,j),0),W=Math.max(Math.min(W,j),0),P=Math.min(P,this._bufferService.cols);const L=this._bufferService.buffer,B=L.ybase+L.y,M=Math.min(L.x,P-1),Y=this._optionsService.rawOptions.cursorBlink,N=this._optionsService.rawOptions.cursorStyle,F=this._optionsService.rawOptions.cursorInactiveStyle;for(let K=q;K<=W;++K){const V=K+L.ydisp,D=this._rowElements[K],z=L.lines.get(V);if(!D||!z)break;D.replaceChildren(...this._rowFactory.createRow(z,V,V===B,N,F,M,Y,this.dimensions.css.cell.width,this._widthCache,I?K===q?k:0:-1,I?(K===W?O:P)-1:-1))}}};n.DomRenderer=R=v([_(4,f.IInstantiationService),_(5,x.ICharSizeService),_(6,f.IOptionsService),_(7,f.IBufferService),_(8,x.ICoreBrowserService),_(9,x.IThemeService)],R)},3787:function(m,n,c){var v=this&&this.__decorate||function(w,E,S,A){var T,R=arguments.length,k=R<3?E:A===null?A=Object.getOwnPropertyDescriptor(E,S):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(w,E,S,A);else for(var O=w.length-1;O>=0;O--)(T=w[O])&&(k=(R<3?T(k):R>3?T(E,S,k):T(E,S))||k);return R>3&&k&&Object.defineProperty(E,S,k),k},_=this&&this.__param||function(w,E){return function(S,A){E(S,A,w)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=void 0;const d=c(2223),g=c(643),b=c(511),C=c(2585),x=c(8055),u=c(4725),o=c(4269),l=c(6171),f=c(3734);let p=n.DomRendererRowFactory=class{constructor(w,E,S,A,T,R,k){this._document=w,this._characterJoinerService=E,this._optionsService=S,this._coreBrowserService=A,this._coreService=T,this._decorationService=R,this._themeService=k,this._workCell=new b.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(w,E,S){this._selectionStart=w,this._selectionEnd=E,this._columnSelectMode=S}createRow(w,E,S,A,T,R,k,O,q,W,P){const I=[],j=this._characterJoinerService.getJoinedCharacters(E),L=this._themeService.colors;let B,M=w.getNoBgTrimmedLength();S&&M<R+1&&(M=R+1);let Y=0,N="",F=0,K=0,V=0,D=!1,z=0,$=!1,H=0;const J=[],Z=W!==-1&&P!==-1;for(let ne=0;ne<M;ne++){w.loadCell(ne,this._workCell);let U=this._workCell.getWidth();if(U===0)continue;let Q=!1,se=ne,te=this._workCell;if(j.length>0&&ne===j[0][0]){Q=!0;const Ne=j.shift();te=new o.JoinedCellData(this._workCell,w.translateToString(!0,Ne[0],Ne[1]),Ne[1]-Ne[0]),se=Ne[1]-1,U=te.getWidth()}const ce=this._isCellInSelection(ne,E),le=S&&ne===R,oe=Z&&ne>=W&&ne<=P;let pe=!1;this._decorationService.forEachDecorationAtCell(ne,E,void 0,Ne=>{pe=!0});let ke=te.getChars()||g.WHITESPACE_CELL_CHAR;if(ke===" "&&(te.isUnderline()||te.isOverline())&&(ke=""),H=U*O-q.get(ke,te.isBold(),te.isItalic()),B){if(Y&&(ce&&$||!ce&&!$&&te.bg===F)&&(ce&&$&&L.selectionForeground||te.fg===K)&&te.extended.ext===V&&oe===D&&H===z&&!le&&!Q&&!pe){N+=ke,Y++;continue}Y&&(B.textContent=N),B=this._document.createElement("span"),Y=0,N=""}else B=this._document.createElement("span");if(F=te.bg,K=te.fg,V=te.extended.ext,D=oe,z=H,$=ce,Q&&R>=ne&&R<=se&&(R=ne),!this._coreService.isCursorHidden&&le){if(J.push("xterm-cursor"),this._coreBrowserService.isFocused)k&&J.push("xterm-cursor-blink"),J.push(A==="bar"?"xterm-cursor-bar":A==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(T)switch(T){case"outline":J.push("xterm-cursor-outline");break;case"block":J.push("xterm-cursor-block");break;case"bar":J.push("xterm-cursor-bar");break;case"underline":J.push("xterm-cursor-underline")}}if(te.isBold()&&J.push("xterm-bold"),te.isItalic()&&J.push("xterm-italic"),te.isDim()&&J.push("xterm-dim"),N=te.isInvisible()?g.WHITESPACE_CELL_CHAR:te.getChars()||g.WHITESPACE_CELL_CHAR,te.isUnderline()&&(J.push(`xterm-underline-${te.extended.underlineStyle}`),N===" "&&(N=""),!te.isUnderlineColorDefault()))if(te.isUnderlineColorRGB())B.style.textDecorationColor=`rgb(${f.AttributeData.toColorRGB(te.getUnderlineColor()).join(",")})`;else{let Ne=te.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&te.isBold()&&Ne<8&&(Ne+=8),B.style.textDecorationColor=L.ansi[Ne].css}te.isOverline()&&(J.push("xterm-overline"),N===" "&&(N="")),te.isStrikethrough()&&J.push("xterm-strikethrough"),oe&&(B.style.textDecoration="underline");let ie=te.getFgColor(),gt=te.getFgColorMode(),He=te.getBgColor(),At=te.getBgColorMode();const ar=!!te.isInverse();if(ar){const Ne=ie;ie=He,He=Ne;const Og=gt;gt=At,At=Og}let us,ul,hs,lr=!1;switch(this._decorationService.forEachDecorationAtCell(ne,E,void 0,Ne=>{Ne.options.layer!=="top"&&lr||(Ne.backgroundColorRGB&&(At=50331648,He=Ne.backgroundColorRGB.rgba>>8&16777215,us=Ne.backgroundColorRGB),Ne.foregroundColorRGB&&(gt=50331648,ie=Ne.foregroundColorRGB.rgba>>8&16777215,ul=Ne.foregroundColorRGB),lr=Ne.options.layer==="top")}),!lr&&ce&&(us=this._coreBrowserService.isFocused?L.selectionBackgroundOpaque:L.selectionInactiveBackgroundOpaque,He=us.rgba>>8&16777215,At=50331648,lr=!0,L.selectionForeground&&(gt=50331648,ie=L.selectionForeground.rgba>>8&16777215,ul=L.selectionForeground)),lr&&J.push("xterm-decoration-top"),At){case 16777216:case 33554432:hs=L.ansi[He],J.push(`xterm-bg-${He}`);break;case 50331648:hs=x.rgba.toColor(He>>16,He>>8&255,255&He),this._addStyle(B,`background-color:#${y((He>>>0).toString(16),"0",6)}`);break;default:ar?(hs=L.foreground,J.push(`xterm-bg-${d.INVERTED_DEFAULT_COLOR}`)):hs=L.background}switch(us||te.isDim()&&(us=x.color.multiplyOpacity(hs,.5)),gt){case 16777216:case 33554432:te.isBold()&&ie<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ie+=8),this._applyMinimumContrast(B,hs,L.ansi[ie],te,us,void 0)||J.push(`xterm-fg-${ie}`);break;case 50331648:const Ne=x.rgba.toColor(ie>>16&255,ie>>8&255,255&ie);this._applyMinimumContrast(B,hs,Ne,te,us,ul)||this._addStyle(B,`color:#${y(ie.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(B,hs,L.foreground,te,us,void 0)||ar&&J.push(`xterm-fg-${d.INVERTED_DEFAULT_COLOR}`)}J.length&&(B.className=J.join(" "),J.length=0),le||Q||pe?B.textContent=N:Y++,H!==this.defaultSpacing&&(B.style.letterSpacing=`${H}px`),I.push(B),ne=se}return B&&Y&&(B.textContent=N),I}_applyMinimumContrast(w,E,S,A,T,R){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,l.excludeFromContrastRatioDemands)(A.getCode()))return!1;const k=this._getContrastCache(A);let O;if(T||R||(O=k.getColor(E.rgba,S.rgba)),O===void 0){const q=this._optionsService.rawOptions.minimumContrastRatio/(A.isDim()?2:1);O=x.color.ensureContrastRatio(T||E,R||S,q),k.setColor((T||E).rgba,(R||S).rgba,O??null)}return!!O&&(this._addStyle(w,`color:${O.css}`),!0)}_getContrastCache(w){return w.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(w,E){w.setAttribute("style",`${w.getAttribute("style")||""}${E};`)}_isCellInSelection(w,E){const S=this._selectionStart,A=this._selectionEnd;return!(!S||!A)&&(this._columnSelectMode?S[0]<=A[0]?w>=S[0]&&E>=S[1]&&w<A[0]&&E<=A[1]:w<S[0]&&E>=S[1]&&w>=A[0]&&E<=A[1]:E>S[1]&&E<A[1]||S[1]===A[1]&&E===S[1]&&w>=S[0]&&w<A[0]||S[1]<A[1]&&E===A[1]&&w<A[0]||S[1]<A[1]&&E===S[1]&&w>=S[0])}};function y(w,E,S){for(;w.length<S;)w=E+w;return w}n.DomRendererRowFactory=p=v([_(1,u.ICharacterJoinerService),_(2,C.IOptionsService),_(3,u.ICoreBrowserService),_(4,C.ICoreService),_(5,C.IDecorationService),_(6,u.IThemeService)],p)},2550:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WidthCache=void 0,n.WidthCache=class{constructor(c){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=c.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const v=c.createElement("span"),_=c.createElement("span");_.style.fontWeight="bold";const d=c.createElement("span");d.style.fontStyle="italic";const g=c.createElement("span");g.style.fontWeight="bold",g.style.fontStyle="italic",this._measureElements=[v,_,d,g],this._container.appendChild(v),this._container.appendChild(_),this._container.appendChild(d),this._container.appendChild(g),c.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(c,v,_,d){c===this._font&&v===this._fontSize&&_===this._weight&&d===this._weightBold||(this._font=c,this._fontSize=v,this._weight=_,this._weightBold=d,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${_}`,this._measureElements[1].style.fontWeight=`${d}`,this._measureElements[2].style.fontWeight=`${_}`,this._measureElements[3].style.fontWeight=`${d}`,this.clear())}get(c,v,_){let d=0;if(!v&&!_&&c.length===1&&(d=c.charCodeAt(0))<256)return this._flat[d]!==-9999?this._flat[d]:this._flat[d]=this._measure(c,0);let g=c;v&&(g+="B"),_&&(g+="I");let b=this._holey.get(g);if(b===void 0){let C=0;v&&(C|=1),_&&(C|=2),b=this._measure(c,C),this._holey.set(g,b)}return b}_measure(c,v){const _=this._measureElements[v];return _.textContent=c.repeat(32),_.offsetWidth/32}}},2223:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;const v=c(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=v.isFirefox||v.isLegacyEdge?"bottom":"ideographic"},6171:(m,n)=>{function c(v){return 57508<=v&&v<=57558}Object.defineProperty(n,"__esModule",{value:!0}),n.createRenderDimensions=n.excludeFromContrastRatioDemands=n.isRestrictedPowerlineGlyph=n.isPowerlineGlyph=n.throwIfFalsy=void 0,n.throwIfFalsy=function(v){if(!v)throw new Error("value must not be falsy");return v},n.isPowerlineGlyph=c,n.isRestrictedPowerlineGlyph=function(v){return 57520<=v&&v<=57527},n.excludeFromContrastRatioDemands=function(v){return c(v)||function(_){return 9472<=_&&_<=9631}(v)},n.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0,n.SelectionModel=class{constructor(c){this._bufferService=c,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?c%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)-1]:[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[c,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[Math.max(c,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const c=this.selectionStart,v=this.selectionEnd;return!(!c||!v)&&(c[1]>v[1]||c[1]===v[1]&&c[0]>v[0])}handleTrim(c){return this.selectionStart&&(this.selectionStart[1]-=c),this.selectionEnd&&(this.selectionEnd[1]-=c),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(m,n,c){var v=this&&this.__decorate||function(u,o,l,f){var p,y=arguments.length,w=y<3?o:f===null?f=Object.getOwnPropertyDescriptor(o,l):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,o,l,f);else for(var E=u.length-1;E>=0;E--)(p=u[E])&&(w=(y<3?p(w):y>3?p(o,l,w):p(o,l))||w);return y>3&&w&&Object.defineProperty(o,l,w),w},_=this&&this.__param||function(u,o){return function(l,f){o(l,f,u)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;const d=c(2585),g=c(8460),b=c(844);let C=n.CharSizeService=class extends b.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(u,o,l){super(),this._optionsService=l,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(u,o,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())}};n.CharSizeService=C=v([_(2,d.IOptionsService)],C);class x{constructor(o,l,f){this._document=o,this._parentElement=l,this._optionsService=f,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const o={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return o.width!==0&&o.height!==0&&(this._result.width=o.width/32,this._result.height=Math.ceil(o.height)),this._result}}},4269:function(m,n,c){var v=this&&this.__decorate||function(o,l,f,p){var y,w=arguments.length,E=w<3?l:p===null?p=Object.getOwnPropertyDescriptor(l,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(o,l,f,p);else for(var S=o.length-1;S>=0;S--)(y=o[S])&&(E=(w<3?y(E):w>3?y(l,f,E):y(l,f))||E);return w>3&&E&&Object.defineProperty(l,f,E),E},_=this&&this.__param||function(o,l){return function(f,p){l(f,p,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;const d=c(3734),g=c(643),b=c(511),C=c(2585);class x extends d.AttributeData{constructor(l,f,p){super(),this.content=0,this.combinedData="",this.fg=l.fg,this.bg=l.bg,this.combinedData=f,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(l){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.JoinedCellData=x;let u=n.CharacterJoinerService=class Ng{constructor(l){this._bufferService=l,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new b.CellData}register(l){const f={id:this._nextCharacterJoinerId++,handler:l};return this._characterJoiners.push(f),f.id}deregister(l){for(let f=0;f<this._characterJoiners.length;f++)if(this._characterJoiners[f].id===l)return this._characterJoiners.splice(f,1),!0;return!1}getJoinedCharacters(l){if(this._characterJoiners.length===0)return[];const f=this._bufferService.buffer.lines.get(l);if(!f||f.length===0)return[];const p=[],y=f.translateToString(!0);let w=0,E=0,S=0,A=f.getFg(0),T=f.getBg(0);for(let R=0;R<f.getTrimmedLength();R++)if(f.loadCell(R,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==A||this._workCell.bg!==T){if(R-w>1){const k=this._getJoinedRanges(y,S,E,f,w);for(let O=0;O<k.length;O++)p.push(k[O])}w=R,S=E,A=this._workCell.fg,T=this._workCell.bg}E+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1){const R=this._getJoinedRanges(y,S,E,f,w);for(let k=0;k<R.length;k++)p.push(R[k])}return p}_getJoinedRanges(l,f,p,y,w){const E=l.substring(f,p);let S=[];try{S=this._characterJoiners[0].handler(E)}catch(A){console.error(A)}for(let A=1;A<this._characterJoiners.length;A++)try{const T=this._characterJoiners[A].handler(E);for(let R=0;R<T.length;R++)Ng._mergeRanges(S,T[R])}catch(T){console.error(T)}return this._stringRangesToCellRanges(S,y,w),S}_stringRangesToCellRanges(l,f,p){let y=0,w=!1,E=0,S=l[y];if(S){for(let A=p;A<this._bufferService.cols;A++){const T=f.getWidth(A),R=f.getString(A).length||g.WHITESPACE_CELL_CHAR.length;if(T!==0){if(!w&&S[0]<=E&&(S[0]=A,w=!0),S[1]<=E){if(S[1]=A,S=l[++y],!S)break;S[0]<=E?(S[0]=A,w=!0):w=!1}E+=R}}S&&(S[1]=this._bufferService.cols)}}static _mergeRanges(l,f){let p=!1;for(let y=0;y<l.length;y++){const w=l[y];if(p){if(f[1]<=w[0])return l[y-1][1]=f[1],l;if(f[1]<=w[1])return l[y-1][1]=Math.max(f[1],w[1]),l.splice(y,1),l;l.splice(y,1),y--}else{if(f[1]<=w[0])return l.splice(y,0,f),l;if(f[1]<=w[1])return w[0]=Math.min(f[0],w[0]),l;f[0]<w[1]&&(w[0]=Math.min(f[0],w[0]),p=!0)}}return p?l[l.length-1][1]=f[1]:l.push(f),l}};n.CharacterJoinerService=u=v([_(0,C.IBufferService)],u)},5114:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0,n.CoreBrowserService=class{constructor(c,v){this._textarea=c,this.window=v,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(m,n,c){var v=this&&this.__decorate||function(C,x,u,o){var l,f=arguments.length,p=f<3?x:o===null?o=Object.getOwnPropertyDescriptor(x,u):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(C,x,u,o);else for(var y=C.length-1;y>=0;y--)(l=C[y])&&(p=(f<3?l(p):f>3?l(x,u,p):l(x,u))||p);return f>3&&p&&Object.defineProperty(x,u,p),p},_=this&&this.__param||function(C,x){return function(u,o){x(u,o,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;const d=c(4725),g=c(9806);let b=n.MouseService=class{constructor(C,x){this._renderService=C,this._charSizeService=x}getCoords(C,x,u,o,l){return(0,g.getCoords)(window,C,x,u,o,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,l)}getMouseReportCoords(C,x){const u=(0,g.getCoordsRelativeToElement)(window,C,x);if(this._charSizeService.hasValidSize)return u[0]=Math.min(Math.max(u[0],0),this._renderService.dimensions.css.canvas.width-1),u[1]=Math.min(Math.max(u[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(u[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(u[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(u[0]),y:Math.floor(u[1])}}};n.MouseService=b=v([_(0,d.IRenderService),_(1,d.ICharSizeService)],b)},3230:function(m,n,c){var v=this&&this.__decorate||function(p,y,w,E){var S,A=arguments.length,T=A<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(p,y,w,E);else for(var R=p.length-1;R>=0;R--)(S=p[R])&&(T=(A<3?S(T):A>3?S(y,w,T):S(y,w))||T);return A>3&&T&&Object.defineProperty(y,w,T),T},_=this&&this.__param||function(p,y){return function(w,E){y(w,E,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;const d=c(3656),g=c(6193),b=c(5596),C=c(4725),x=c(8460),u=c(844),o=c(7226),l=c(2585);let f=n.RenderService=class extends u.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(p,y,w,E,S,A,T,R){if(super(),this._rowCount=p,this._charSizeService=E,this._renderer=this.register(new u.MutableDisposable),this._pausedResizeTask=new o.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new x.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new x.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new x.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new x.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new g.RenderDebouncer(T.window,(k,O)=>this._renderRows(k,O)),this.register(this._renderDebouncer),this._screenDprMonitor=new b.ScreenDprMonitor(T.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(A.onResize(()=>this._fullRefresh())),this.register(A.buffers.onBufferActivate(()=>{var k;return(k=this._renderer.value)===null||k===void 0?void 0:k.clear()})),this.register(w.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(S.onDecorationRegistered(()=>this._fullRefresh())),this.register(S.onDecorationRemoved(()=>this._fullRefresh())),this.register(w.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(A.cols,A.rows),this._fullRefresh()})),this.register(w.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(A.buffer.y,A.buffer.y,!0))),this.register((0,d.addDisposableDomListener)(T.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(R.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in T.window){const k=new T.window.IntersectionObserver(O=>this._handleIntersectionChange(O[O.length-1]),{threshold:0});k.observe(y),this.register({dispose:()=>k.disconnect()})}}_handleIntersectionChange(p){this._isPaused=p.isIntersecting===void 0?p.intersectionRatio===0:!p.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(p,y,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(p,y,this._rowCount))}_renderRows(p,y){this._renderer.value&&(p=Math.min(p,this._rowCount-1),y=Math.min(y,this._rowCount-1),this._renderer.value.renderRows(p,y),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:p,end:y}),this._onRender.fire({start:p,end:y}),this._isNextRenderRedrawOnly=!0)}resize(p,y){this._rowCount=y,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(p){this._renderer.value=p,this._renderer.value.onRequestRedraw(y=>this.refreshRows(y.start,y.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(p){return this._renderDebouncer.addRefreshCallback(p)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var p,y;this._renderer.value&&((y=(p=this._renderer.value).clearTextureAtlas)===null||y===void 0||y.call(p),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(p,y){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(p,y)):this._renderer.value.handleResize(p,y),this._fullRefresh())}handleCharSizeChanged(){var p;(p=this._renderer.value)===null||p===void 0||p.handleCharSizeChanged()}handleBlur(){var p;(p=this._renderer.value)===null||p===void 0||p.handleBlur()}handleFocus(){var p;(p=this._renderer.value)===null||p===void 0||p.handleFocus()}handleSelectionChanged(p,y,w){var E;this._selectionState.start=p,this._selectionState.end=y,this._selectionState.columnSelectMode=w,(E=this._renderer.value)===null||E===void 0||E.handleSelectionChanged(p,y,w)}handleCursorMove(){var p;(p=this._renderer.value)===null||p===void 0||p.handleCursorMove()}clear(){var p;(p=this._renderer.value)===null||p===void 0||p.clear()}};n.RenderService=f=v([_(2,l.IOptionsService),_(3,C.ICharSizeService),_(4,l.IDecorationService),_(5,l.IBufferService),_(6,C.ICoreBrowserService),_(7,C.IThemeService)],f)},9312:function(m,n,c){var v=this&&this.__decorate||function(S,A,T,R){var k,O=arguments.length,q=O<3?A:R===null?R=Object.getOwnPropertyDescriptor(A,T):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(S,A,T,R);else for(var W=S.length-1;W>=0;W--)(k=S[W])&&(q=(O<3?k(q):O>3?k(A,T,q):k(A,T))||q);return O>3&&q&&Object.defineProperty(A,T,q),q},_=this&&this.__param||function(S,A){return function(T,R){A(T,R,S)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;const d=c(9806),g=c(9504),b=c(456),C=c(4725),x=c(8460),u=c(844),o=c(6114),l=c(4841),f=c(511),p=c(2585),y="",w=new RegExp(y,"g");let E=n.SelectionService=class extends u.Disposable{constructor(S,A,T,R,k,O,q,W,P){super(),this._element=S,this._screenElement=A,this._linkifier=T,this._bufferService=R,this._coreService=k,this._mouseService=O,this._optionsService=q,this._renderService=W,this._coreBrowserService=P,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new f.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new x.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new x.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new x.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=I=>this._handleMouseMove(I),this._mouseUpListener=I=>this._handleMouseUp(I),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(I=>this._handleTrim(I)),this.register(this._bufferService.buffers.onBufferActivate(I=>this._handleBufferActivate(I))),this.enable(),this._model=new b.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,u.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const S=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!S||!A||S[0]===A[0]&&S[1]===A[1])}get selectionText(){const S=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;if(!S||!A)return"";const T=this._bufferService.buffer,R=[];if(this._activeSelectionMode===3){if(S[0]===A[0])return"";const k=S[0]<A[0]?S[0]:A[0],O=S[0]<A[0]?A[0]:S[0];for(let q=S[1];q<=A[1];q++){const W=T.translateBufferLineToString(q,!0,k,O);R.push(W)}}else{const k=S[1]===A[1]?A[0]:void 0;R.push(T.translateBufferLineToString(S[1],!0,S[0],k));for(let O=S[1]+1;O<=A[1]-1;O++){const q=T.lines.get(O),W=T.translateBufferLineToString(O,!0);q!=null&&q.isWrapped?R[R.length-1]+=W:R.push(W)}if(S[1]!==A[1]){const O=T.lines.get(A[1]),q=T.translateBufferLineToString(A[1],!0,0,A[0]);O&&O.isWrapped?R[R.length-1]+=q:R.push(q)}}return R.map(k=>k.replace(w," ")).join(o.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(S){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),o.isLinux&&S&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(S){const A=this._getMouseBufferCoords(S),T=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!!(T&&R&&A)&&this._areCoordsInSelection(A,T,R)}isCellInSelection(S,A){const T=this._model.finalSelectionStart,R=this._model.finalSelectionEnd;return!(!T||!R)&&this._areCoordsInSelection([S,A],T,R)}_areCoordsInSelection(S,A,T){return S[1]>A[1]&&S[1]<T[1]||A[1]===T[1]&&S[1]===A[1]&&S[0]>=A[0]&&S[0]<T[0]||A[1]<T[1]&&S[1]===T[1]&&S[0]<T[0]||A[1]<T[1]&&S[1]===A[1]&&S[0]>=A[0]}_selectWordAtCursor(S,A){var T,R;const k=(R=(T=this._linkifier.currentLink)===null||T===void 0?void 0:T.link)===null||R===void 0?void 0:R.range;if(k)return this._model.selectionStart=[k.start.x-1,k.start.y-1],this._model.selectionStartLength=(0,l.getRangeLength)(k,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const O=this._getMouseBufferCoords(S);return!!O&&(this._selectWordAt(O,A),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(S,A){this._model.clearSelection(),S=Math.max(S,0),A=Math.min(A,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,S],this._model.selectionEnd=[this._bufferService.cols,A],this.refresh(),this._onSelectionChange.fire()}_handleTrim(S){this._model.handleTrim(S)&&this.refresh()}_getMouseBufferCoords(S){const A=this._mouseService.getCoords(S,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(A)return A[0]--,A[1]--,A[1]+=this._bufferService.buffer.ydisp,A}_getMouseEventScrollAmount(S){let A=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,S,this._screenElement)[1];const T=this._renderService.dimensions.css.canvas.height;return A>=0&&A<=T?0:(A>T&&(A-=T),A=Math.min(Math.max(A,-50),50),A/=50,A/Math.abs(A)+Math.round(14*A))}shouldForceSelection(S){return o.isMac?S.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:S.shiftKey}handleMouseDown(S){if(this._mouseDownTimeStamp=S.timeStamp,(S.button!==2||!this.hasSelection)&&S.button===0){if(!this._enabled){if(!this.shouldForceSelection(S))return;S.stopPropagation()}S.preventDefault(),this._dragScrollAmount=0,this._enabled&&S.shiftKey?this._handleIncrementalClick(S):S.detail===1?this._handleSingleClick(S):S.detail===2?this._handleDoubleClick(S):S.detail===3&&this._handleTripleClick(S),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(S){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(S))}_handleSingleClick(S){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(S)?3:0,this._model.selectionStart=this._getMouseBufferCoords(S),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const A=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);A&&A.length!==this._model.selectionStart[0]&&A.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(S){this._selectWordAtCursor(S,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(S){const A=this._getMouseBufferCoords(S);A&&(this._activeSelectionMode=2,this._selectLineAt(A[1]))}shouldColumnSelect(S){return S.altKey&&!(o.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(S){if(S.stopImmediatePropagation(),!this._model.selectionStart)return;const A=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(S),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(S),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const T=this._bufferService.buffer;if(this._model.selectionEnd[1]<T.lines.length){const R=T.lines.get(this._model.selectionEnd[1]);R&&R.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}A&&A[0]===this._model.selectionEnd[0]&&A[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const S=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(S.ydisp+this._bufferService.rows,S.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=S.ydisp),this.refresh()}}_handleMouseUp(S){const A=S.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&A<500&&S.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const T=this._mouseService.getCoords(S,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(T&&T[0]!==void 0&&T[1]!==void 0){const R=(0,g.moveToCellSequence)(T[0]-1,T[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(R,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const S=this._model.finalSelectionStart,A=this._model.finalSelectionEnd,T=!(!S||!A||S[0]===A[0]&&S[1]===A[1]);T?S&&A&&(this._oldSelectionStart&&this._oldSelectionEnd&&S[0]===this._oldSelectionStart[0]&&S[1]===this._oldSelectionStart[1]&&A[0]===this._oldSelectionEnd[0]&&A[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(S,A,T)):this._oldHasSelection&&this._fireOnSelectionChange(S,A,T)}_fireOnSelectionChange(S,A,T){this._oldSelectionStart=S,this._oldSelectionEnd=A,this._oldHasSelection=T,this._onSelectionChange.fire()}_handleBufferActivate(S){this.clearSelection(),this._trimListener.dispose(),this._trimListener=S.activeBuffer.lines.onTrim(A=>this._handleTrim(A))}_convertViewportColToCharacterIndex(S,A){let T=A;for(let R=0;A>=R;R++){const k=S.loadCell(R,this._workCell).getChars().length;this._workCell.getWidth()===0?T--:k>1&&A!==R&&(T+=k-1)}return T}setSelection(S,A,T){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[S,A],this._model.selectionStartLength=T,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(S){this._isClickInSelection(S)||(this._selectWordAtCursor(S,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(S,A,T=!0,R=!0){if(S[0]>=this._bufferService.cols)return;const k=this._bufferService.buffer,O=k.lines.get(S[1]);if(!O)return;const q=k.translateBufferLineToString(S[1],!1);let W=this._convertViewportColToCharacterIndex(O,S[0]),P=W;const I=S[0]-W;let j=0,L=0,B=0,M=0;if(q.charAt(W)===" "){for(;W>0&&q.charAt(W-1)===" ";)W--;for(;P<q.length&&q.charAt(P+1)===" ";)P++}else{let F=S[0],K=S[0];O.getWidth(F)===0&&(j++,F--),O.getWidth(K)===2&&(L++,K++);const V=O.getString(K).length;for(V>1&&(M+=V-1,P+=V-1);F>0&&W>0&&!this._isCharWordSeparator(O.loadCell(F-1,this._workCell));){O.loadCell(F-1,this._workCell);const D=this._workCell.getChars().length;this._workCell.getWidth()===0?(j++,F--):D>1&&(B+=D-1,W-=D-1),W--,F--}for(;K<O.length&&P+1<q.length&&!this._isCharWordSeparator(O.loadCell(K+1,this._workCell));){O.loadCell(K+1,this._workCell);const D=this._workCell.getChars().length;this._workCell.getWidth()===2?(L++,K++):D>1&&(M+=D-1,P+=D-1),P++,K++}}P++;let Y=W+I-j+B,N=Math.min(this._bufferService.cols,P-W+j+L-B-M);if(A||q.slice(W,P).trim()!==""){if(T&&Y===0&&O.getCodePoint(0)!==32){const F=k.lines.get(S[1]-1);if(F&&O.isWrapped&&F.getCodePoint(this._bufferService.cols-1)!==32){const K=this._getWordAt([this._bufferService.cols-1,S[1]-1],!1,!0,!1);if(K){const V=this._bufferService.cols-K.start;Y-=V,N+=V}}}if(R&&Y+N===this._bufferService.cols&&O.getCodePoint(this._bufferService.cols-1)!==32){const F=k.lines.get(S[1]+1);if(F!=null&&F.isWrapped&&F.getCodePoint(0)!==32){const K=this._getWordAt([0,S[1]+1],!1,!1,!0);K&&(N+=K.length)}}return{start:Y,length:N}}}_selectWordAt(S,A){const T=this._getWordAt(S,A);if(T){for(;T.start<0;)T.start+=this._bufferService.cols,S[1]--;this._model.selectionStart=[T.start,S[1]],this._model.selectionStartLength=T.length}}_selectToWordAt(S){const A=this._getWordAt(S,!0);if(A){let T=S[1];for(;A.start<0;)A.start+=this._bufferService.cols,T--;if(!this._model.areSelectionValuesReversed())for(;A.start+A.length>this._bufferService.cols;)A.length-=this._bufferService.cols,T++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?A.start:A.start+A.length,T]}}_isCharWordSeparator(S){return S.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(S.getChars())>=0}_selectLineAt(S){const A=this._bufferService.buffer.getWrappedRangeForLine(S),T={start:{x:0,y:A.first},end:{x:this._bufferService.cols-1,y:A.last}};this._model.selectionStart=[0,A.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,l.getRangeLength)(T,this._bufferService.cols)}};n.SelectionService=E=v([_(3,p.IBufferService),_(4,p.ICoreService),_(5,C.IMouseService),_(6,p.IOptionsService),_(7,C.IRenderService),_(8,C.ICoreBrowserService)],E)},4725:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IThemeService=n.ICharacterJoinerService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;const v=c(8343);n.ICharSizeService=(0,v.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,v.createDecorator)("CoreBrowserService"),n.IMouseService=(0,v.createDecorator)("MouseService"),n.IRenderService=(0,v.createDecorator)("RenderService"),n.ISelectionService=(0,v.createDecorator)("SelectionService"),n.ICharacterJoinerService=(0,v.createDecorator)("CharacterJoinerService"),n.IThemeService=(0,v.createDecorator)("ThemeService")},6731:function(m,n,c){var v=this&&this.__decorate||function(E,S,A,T){var R,k=arguments.length,O=k<3?S:T===null?T=Object.getOwnPropertyDescriptor(S,A):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(E,S,A,T);else for(var q=E.length-1;q>=0;q--)(R=E[q])&&(O=(k<3?R(O):k>3?R(S,A,O):R(S,A))||O);return k>3&&O&&Object.defineProperty(S,A,O),O},_=this&&this.__param||function(E,S){return function(A,T){S(A,T,E)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeService=n.DEFAULT_ANSI_COLORS=void 0;const d=c(7239),g=c(8055),b=c(8460),C=c(844),x=c(2585),u=g.css.toColor("#ffffff"),o=g.css.toColor("#000000"),l=g.css.toColor("#ffffff"),f=g.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],S=[0,95,135,175,215,255];for(let A=0;A<216;A++){const T=S[A/36%6|0],R=S[A/6%6|0],k=S[A%6];E.push({css:g.channels.toCss(T,R,k),rgba:g.channels.toRgba(T,R,k)})}for(let A=0;A<24;A++){const T=8+10*A;E.push({css:g.channels.toCss(T,T,T),rgba:g.channels.toRgba(T,T,T)})}return E})());let y=n.ThemeService=class extends C.Disposable{get colors(){return this._colors}constructor(E){super(),this._optionsService=E,this._contrastCache=new d.ColorContrastCache,this._halfContrastCache=new d.ColorContrastCache,this._onChangeColors=this.register(new b.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:u,background:o,cursor:l,cursorAccent:f,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:g.color.blend(o,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:g.color.blend(o,p),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(E={}){const S=this._colors;if(S.foreground=w(E.foreground,u),S.background=w(E.background,o),S.cursor=w(E.cursor,l),S.cursorAccent=w(E.cursorAccent,f),S.selectionBackgroundTransparent=w(E.selectionBackground,p),S.selectionBackgroundOpaque=g.color.blend(S.background,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundTransparent=w(E.selectionInactiveBackground,S.selectionBackgroundTransparent),S.selectionInactiveBackgroundOpaque=g.color.blend(S.background,S.selectionInactiveBackgroundTransparent),S.selectionForeground=E.selectionForeground?w(E.selectionForeground,g.NULL_COLOR):void 0,S.selectionForeground===g.NULL_COLOR&&(S.selectionForeground=void 0),g.color.isOpaque(S.selectionBackgroundTransparent)&&(S.selectionBackgroundTransparent=g.color.opacity(S.selectionBackgroundTransparent,.3)),g.color.isOpaque(S.selectionInactiveBackgroundTransparent)&&(S.selectionInactiveBackgroundTransparent=g.color.opacity(S.selectionInactiveBackgroundTransparent,.3)),S.ansi=n.DEFAULT_ANSI_COLORS.slice(),S.ansi[0]=w(E.black,n.DEFAULT_ANSI_COLORS[0]),S.ansi[1]=w(E.red,n.DEFAULT_ANSI_COLORS[1]),S.ansi[2]=w(E.green,n.DEFAULT_ANSI_COLORS[2]),S.ansi[3]=w(E.yellow,n.DEFAULT_ANSI_COLORS[3]),S.ansi[4]=w(E.blue,n.DEFAULT_ANSI_COLORS[4]),S.ansi[5]=w(E.magenta,n.DEFAULT_ANSI_COLORS[5]),S.ansi[6]=w(E.cyan,n.DEFAULT_ANSI_COLORS[6]),S.ansi[7]=w(E.white,n.DEFAULT_ANSI_COLORS[7]),S.ansi[8]=w(E.brightBlack,n.DEFAULT_ANSI_COLORS[8]),S.ansi[9]=w(E.brightRed,n.DEFAULT_ANSI_COLORS[9]),S.ansi[10]=w(E.brightGreen,n.DEFAULT_ANSI_COLORS[10]),S.ansi[11]=w(E.brightYellow,n.DEFAULT_ANSI_COLORS[11]),S.ansi[12]=w(E.brightBlue,n.DEFAULT_ANSI_COLORS[12]),S.ansi[13]=w(E.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),S.ansi[14]=w(E.brightCyan,n.DEFAULT_ANSI_COLORS[14]),S.ansi[15]=w(E.brightWhite,n.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const A=Math.min(S.ansi.length-16,E.extendedAnsi.length);for(let T=0;T<A;T++)S.ansi[T+16]=w(E.extendedAnsi[T],n.DEFAULT_ANSI_COLORS[T+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let S=0;S<this._restoreColors.ansi.length;++S)this._colors.ansi[S]=this._restoreColors.ansi[S]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function w(E,S){if(E!==void 0)try{return g.css.toColor(E)}catch{}return S}n.ThemeService=y=v([_(0,x.IOptionsService)],y)},6349:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;const v=c(8460),_=c(844);class d extends _.Disposable{constructor(b){super(),this._maxLength=b,this.onDeleteEmitter=this.register(new v.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new v.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new v.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(b){if(this._maxLength===b)return;const C=new Array(b);for(let x=0;x<Math.min(b,this.length);x++)C[x]=this._array[this._getCyclicIndex(x)];this._array=C,this._maxLength=b,this._startIndex=0}get length(){return this._length}set length(b){if(b>this._length)for(let C=this._length;C<b;C++)this._array[C]=void 0;this._length=b}get(b){return this._array[this._getCyclicIndex(b)]}set(b,C){this._array[this._getCyclicIndex(b)]=C}push(b){this._array[this._getCyclicIndex(this._length)]=b,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(b,C,...x){if(C){for(let u=b;u<this._length-C;u++)this._array[this._getCyclicIndex(u)]=this._array[this._getCyclicIndex(u+C)];this._length-=C,this.onDeleteEmitter.fire({index:b,amount:C})}for(let u=this._length-1;u>=b;u--)this._array[this._getCyclicIndex(u+x.length)]=this._array[this._getCyclicIndex(u)];for(let u=0;u<x.length;u++)this._array[this._getCyclicIndex(b+u)]=x[u];if(x.length&&this.onInsertEmitter.fire({index:b,amount:x.length}),this._length+x.length>this._maxLength){const u=this._length+x.length-this._maxLength;this._startIndex+=u,this._length=this._maxLength,this.onTrimEmitter.fire(u)}else this._length+=x.length}trimStart(b){b>this._length&&(b=this._length),this._startIndex+=b,this._length-=b,this.onTrimEmitter.fire(b)}shiftElements(b,C,x){if(!(C<=0)){if(b<0||b>=this._length)throw new Error("start argument out of range");if(b+x<0)throw new Error("Cannot shift elements in list beyond index 0");if(x>0){for(let o=C-1;o>=0;o--)this.set(b+o+x,this.get(b+o));const u=b+C+x-this._length;if(u>0)for(this._length+=u;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let u=0;u<C;u++)this.set(b+u+x,this.get(b+u))}}_getCyclicIndex(b){return(this._startIndex+b)%this._maxLength}}n.CircularList=d},1439:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function c(v,_=5){if(typeof v!="object")return v;const d=Array.isArray(v)?[]:{};for(const g in v)d[g]=_<=1?v[g]:v[g]&&c(v[g],_-1);return d}},8055:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=n.NULL_COLOR=void 0;const v=c(6114);let _=0,d=0,g=0,b=0;var C,x,u,o,l;function f(y){const w=y.toString(16);return w.length<2?"0"+w:w}function p(y,w){return y<w?(w+.05)/(y+.05):(y+.05)/(w+.05)}n.NULL_COLOR={css:"#00000000",rgba:0},function(y){y.toCss=function(w,E,S,A){return A!==void 0?`#${f(w)}${f(E)}${f(S)}${f(A)}`:`#${f(w)}${f(E)}${f(S)}`},y.toRgba=function(w,E,S,A=255){return(w<<24|E<<16|S<<8|A)>>>0}}(C||(n.channels=C={})),function(y){function w(E,S){return b=Math.round(255*S),[_,d,g]=l.toChannels(E.rgba),{css:C.toCss(_,d,g,b),rgba:C.toRgba(_,d,g,b)}}y.blend=function(E,S){if(b=(255&S.rgba)/255,b===1)return{css:S.css,rgba:S.rgba};const A=S.rgba>>24&255,T=S.rgba>>16&255,R=S.rgba>>8&255,k=E.rgba>>24&255,O=E.rgba>>16&255,q=E.rgba>>8&255;return _=k+Math.round((A-k)*b),d=O+Math.round((T-O)*b),g=q+Math.round((R-q)*b),{css:C.toCss(_,d,g),rgba:C.toRgba(_,d,g)}},y.isOpaque=function(E){return(255&E.rgba)==255},y.ensureContrastRatio=function(E,S,A){const T=l.ensureContrastRatio(E.rgba,S.rgba,A);if(T)return l.toColor(T>>24&255,T>>16&255,T>>8&255)},y.opaque=function(E){const S=(255|E.rgba)>>>0;return[_,d,g]=l.toChannels(S),{css:C.toCss(_,d,g),rgba:S}},y.opacity=w,y.multiplyOpacity=function(E,S){return b=255&E.rgba,w(E,b*S/255)},y.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]}}(x||(n.color=x={})),function(y){let w,E;if(!v.isNode){const S=document.createElement("canvas");S.width=1,S.height=1;const A=S.getContext("2d",{willReadFrequently:!0});A&&(w=A,w.globalCompositeOperation="copy",E=w.createLinearGradient(0,0,1,1))}y.toColor=function(S){if(S.match(/#[\da-f]{3,8}/i))switch(S.length){case 4:return _=parseInt(S.slice(1,2).repeat(2),16),d=parseInt(S.slice(2,3).repeat(2),16),g=parseInt(S.slice(3,4).repeat(2),16),l.toColor(_,d,g);case 5:return _=parseInt(S.slice(1,2).repeat(2),16),d=parseInt(S.slice(2,3).repeat(2),16),g=parseInt(S.slice(3,4).repeat(2),16),b=parseInt(S.slice(4,5).repeat(2),16),l.toColor(_,d,g,b);case 7:return{css:S,rgba:(parseInt(S.slice(1),16)<<8|255)>>>0};case 9:return{css:S,rgba:parseInt(S.slice(1),16)>>>0}}const A=S.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(A)return _=parseInt(A[1]),d=parseInt(A[2]),g=parseInt(A[3]),b=Math.round(255*(A[5]===void 0?1:parseFloat(A[5]))),l.toColor(_,d,g,b);if(!w||!E)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=E,w.fillStyle=S,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[_,d,g,b]=w.getImageData(0,0,1,1).data,b!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:C.toRgba(_,d,g,b),css:S}}}(u||(n.css=u={})),function(y){function w(E,S,A){const T=E/255,R=S/255,k=A/255;return .2126*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.0722*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))}y.relativeLuminance=function(E){return w(E>>16&255,E>>8&255,255&E)},y.relativeLuminance2=w}(o||(n.rgb=o={})),function(y){function w(S,A,T){const R=S>>24&255,k=S>>16&255,O=S>>8&255;let q=A>>24&255,W=A>>16&255,P=A>>8&255,I=p(o.relativeLuminance2(q,W,P),o.relativeLuminance2(R,k,O));for(;I<T&&(q>0||W>0||P>0);)q-=Math.max(0,Math.ceil(.1*q)),W-=Math.max(0,Math.ceil(.1*W)),P-=Math.max(0,Math.ceil(.1*P)),I=p(o.relativeLuminance2(q,W,P),o.relativeLuminance2(R,k,O));return(q<<24|W<<16|P<<8|255)>>>0}function E(S,A,T){const R=S>>24&255,k=S>>16&255,O=S>>8&255;let q=A>>24&255,W=A>>16&255,P=A>>8&255,I=p(o.relativeLuminance2(q,W,P),o.relativeLuminance2(R,k,O));for(;I<T&&(q<255||W<255||P<255);)q=Math.min(255,q+Math.ceil(.1*(255-q))),W=Math.min(255,W+Math.ceil(.1*(255-W))),P=Math.min(255,P+Math.ceil(.1*(255-P))),I=p(o.relativeLuminance2(q,W,P),o.relativeLuminance2(R,k,O));return(q<<24|W<<16|P<<8|255)>>>0}y.ensureContrastRatio=function(S,A,T){const R=o.relativeLuminance(S>>8),k=o.relativeLuminance(A>>8);if(p(R,k)<T){if(k<R){const W=w(S,A,T),P=p(R,o.relativeLuminance(W>>8));if(P<T){const I=E(S,A,T);return P>p(R,o.relativeLuminance(I>>8))?W:I}return W}const O=E(S,A,T),q=p(R,o.relativeLuminance(O>>8));if(q<T){const W=w(S,A,T);return q>p(R,o.relativeLuminance(W>>8))?O:W}return O}},y.reduceLuminance=w,y.increaseLuminance=E,y.toChannels=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},y.toColor=function(S,A,T,R){return{css:C.toCss(S,A,T,R),rgba:C.toRgba(S,A,T,R)}}}(l||(n.rgba=l={})),n.toPaddedHex=f,n.contrastRatio=p},8969:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;const v=c(844),_=c(2585),d=c(4348),g=c(7866),b=c(744),C=c(7302),x=c(6975),u=c(8460),o=c(1753),l=c(1480),f=c(7994),p=c(9282),y=c(5435),w=c(5981),E=c(2660);let S=!1;class A extends v.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new u.EventEmitter),this._onScroll.event(R=>{var k;(k=this._onScrollApi)===null||k===void 0||k.fire(R.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(R){for(const k in R)this.optionsService.options[k]=R[k]}constructor(R){super(),this._windowsWrappingHeuristics=this.register(new v.MutableDisposable),this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new u.EventEmitter),this._instantiationService=new d.InstantiationService,this.optionsService=this.register(new C.OptionsService(R)),this._instantiationService.setService(_.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(b.BufferService)),this._instantiationService.setService(_.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(_.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(_.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(o.CoreMouseService)),this._instantiationService.setService(_.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(l.UnicodeService)),this._instantiationService.setService(_.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(f.CharsetService),this._instantiationService.setService(_.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(_.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new y.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,u.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,u.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,u.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,u.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new w.WriteBuffer((k,O)=>this._inputHandler.parse(k,O))),this.register((0,u.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(R,k){this._writeBuffer.write(R,k)}writeSync(R,k){this._logService.logLevel<=_.LogLevelEnum.WARN&&!S&&(this._logService.warn("writeSync is unreliable and will be removed soon."),S=!0),this._writeBuffer.writeSync(R,k)}resize(R,k){isNaN(R)||isNaN(k)||(R=Math.max(R,b.MINIMUM_COLS),k=Math.max(k,b.MINIMUM_ROWS),this._bufferService.resize(R,k))}scroll(R,k=!1){this._bufferService.scroll(R,k)}scrollLines(R,k,O){this._bufferService.scrollLines(R,k,O)}scrollPages(R){this.scrollLines(R*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(R){const k=R-this._bufferService.buffer.ydisp;k!==0&&this.scrollLines(k)}registerEscHandler(R,k){return this._inputHandler.registerEscHandler(R,k)}registerDcsHandler(R,k){return this._inputHandler.registerDcsHandler(R,k)}registerCsiHandler(R,k){return this._inputHandler.registerCsiHandler(R,k)}registerOscHandler(R,k){return this._inputHandler.registerOscHandler(R,k)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let R=!1;const k=this.optionsService.rawOptions.windowsPty;k&&k.buildNumber!==void 0&&k.buildNumber!==void 0?R=k.backend==="conpty"&&k.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(R=!0),R?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const R=[];R.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),R.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,v.toDisposable)(()=>{for(const k of R)k.dispose()})}}}n.CoreTerminal=A},8460:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.forwardEvent=n.EventEmitter=void 0,n.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let v=0;v<this._listeners.length;v++)if(this._listeners[v]===c)return void this._listeners.splice(v,1)}}})),this._event}fire(c,v){const _=[];for(let d=0;d<this._listeners.length;d++)_.push(this._listeners[d]);for(let d=0;d<_.length;d++)_[d].call(void 0,c,v)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},n.forwardEvent=function(c,v){return c(_=>v.fire(_))}},5435:function(m,n,c){var v=this&&this.__decorate||function(I,j,L,B){var M,Y=arguments.length,N=Y<3?j:B===null?B=Object.getOwnPropertyDescriptor(j,L):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(I,j,L,B);else for(var F=I.length-1;F>=0;F--)(M=I[F])&&(N=(Y<3?M(N):Y>3?M(j,L,N):M(j,L))||N);return Y>3&&N&&Object.defineProperty(j,L,N),N},_=this&&this.__param||function(I,j){return function(L,B){j(L,B,I)}};Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;const d=c(2584),g=c(7116),b=c(2015),C=c(844),x=c(482),u=c(8437),o=c(8460),l=c(643),f=c(511),p=c(3734),y=c(2585),w=c(6242),E=c(6351),S=c(5941),A={"(":0,")":1,"*":2,"+":3,"-":1,".":2},T=131072;function R(I,j){if(I>24)return j.setWinLines||!1;switch(I){case 1:return!!j.restoreWin;case 2:return!!j.minimizeWin;case 3:return!!j.setWinPosition;case 4:return!!j.setWinSizePixels;case 5:return!!j.raiseWin;case 6:return!!j.lowerWin;case 7:return!!j.refreshWin;case 8:return!!j.setWinSizeChars;case 9:return!!j.maximizeWin;case 10:return!!j.fullscreenWin;case 11:return!!j.getWinState;case 13:return!!j.getWinPosition;case 14:return!!j.getWinSizePixels;case 15:return!!j.getScreenSizePixels;case 16:return!!j.getCellSizePixels;case 18:return!!j.getWinSizeChars;case 19:return!!j.getScreenSizeChars;case 20:return!!j.getIconTitle;case 21:return!!j.getWinTitle;case 22:return!!j.pushTitle;case 23:return!!j.popTitle;case 24:return!!j.setWinLines}return!1}var k;(function(I){I[I.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",I[I.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(k||(n.WindowsOptionsReportType=k={}));let O=0;class q extends C.Disposable{getAttrData(){return this._curAttrData}constructor(j,L,B,M,Y,N,F,K,V=new b.EscapeSequenceParser){super(),this._bufferService=j,this._charsetService=L,this._coreService=B,this._logService=M,this._optionsService=Y,this._oscLinkService=N,this._coreMouseService=F,this._unicodeService=K,this._parser=V,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new f.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new o.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new o.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new o.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new o.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new o.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new o.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new o.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new o.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new o.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new o.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new o.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new o.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new W(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(D=>this._activeBuffer=D.activeBuffer)),this._parser.setCsiHandlerFallback((D,z)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(D),params:z.toArray()})}),this._parser.setEscHandlerFallback(D=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(D)})}),this._parser.setExecuteHandlerFallback(D=>{this._logService.debug("Unknown EXECUTE code: ",{code:D})}),this._parser.setOscHandlerFallback((D,z,$)=>{this._logService.debug("Unknown OSC code: ",{identifier:D,action:z,data:$})}),this._parser.setDcsHandlerFallback((D,z,$)=>{z==="HOOK"&&($=$.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(D),action:z,payload:$})}),this._parser.setPrintHandler((D,z,$)=>this.print(D,z,$)),this._parser.registerCsiHandler({final:"@"},D=>this.insertChars(D)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},D=>this.scrollLeft(D)),this._parser.registerCsiHandler({final:"A"},D=>this.cursorUp(D)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},D=>this.scrollRight(D)),this._parser.registerCsiHandler({final:"B"},D=>this.cursorDown(D)),this._parser.registerCsiHandler({final:"C"},D=>this.cursorForward(D)),this._parser.registerCsiHandler({final:"D"},D=>this.cursorBackward(D)),this._parser.registerCsiHandler({final:"E"},D=>this.cursorNextLine(D)),this._parser.registerCsiHandler({final:"F"},D=>this.cursorPrecedingLine(D)),this._parser.registerCsiHandler({final:"G"},D=>this.cursorCharAbsolute(D)),this._parser.registerCsiHandler({final:"H"},D=>this.cursorPosition(D)),this._parser.registerCsiHandler({final:"I"},D=>this.cursorForwardTab(D)),this._parser.registerCsiHandler({final:"J"},D=>this.eraseInDisplay(D,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},D=>this.eraseInDisplay(D,!0)),this._parser.registerCsiHandler({final:"K"},D=>this.eraseInLine(D,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},D=>this.eraseInLine(D,!0)),this._parser.registerCsiHandler({final:"L"},D=>this.insertLines(D)),this._parser.registerCsiHandler({final:"M"},D=>this.deleteLines(D)),this._parser.registerCsiHandler({final:"P"},D=>this.deleteChars(D)),this._parser.registerCsiHandler({final:"S"},D=>this.scrollUp(D)),this._parser.registerCsiHandler({final:"T"},D=>this.scrollDown(D)),this._parser.registerCsiHandler({final:"X"},D=>this.eraseChars(D)),this._parser.registerCsiHandler({final:"Z"},D=>this.cursorBackwardTab(D)),this._parser.registerCsiHandler({final:"`"},D=>this.charPosAbsolute(D)),this._parser.registerCsiHandler({final:"a"},D=>this.hPositionRelative(D)),this._parser.registerCsiHandler({final:"b"},D=>this.repeatPrecedingCharacter(D)),this._parser.registerCsiHandler({final:"c"},D=>this.sendDeviceAttributesPrimary(D)),this._parser.registerCsiHandler({prefix:">",final:"c"},D=>this.sendDeviceAttributesSecondary(D)),this._parser.registerCsiHandler({final:"d"},D=>this.linePosAbsolute(D)),this._parser.registerCsiHandler({final:"e"},D=>this.vPositionRelative(D)),this._parser.registerCsiHandler({final:"f"},D=>this.hVPosition(D)),this._parser.registerCsiHandler({final:"g"},D=>this.tabClear(D)),this._parser.registerCsiHandler({final:"h"},D=>this.setMode(D)),this._parser.registerCsiHandler({prefix:"?",final:"h"},D=>this.setModePrivate(D)),this._parser.registerCsiHandler({final:"l"},D=>this.resetMode(D)),this._parser.registerCsiHandler({prefix:"?",final:"l"},D=>this.resetModePrivate(D)),this._parser.registerCsiHandler({final:"m"},D=>this.charAttributes(D)),this._parser.registerCsiHandler({final:"n"},D=>this.deviceStatus(D)),this._parser.registerCsiHandler({prefix:"?",final:"n"},D=>this.deviceStatusPrivate(D)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},D=>this.softReset(D)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},D=>this.setCursorStyle(D)),this._parser.registerCsiHandler({final:"r"},D=>this.setScrollRegion(D)),this._parser.registerCsiHandler({final:"s"},D=>this.saveCursor(D)),this._parser.registerCsiHandler({final:"t"},D=>this.windowOptions(D)),this._parser.registerCsiHandler({final:"u"},D=>this.restoreCursor(D)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},D=>this.insertColumns(D)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},D=>this.deleteColumns(D)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},D=>this.selectProtected(D)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},D=>this.requestMode(D,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},D=>this.requestMode(D,!1)),this._parser.setExecuteHandler(d.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(d.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(d.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(d.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(d.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(d.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(d.C1.IND,()=>this.index()),this._parser.setExecuteHandler(d.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(d.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new w.OscHandler(D=>(this.setTitle(D),this.setIconName(D),!0))),this._parser.registerOscHandler(1,new w.OscHandler(D=>this.setIconName(D))),this._parser.registerOscHandler(2,new w.OscHandler(D=>this.setTitle(D))),this._parser.registerOscHandler(4,new w.OscHandler(D=>this.setOrReportIndexedColor(D))),this._parser.registerOscHandler(8,new w.OscHandler(D=>this.setHyperlink(D))),this._parser.registerOscHandler(10,new w.OscHandler(D=>this.setOrReportFgColor(D))),this._parser.registerOscHandler(11,new w.OscHandler(D=>this.setOrReportBgColor(D))),this._parser.registerOscHandler(12,new w.OscHandler(D=>this.setOrReportCursorColor(D))),this._parser.registerOscHandler(104,new w.OscHandler(D=>this.restoreIndexedColor(D))),this._parser.registerOscHandler(110,new w.OscHandler(D=>this.restoreFgColor(D))),this._parser.registerOscHandler(111,new w.OscHandler(D=>this.restoreBgColor(D))),this._parser.registerOscHandler(112,new w.OscHandler(D=>this.restoreCursorColor(D))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const D in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:D},()=>this.selectCharset("("+D)),this._parser.registerEscHandler({intermediates:")",final:D},()=>this.selectCharset(")"+D)),this._parser.registerEscHandler({intermediates:"*",final:D},()=>this.selectCharset("*"+D)),this._parser.registerEscHandler({intermediates:"+",final:D},()=>this.selectCharset("+"+D)),this._parser.registerEscHandler({intermediates:"-",final:D},()=>this.selectCharset("-"+D)),this._parser.registerEscHandler({intermediates:".",final:D},()=>this.selectCharset("."+D)),this._parser.registerEscHandler({intermediates:"/",final:D},()=>this.selectCharset("/"+D));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(D=>(this._logService.error("Parsing error: ",D),D)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new E.DcsHandler((D,z)=>this.requestStatusString(D,z)))}_preserveStack(j,L,B,M){this._parseStack.paused=!0,this._parseStack.cursorStartX=j,this._parseStack.cursorStartY=L,this._parseStack.decodedLength=B,this._parseStack.position=M}_logSlowResolvingAsync(j){this._logService.logLevel<=y.LogLevelEnum.WARN&&Promise.race([j,new Promise((L,B)=>setTimeout(()=>B("#SLOW_TIMEOUT"),5e3))]).catch(L=>{if(L!=="#SLOW_TIMEOUT")throw L;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(j,L){let B,M=this._activeBuffer.x,Y=this._activeBuffer.y,N=0;const F=this._parseStack.paused;if(F){if(B=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,L))return this._logSlowResolvingAsync(B),B;M=this._parseStack.cursorStartX,Y=this._parseStack.cursorStartY,this._parseStack.paused=!1,j.length>T&&(N=this._parseStack.position+T)}if(this._logService.logLevel<=y.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof j=="string"?` "${j}"`:` "${Array.prototype.map.call(j,K=>String.fromCharCode(K)).join("")}"`),typeof j=="string"?j.split("").map(K=>K.charCodeAt(0)):j),this._parseBuffer.length<j.length&&this._parseBuffer.length<T&&(this._parseBuffer=new Uint32Array(Math.min(j.length,T))),F||this._dirtyRowTracker.clearRange(),j.length>T)for(let K=N;K<j.length;K+=T){const V=K+T<j.length?K+T:j.length,D=typeof j=="string"?this._stringDecoder.decode(j.substring(K,V),this._parseBuffer):this._utf8Decoder.decode(j.subarray(K,V),this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,D))return this._preserveStack(M,Y,D,K),this._logSlowResolvingAsync(B),B}else if(!F){const K=typeof j=="string"?this._stringDecoder.decode(j,this._parseBuffer):this._utf8Decoder.decode(j,this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,K))return this._preserveStack(M,Y,K,0),this._logSlowResolvingAsync(B),B}this._activeBuffer.x===M&&this._activeBuffer.y===Y||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(j,L,B){let M,Y;const N=this._charsetService.charset,F=this._optionsService.rawOptions.screenReaderMode,K=this._bufferService.cols,V=this._coreService.decPrivateModes.wraparound,D=this._coreService.modes.insertMode,z=this._curAttrData;let $=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&B-L>0&&$.getWidth(this._activeBuffer.x-1)===2&&$.setCellFromCodePoint(this._activeBuffer.x-1,0,1,z.fg,z.bg,z.extended);for(let H=L;H<B;++H){if(M=j[H],Y=this._unicodeService.wcwidth(M),M<127&&N){const J=N[String.fromCharCode(M)];J&&(M=J.charCodeAt(0))}if(F&&this._onA11yChar.fire((0,x.stringFromCodePoint)(M)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),Y||!this._activeBuffer.x){if(this._activeBuffer.x+Y-1>=K){if(V){for(;this._activeBuffer.x<K;)$.setCellFromCodePoint(this._activeBuffer.x++,0,1,z.fg,z.bg,z.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),$=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=K-1,Y===2)continue}if(D&&($.insertCells(this._activeBuffer.x,Y,this._activeBuffer.getNullCell(z),z),$.getWidth(K-1)===2&&$.setCellFromCodePoint(K-1,l.NULL_CELL_CODE,l.NULL_CELL_WIDTH,z.fg,z.bg,z.extended)),$.setCellFromCodePoint(this._activeBuffer.x++,M,Y,z.fg,z.bg,z.extended),Y>0)for(;--Y;)$.setCellFromCodePoint(this._activeBuffer.x++,0,0,z.fg,z.bg,z.extended)}else $.getWidth(this._activeBuffer.x-1)?$.addCodepointToCell(this._activeBuffer.x-1,M):$.addCodepointToCell(this._activeBuffer.x-2,M)}B-L>0&&($.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<K&&B-L>0&&$.getWidth(this._activeBuffer.x)===0&&!$.hasContent(this._activeBuffer.x)&&$.setCellFromCodePoint(this._activeBuffer.x,0,1,z.fg,z.bg,z.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(j,L){return j.final!=="t"||j.prefix||j.intermediates?this._parser.registerCsiHandler(j,L):this._parser.registerCsiHandler(j,B=>!R(B.params[0],this._optionsService.rawOptions.windowOptions)||L(B))}registerDcsHandler(j,L){return this._parser.registerDcsHandler(j,new E.DcsHandler(L))}registerEscHandler(j,L){return this._parser.registerEscHandler(j,L)}registerOscHandler(j,L){return this._parser.registerOscHandler(j,new w.OscHandler(L))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var j;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||j===void 0)&&j.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);L.hasWidth(this._activeBuffer.x)&&!L.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const j=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-j),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(j=this._bufferService.cols-1){this._activeBuffer.x=Math.min(j,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(j,L){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=j,this._activeBuffer.y=this._activeBuffer.scrollTop+L):(this._activeBuffer.x=j,this._activeBuffer.y=L),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(j,L){this._restrictCursor(),this._setCursor(this._activeBuffer.x+j,this._activeBuffer.y+L)}cursorUp(j){const L=this._activeBuffer.y-this._activeBuffer.scrollTop;return L>=0?this._moveCursor(0,-Math.min(L,j.params[0]||1)):this._moveCursor(0,-(j.params[0]||1)),!0}cursorDown(j){const L=this._activeBuffer.scrollBottom-this._activeBuffer.y;return L>=0?this._moveCursor(0,Math.min(L,j.params[0]||1)):this._moveCursor(0,j.params[0]||1),!0}cursorForward(j){return this._moveCursor(j.params[0]||1,0),!0}cursorBackward(j){return this._moveCursor(-(j.params[0]||1),0),!0}cursorNextLine(j){return this.cursorDown(j),this._activeBuffer.x=0,!0}cursorPrecedingLine(j){return this.cursorUp(j),this._activeBuffer.x=0,!0}cursorCharAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(j){return this._setCursor(j.length>=2?(j.params[1]||1)-1:0,(j.params[0]||1)-1),!0}charPosAbsolute(j){return this._setCursor((j.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(j){return this._moveCursor(j.params[0]||1,0),!0}linePosAbsolute(j){return this._setCursor(this._activeBuffer.x,(j.params[0]||1)-1),!0}vPositionRelative(j){return this._moveCursor(0,j.params[0]||1),!0}hVPosition(j){return this.cursorPosition(j),!0}tabClear(j){const L=j.params[0];return L===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:L===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=j.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(j){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=j.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(j){const L=j.params[0];return L===1&&(this._curAttrData.bg|=536870912),L!==2&&L!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(j,L,B,M=!1,Y=!1){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);N.replaceCells(L,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),Y),M&&(N.isWrapped=!1)}_resetBufferLine(j,L=!1){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+j);B&&(B.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),L),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+j),B.isWrapped=!1)}eraseInDisplay(j,L=!1){let B;switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,L);B<this._bufferService.rows;B++)this._resetBufferLine(B,L);this._dirtyRowTracker.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0,L),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B,L);this._dirtyRowTracker.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowTracker.markDirty(B-1);B--;)this._resetBufferLine(B,L);this._dirtyRowTracker.markDirty(0);break;case 3:const M=this._activeBuffer.lines.length-this._bufferService.rows;M>0&&(this._activeBuffer.lines.trimStart(M),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-M,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-M,0),this._onScroll.fire(0))}return!0}eraseInLine(j,L=!1){switch(this._restrictCursor(this._bufferService.cols),j.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,L);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,L);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,L)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(j){this._restrictCursor();let L=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y,M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Y=this._bufferService.rows-1+this._activeBuffer.ybase-M+1;for(;L--;)this._activeBuffer.lines.splice(Y-1,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(j){this._restrictCursor();let L=j.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y;let M;for(M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,M=this._bufferService.rows-1+this._activeBuffer.ybase-M;L--;)this._activeBuffer.lines.splice(B,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(j){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.insertCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(j){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.deleteCells(this._activeBuffer.x,j.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(j){let L=j.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(j){let L=j.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(u.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=j.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);M.deleteCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=j.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);M.insertCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=j.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);M.insertCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(j){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=j.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);M.deleteCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(j){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(j.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(j){if(!this._parser.precedingCodepoint)return!0;const L=j.params[0]||1,B=new Uint32Array(L);for(let M=0;M<L;++M)B[M]=this._parser.precedingCodepoint;return this.print(B,0,B.length),!0}sendDeviceAttributesPrimary(j){return j.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(d.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(d.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(j){return j.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(d.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(d.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(j.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(d.C0.ESC+"[>83;40003;0c")),!0}_is(j){return(this._optionsService.rawOptions.termName+"").indexOf(j)===0}setMode(j){for(let L=0;L<j.length;L++)switch(j.params[L]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(j){for(let L=0;L<j.length;L++)switch(j.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(j){for(let L=0;L<j.length;L++)switch(j.params[L]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(j){for(let L=0;L<j.length;L++)switch(j.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),j.params[L]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(j,L){const B=this._coreService.decPrivateModes,{activeProtocol:M,activeEncoding:Y}=this._coreMouseService,N=this._coreService,{buffers:F,cols:K}=this._bufferService,{active:V,alt:D}=F,z=this._optionsService.rawOptions,$=ne=>ne?1:2,H=j.params[0];return J=H,Z=L?H===2?4:H===4?$(N.modes.insertMode):H===12?3:H===20?$(z.convertEol):0:H===1?$(B.applicationCursorKeys):H===3?z.windowOptions.setWinLines?K===80?2:K===132?1:0:0:H===6?$(B.origin):H===7?$(B.wraparound):H===8?3:H===9?$(M==="X10"):H===12?$(z.cursorBlink):H===25?$(!N.isCursorHidden):H===45?$(B.reverseWraparound):H===66?$(B.applicationKeypad):H===67?4:H===1e3?$(M==="VT200"):H===1002?$(M==="DRAG"):H===1003?$(M==="ANY"):H===1004?$(B.sendFocus):H===1005?4:H===1006?$(Y==="SGR"):H===1015?4:H===1016?$(Y==="SGR_PIXELS"):H===1048?1:H===47||H===1047||H===1049?$(V===D):H===2004?$(B.bracketedPasteMode):0,N.triggerDataEvent(`${d.C0.ESC}[${L?"":"?"}${J};${Z}$y`),!0;var J,Z}_updateAttrColor(j,L,B,M,Y){return L===2?(j|=50331648,j&=-16777216,j|=p.AttributeData.fromColorRGB([B,M,Y])):L===5&&(j&=-50331904,j|=33554432|255&B),j}_extractColor(j,L,B){const M=[0,0,-1,0,0,0];let Y=0,N=0;do{if(M[N+Y]=j.params[L+N],j.hasSubParams(L+N)){const F=j.getSubParams(L+N);let K=0;do M[1]===5&&(Y=1),M[N+K+1+Y]=F[K];while(++K<F.length&&K+N+1+Y<M.length);break}if(M[1]===5&&N+Y>=2||M[1]===2&&N+Y>=5)break;M[1]&&(Y=1)}while(++N+L<j.length&&N+Y<M.length);for(let F=2;F<M.length;++F)M[F]===-1&&(M[F]=0);switch(M[0]){case 38:B.fg=this._updateAttrColor(B.fg,M[1],M[3],M[4],M[5]);break;case 48:B.bg=this._updateAttrColor(B.bg,M[1],M[3],M[4],M[5]);break;case 58:B.extended=B.extended.clone(),B.extended.underlineColor=this._updateAttrColor(B.extended.underlineColor,M[1],M[3],M[4],M[5])}return N}_processUnderline(j,L){L.extended=L.extended.clone(),(!~j||j>5)&&(j=1),L.extended.underlineStyle=j,L.fg|=268435456,j===0&&(L.fg&=-268435457),L.updateExtended()}_processSGR0(j){j.fg=u.DEFAULT_ATTR_DATA.fg,j.bg=u.DEFAULT_ATTR_DATA.bg,j.extended=j.extended.clone(),j.extended.underlineStyle=0,j.extended.underlineColor&=-67108864,j.updateExtended()}charAttributes(j){if(j.length===1&&j.params[0]===0)return this._processSGR0(this._curAttrData),!0;const L=j.length;let B;const M=this._curAttrData;for(let Y=0;Y<L;Y++)B=j.params[Y],B>=30&&B<=37?(M.fg&=-50331904,M.fg|=16777216|B-30):B>=40&&B<=47?(M.bg&=-50331904,M.bg|=16777216|B-40):B>=90&&B<=97?(M.fg&=-50331904,M.fg|=16777224|B-90):B>=100&&B<=107?(M.bg&=-50331904,M.bg|=16777224|B-100):B===0?this._processSGR0(M):B===1?M.fg|=134217728:B===3?M.bg|=67108864:B===4?(M.fg|=268435456,this._processUnderline(j.hasSubParams(Y)?j.getSubParams(Y)[0]:1,M)):B===5?M.fg|=536870912:B===7?M.fg|=67108864:B===8?M.fg|=1073741824:B===9?M.fg|=2147483648:B===2?M.bg|=134217728:B===21?this._processUnderline(2,M):B===22?(M.fg&=-134217729,M.bg&=-134217729):B===23?M.bg&=-67108865:B===24?(M.fg&=-268435457,this._processUnderline(0,M)):B===25?M.fg&=-536870913:B===27?M.fg&=-67108865:B===28?M.fg&=-1073741825:B===29?M.fg&=2147483647:B===39?(M.fg&=-67108864,M.fg|=16777215&u.DEFAULT_ATTR_DATA.fg):B===49?(M.bg&=-67108864,M.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?Y+=this._extractColor(j,Y,M):B===53?M.bg|=1073741824:B===55?M.bg&=-1073741825:B===59?(M.extended=M.extended.clone(),M.extended.underlineColor=-1,M.updateExtended()):B===100?(M.fg&=-67108864,M.fg|=16777215&u.DEFAULT_ATTR_DATA.fg,M.bg&=-67108864,M.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0}deviceStatus(j){switch(j.params[0]){case 5:this._coreService.triggerDataEvent(`${d.C0.ESC}[0n`);break;case 6:const L=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[${L};${B}R`)}return!0}deviceStatusPrivate(j){if(j.params[0]===6){const L=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[?${L};${B}R`)}return!0}softReset(j){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(j){const L=j.params[0]||1;switch(L){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const B=L%2==1;return this._optionsService.options.cursorBlink=B,!0}setScrollRegion(j){const L=j.params[0]||1;let B;return(j.length<2||(B=j.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>L&&(this._activeBuffer.scrollTop=L-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0}windowOptions(j){if(!R(j.params[0],this._optionsService.rawOptions.windowOptions))return!0;const L=j.length>1?j.params[1]:0;switch(j.params[0]){case 14:L!==2&&this._onRequestWindowsOptionsReport.fire(k.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(k.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${d.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:L!==0&&L!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),L!==0&&L!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:L!==0&&L!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),L!==0&&L!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(j){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(j){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(j){return this._windowTitle=j,this._onTitleChange.fire(j),!0}setIconName(j){return this._iconName=j,!0}setOrReportIndexedColor(j){const L=[],B=j.split(";");for(;B.length>1;){const M=B.shift(),Y=B.shift();if(/^\d+$/.exec(M)){const N=parseInt(M);if(P(N))if(Y==="?")L.push({type:0,index:N});else{const F=(0,S.parseColor)(Y);F&&L.push({type:1,index:N,color:F})}}}return L.length&&this._onColor.fire(L),!0}setHyperlink(j){const L=j.split(";");return!(L.length<2)&&(L[1]?this._createHyperlink(L[0],L[1]):!L[0]&&this._finishHyperlink())}_createHyperlink(j,L){this._getCurrentLinkId()&&this._finishHyperlink();const B=j.split(":");let M;const Y=B.findIndex(N=>N.startsWith("id="));return Y!==-1&&(M=B[Y].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:M,uri:L}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(j,L){const B=j.split(";");for(let M=0;M<B.length&&!(L>=this._specialColors.length);++M,++L)if(B[M]==="?")this._onColor.fire([{type:0,index:this._specialColors[L]}]);else{const Y=(0,S.parseColor)(B[M]);Y&&this._onColor.fire([{type:1,index:this._specialColors[L],color:Y}])}return!0}setOrReportFgColor(j){return this._setOrReportSpecialColor(j,0)}setOrReportBgColor(j){return this._setOrReportSpecialColor(j,1)}setOrReportCursorColor(j){return this._setOrReportSpecialColor(j,2)}restoreIndexedColor(j){if(!j)return this._onColor.fire([{type:2}]),!0;const L=[],B=j.split(";");for(let M=0;M<B.length;++M)if(/^\d+$/.exec(B[M])){const Y=parseInt(B[M]);P(Y)&&L.push({type:2,index:Y})}return L.length&&this._onColor.fire(L),!0}restoreFgColor(j){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(j){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(j){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(j){return j.length!==2?(this.selectDefaultCharset(),!0):(j[0]==="/"||this._charsetService.setgCharset(A[j[0]],g.CHARSETS[j[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const j=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,j,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(j){return this._charsetService.setgLevel(j),!0}screenAlignmentPattern(){const j=new f.CellData;j.content=4194373,j.fg=this._curAttrData.fg,j.bg=this._curAttrData.bg,this._setCursor(0,0);for(let L=0;L<this._bufferService.rows;++L){const B=this._activeBuffer.ybase+this._activeBuffer.y+L,M=this._activeBuffer.lines.get(B);M&&(M.fill(j),M.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(j,L){const B=this._bufferService.buffer,M=this._optionsService.rawOptions;return(Y=>(this._coreService.triggerDataEvent(`${d.C0.ESC}${Y}${d.C0.ESC}\\`),!0))(j==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:j==='"p'?'P1$r61;1"p':j==="r"?`P1$r${B.scrollTop+1};${B.scrollBottom+1}r`:j==="m"?"P1$r0m":j===" q"?`P1$r${{block:2,underline:4,bar:6}[M.cursorStyle]-(M.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(j,L){this._dirtyRowTracker.markRangeDirty(j,L)}}n.InputHandler=q;let W=class{constructor(I){this._bufferService=I,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(I){I<this.start?this.start=I:I>this.end&&(this.end=I)}markRangeDirty(I,j){I>j&&(O=I,I=j,j=O),I<this.start&&(this.start=I),j>this.end&&(this.end=j)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function P(I){return 0<=I&&I<256}W=v([_(0,y.IBufferService)],W)},844:(m,n)=>{function c(v){for(const _ of v)_.dispose();v.length=0}Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.toDisposable=n.MutableDisposable=n.Disposable=void 0,n.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const v of this._disposables)v.dispose();this._disposables.length=0}register(v){return this._disposables.push(v),v}unregister(v){const _=this._disposables.indexOf(v);_!==-1&&this._disposables.splice(_,1)}},n.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(v){var _;this._isDisposed||v===this._value||((_=this._value)===null||_===void 0||_.dispose(),this._value=v)}clear(){this.value=void 0}dispose(){var v;this._isDisposed=!0,(v=this._value)===null||v===void 0||v.dispose(),this._value=void 0}},n.toDisposable=function(v){return{dispose:v}},n.disposeArray=c,n.getDisposeArrayDisposable=function(v){return{dispose:()=>c(v)}}},1505:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FourKeyMap=n.TwoKeyMap=void 0;class c{constructor(){this._data={}}set(_,d,g){this._data[_]||(this._data[_]={}),this._data[_][d]=g}get(_,d){return this._data[_]?this._data[_][d]:void 0}clear(){this._data={}}}n.TwoKeyMap=c,n.FourKeyMap=class{constructor(){this._data=new c}set(v,_,d,g,b){this._data.get(v,_)||this._data.set(v,_,new c),this._data.get(v,_).set(d,g,b)}get(v,_,d,g){var b;return(b=this._data.get(v,_))===null||b===void 0?void 0:b.get(d,g)}clear(){this._data.clear()}}},6114:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isChromeOS=n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.getSafariVersion=n.isSafari=n.isLegacyEdge=n.isFirefox=n.isNode=void 0,n.isNode=typeof navigator>"u";const c=n.isNode?"node":navigator.userAgent,v=n.isNode?"node":navigator.platform;n.isFirefox=c.includes("Firefox"),n.isLegacyEdge=c.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(c),n.getSafariVersion=function(){if(!n.isSafari)return 0;const _=c.match(/Version\/(\d+)/);return _===null||_.length<2?0:parseInt(_[1])},n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(v),n.isIpad=v==="iPad",n.isIphone=v==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(v),n.isLinux=v.indexOf("Linux")>=0,n.isChromeOS=/\bCrOS\b/.test(c)},6106:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SortedList=void 0;let c=0;n.SortedList=class{constructor(v){this._getKey=v,this._array=[]}clear(){this._array.length=0}insert(v){this._array.length!==0?(c=this._search(this._getKey(v)),this._array.splice(c,0,v)):this._array.push(v)}delete(v){if(this._array.length===0)return!1;const _=this._getKey(v);if(_===void 0||(c=this._search(_),c===-1)||this._getKey(this._array[c])!==_)return!1;do if(this._array[c]===v)return this._array.splice(c,1),!0;while(++c<this._array.length&&this._getKey(this._array[c])===_);return!1}*getKeyIterator(v){if(this._array.length!==0&&(c=this._search(v),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===v))do yield this._array[c];while(++c<this._array.length&&this._getKey(this._array[c])===v)}forEachByKey(v,_){if(this._array.length!==0&&(c=this._search(v),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===v))do _(this._array[c]);while(++c<this._array.length&&this._getKey(this._array[c])===v)}values(){return[...this._array].values()}_search(v){let _=0,d=this._array.length-1;for(;d>=_;){let g=_+d>>1;const b=this._getKey(this._array[g]);if(b>v)d=g-1;else{if(!(b<v)){for(;g>0&&this._getKey(this._array[g-1])===v;)g--;return g}_=g+1}}return _}}},7226:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DebouncedIdleTask=n.IdleTaskQueue=n.PriorityTaskQueue=void 0;const v=c(6114);class _{constructor(){this._tasks=[],this._i=0}enqueue(b){this._tasks.push(b),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(b){this._idleCallback=void 0;let C=0,x=0,u=b.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),x=Math.max(C,x),o=b.timeRemaining(),1.5*x>o)return u-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(u-C))}ms`),void this._start();u=o}this.clear()}}class d extends _{_requestCallback(b){return setTimeout(()=>b(this._createDeadline(16)))}_cancelCallback(b){clearTimeout(b)}_createDeadline(b){const C=Date.now()+b;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}n.PriorityTaskQueue=d,n.IdleTaskQueue=!v.isNode&&"requestIdleCallback"in window?class extends _{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:d,n.DebouncedIdleTask=class{constructor(){this._queue=new n.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;const v=c(643);n.updateWindowsModeWrappedState=function(_){const d=_.buffer.lines.get(_.buffer.ybase+_.buffer.y-1),g=d==null?void 0:d.get(_.cols-1),b=_.buffer.lines.get(_.buffer.ybase+_.buffer.y);b&&g&&(b.isWrapped=g[v.CHAR_DATA_CODE_INDEX]!==v.NULL_CELL_CODE&&g[v.CHAR_DATA_CODE_INDEX]!==v.WHITESPACE_CELL_CODE)}},3734:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;class c{constructor(){this.fg=0,this.bg=0,this.extended=new v}static toColorRGB(d){return[d>>>16&255,d>>>8&255,255&d]}static fromColorRGB(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]}clone(){const d=new c;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}n.AttributeData=c;class v{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(d){this._ext=d}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(d){this._ext&=-469762049,this._ext|=d<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(d){this._ext&=-67108864,this._ext|=67108863&d}get urlId(){return this._urlId}set urlId(d){this._urlId=d}constructor(d=0,g=0){this._ext=0,this._urlId=0,this._ext=d,this._urlId=g}clone(){return new v(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}n.ExtendedAttrs=v},9092:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.MAX_BUFFER_SIZE=void 0;const v=c(6349),_=c(7226),d=c(3734),g=c(8437),b=c(4634),C=c(511),x=c(643),u=c(4863),o=c(7116);n.MAX_BUFFER_SIZE=4294967295,n.Buffer=class{constructor(l,f,p){this._hasScrollback=l,this._optionsService=f,this._bufferService=p,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=o.DEFAULT_CHARSET,this.markers=[],this._nullCell=C.CellData.fromCharData([0,x.NULL_CELL_CHAR,x.NULL_CELL_WIDTH,x.NULL_CELL_CODE]),this._whitespaceCell=C.CellData.fromCharData([0,x.WHITESPACE_CELL_CHAR,x.WHITESPACE_CELL_WIDTH,x.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new _.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new v.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(l){return l?(this._nullCell.fg=l.fg,this._nullCell.bg=l.bg,this._nullCell.extended=l.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell}getWhitespaceCell(l){return l?(this._whitespaceCell.fg=l.fg,this._whitespaceCell.bg=l.bg,this._whitespaceCell.extended=l.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell}getBlankLine(l,f){return new g.BufferLine(this._bufferService.cols,this.getNullCell(l),f)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const l=this.ybase+this.y-this.ydisp;return l>=0&&l<this._rows}_getCorrectBufferLength(l){if(!this._hasScrollback)return l;const f=l+this._optionsService.rawOptions.scrollback;return f>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:f}fillViewportRows(l){if(this.lines.length===0){l===void 0&&(l=g.DEFAULT_ATTR_DATA);let f=this._rows;for(;f--;)this.lines.push(this.getBlankLine(l))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new v.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(l,f){const p=this.getNullCell(g.DEFAULT_ATTR_DATA);let y=0;const w=this._getCorrectBufferLength(f);if(w>this.lines.maxLength&&(this.lines.maxLength=w),this.lines.length>0){if(this._cols<l)for(let S=0;S<this.lines.length;S++)y+=+this.lines.get(S).resize(l,p);let E=0;if(this._rows<f)for(let S=this._rows;S<f;S++)this.lines.length<f+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(l,p)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(l,p)));else for(let S=this._rows;S>f;S--)this.lines.length>f+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(w<this.lines.maxLength){const S=this.lines.length-w;S>0&&(this.lines.trimStart(S),this.ybase=Math.max(this.ybase-S,0),this.ydisp=Math.max(this.ydisp-S,0),this.savedY=Math.max(this.savedY-S,0)),this.lines.maxLength=w}this.x=Math.min(this.x,l-1),this.y=Math.min(this.y,f-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,l-1),this.scrollTop=0}if(this.scrollBottom=f-1,this._isReflowEnabled&&(this._reflow(l,f),this._cols>l))for(let E=0;E<this.lines.length;E++)y+=+this.lines.get(E).resize(l,p);this._cols=l,this._rows=f,this._memoryCleanupQueue.clear(),y>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let l=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,l=!1);let f=0;for(;this._memoryCleanupPosition<this.lines.length;)if(f+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),f>100)return!0;return l}get _isReflowEnabled(){const l=this._optionsService.rawOptions.windowsPty;return l&&l.buildNumber?this._hasScrollback&&l.backend==="conpty"&&l.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(l,f){this._cols!==l&&(l>this._cols?this._reflowLarger(l,f):this._reflowSmaller(l,f))}_reflowLarger(l,f){const p=(0,b.reflowLargerGetLinesToRemove)(this.lines,this._cols,l,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(p.length>0){const y=(0,b.reflowLargerCreateNewLayout)(this.lines,p);(0,b.reflowLargerApplyNewLayout)(this.lines,y.layout),this._reflowLargerAdjustViewport(l,f,y.countRemoved)}}_reflowLargerAdjustViewport(l,f,p){const y=this.getNullCell(g.DEFAULT_ATTR_DATA);let w=p;for(;w-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<f&&this.lines.push(new g.BufferLine(l,y))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-p,0)}_reflowSmaller(l,f){const p=this.getNullCell(g.DEFAULT_ATTR_DATA),y=[];let w=0;for(let E=this.lines.length-1;E>=0;E--){let S=this.lines.get(E);if(!S||!S.isWrapped&&S.getTrimmedLength()<=l)continue;const A=[S];for(;S.isWrapped&&E>0;)S=this.lines.get(--E),A.unshift(S);const T=this.ybase+this.y;if(T>=E&&T<E+A.length)continue;const R=A[A.length-1].getTrimmedLength(),k=(0,b.reflowSmallerGetNewLineLengths)(A,this._cols,l),O=k.length-A.length;let q;q=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+O):Math.max(0,this.lines.length-this.lines.maxLength+O);const W=[];for(let M=0;M<O;M++){const Y=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);W.push(Y)}W.length>0&&(y.push({start:E+A.length+w,newLines:W}),w+=W.length),A.push(...W);let P=k.length-1,I=k[P];I===0&&(P--,I=k[P]);let j=A.length-O-1,L=R;for(;j>=0;){const M=Math.min(L,I);if(A[P]===void 0)break;if(A[P].copyCellsFrom(A[j],L-M,I-M,M,!0),I-=M,I===0&&(P--,I=k[P]),L-=M,L===0){j--;const Y=Math.max(j,0);L=(0,b.getWrappedLineTrimmedLength)(A,Y,this._cols)}}for(let M=0;M<A.length;M++)k[M]<l&&A[M].setCell(k[M],p);let B=O-q;for(;B-- >0;)this.ybase===0?this.y<f-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+w)-f&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+O,this.ybase+f-1)}if(y.length>0){const E=[],S=[];for(let P=0;P<this.lines.length;P++)S.push(this.lines.get(P));const A=this.lines.length;let T=A-1,R=0,k=y[R];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+w);let O=0;for(let P=Math.min(this.lines.maxLength-1,A+w-1);P>=0;P--)if(k&&k.start>T+O){for(let I=k.newLines.length-1;I>=0;I--)this.lines.set(P--,k.newLines[I]);P++,E.push({index:T+1,amount:k.newLines.length}),O+=k.newLines.length,k=y[++R]}else this.lines.set(P,S[T--]);let q=0;for(let P=E.length-1;P>=0;P--)E[P].index+=q,this.lines.onInsertEmitter.fire(E[P]),q+=E[P].amount;const W=Math.max(0,A+w-this.lines.maxLength);W>0&&this.lines.onTrimEmitter.fire(W)}}translateBufferLineToString(l,f,p=0,y){const w=this.lines.get(l);return w?w.translateToString(f,p,y):""}getWrappedRangeForLine(l){let f=l,p=l;for(;f>0&&this.lines.get(f).isWrapped;)f--;for(;p+1<this.lines.length&&this.lines.get(p+1).isWrapped;)p++;return{first:f,last:p}}setupTabStops(l){for(l!=null?this.tabs[l]||(l=this.prevStop(l)):(this.tabs={},l=0);l<this._cols;l+=this._optionsService.rawOptions.tabStopWidth)this.tabs[l]=!0}prevStop(l){for(l==null&&(l=this.x);!this.tabs[--l]&&l>0;);return l>=this._cols?this._cols-1:l<0?0:l}nextStop(l){for(l==null&&(l=this.x);!this.tabs[++l]&&l<this._cols;);return l>=this._cols?this._cols-1:l<0?0:l}clearMarkers(l){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].line===l&&(this.markers[f].dispose(),this.markers.splice(f--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let l=0;l<this.markers.length;l++)this.markers[l].dispose(),this.markers.splice(l--,1);this._isClearing=!1}addMarker(l){const f=new u.Marker(l);return this.markers.push(f),f.register(this.lines.onTrim(p=>{f.line-=p,f.line<0&&f.dispose()})),f.register(this.lines.onInsert(p=>{f.line>=p.index&&(f.line+=p.amount)})),f.register(this.lines.onDelete(p=>{f.line>=p.index&&f.line<p.index+p.amount&&f.dispose(),f.line>p.index&&(f.line-=p.amount)})),f.register(f.onDispose(()=>this._removeMarker(f))),f}_removeMarker(l){this._isClearing||this.markers.splice(this.markers.indexOf(l),1)}}},8437:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;const v=c(3734),_=c(511),d=c(643),g=c(482);n.DEFAULT_ATTR_DATA=Object.freeze(new v.AttributeData);let b=0;class C{constructor(u,o,l=!1){this.isWrapped=l,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*u);const f=o||_.CellData.fromCharData([0,d.NULL_CELL_CHAR,d.NULL_CELL_WIDTH,d.NULL_CELL_CODE]);for(let p=0;p<u;++p)this.setCell(p,f);this.length=u}get(u){const o=this._data[3*u+0],l=2097151&o;return[this._data[3*u+1],2097152&o?this._combined[u]:l?(0,g.stringFromCodePoint)(l):"",o>>22,2097152&o?this._combined[u].charCodeAt(this._combined[u].length-1):l]}set(u,o){this._data[3*u+1]=o[d.CHAR_DATA_ATTR_INDEX],o[d.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[u]=o[1],this._data[3*u+0]=2097152|u|o[d.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*u+0]=o[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|o[d.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(u){return this._data[3*u+0]>>22}hasWidth(u){return 12582912&this._data[3*u+0]}getFg(u){return this._data[3*u+1]}getBg(u){return this._data[3*u+2]}hasContent(u){return 4194303&this._data[3*u+0]}getCodePoint(u){const o=this._data[3*u+0];return 2097152&o?this._combined[u].charCodeAt(this._combined[u].length-1):2097151&o}isCombined(u){return 2097152&this._data[3*u+0]}getString(u){const o=this._data[3*u+0];return 2097152&o?this._combined[u]:2097151&o?(0,g.stringFromCodePoint)(2097151&o):""}isProtected(u){return 536870912&this._data[3*u+2]}loadCell(u,o){return b=3*u,o.content=this._data[b+0],o.fg=this._data[b+1],o.bg=this._data[b+2],2097152&o.content&&(o.combinedData=this._combined[u]),268435456&o.bg&&(o.extended=this._extendedAttrs[u]),o}setCell(u,o){2097152&o.content&&(this._combined[u]=o.combinedData),268435456&o.bg&&(this._extendedAttrs[u]=o.extended),this._data[3*u+0]=o.content,this._data[3*u+1]=o.fg,this._data[3*u+2]=o.bg}setCellFromCodePoint(u,o,l,f,p,y){268435456&p&&(this._extendedAttrs[u]=y),this._data[3*u+0]=o|l<<22,this._data[3*u+1]=f,this._data[3*u+2]=p}addCodepointToCell(u,o){let l=this._data[3*u+0];2097152&l?this._combined[u]+=(0,g.stringFromCodePoint)(o):(2097151&l?(this._combined[u]=(0,g.stringFromCodePoint)(2097151&l)+(0,g.stringFromCodePoint)(o),l&=-2097152,l|=2097152):l=o|4194304,this._data[3*u+0]=l)}insertCells(u,o,l,f){if((u%=this.length)&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new v.ExtendedAttrs),o<this.length-u){const p=new _.CellData;for(let y=this.length-u-o-1;y>=0;--y)this.setCell(u+o+y,this.loadCell(u+y,p));for(let y=0;y<o;++y)this.setCell(u+y,l)}else for(let p=u;p<this.length;++p)this.setCell(p,l);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new v.ExtendedAttrs)}deleteCells(u,o,l,f){if(u%=this.length,o<this.length-u){const p=new _.CellData;for(let y=0;y<this.length-u-o;++y)this.setCell(u+y,this.loadCell(u+o+y,p));for(let y=this.length-o;y<this.length;++y)this.setCell(y,l)}else for(let p=u;p<this.length;++p)this.setCell(p,l);u&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new v.ExtendedAttrs),this.getWidth(u)!==0||this.hasContent(u)||this.setCellFromCodePoint(u,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new v.ExtendedAttrs)}replaceCells(u,o,l,f,p=!1){if(p)for(u&&this.getWidth(u-1)===2&&!this.isProtected(u-1)&&this.setCellFromCodePoint(u-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new v.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&!this.isProtected(o)&&this.setCellFromCodePoint(o,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new v.ExtendedAttrs);u<o&&u<this.length;)this.isProtected(u)||this.setCell(u,l),u++;else for(u&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new v.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new v.ExtendedAttrs);u<o&&u<this.length;)this.setCell(u++,l)}resize(u,o){if(u===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const l=3*u;if(u>this.length){if(this._data.buffer.byteLength>=4*l)this._data=new Uint32Array(this._data.buffer,0,l);else{const f=new Uint32Array(l);f.set(this._data),this._data=f}for(let f=this.length;f<u;++f)this.setCell(f,o)}else{this._data=this._data.subarray(0,l);const f=Object.keys(this._combined);for(let y=0;y<f.length;y++){const w=parseInt(f[y],10);w>=u&&delete this._combined[w]}const p=Object.keys(this._extendedAttrs);for(let y=0;y<p.length;y++){const w=parseInt(p[y],10);w>=u&&delete this._extendedAttrs[w]}}return this.length=u,4*l*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const u=new Uint32Array(this._data.length);return u.set(this._data),this._data=u,1}return 0}fill(u,o=!1){if(o)for(let l=0;l<this.length;++l)this.isProtected(l)||this.setCell(l,u);else{this._combined={},this._extendedAttrs={};for(let l=0;l<this.length;++l)this.setCell(l,u)}}copyFrom(u){this.length!==u.length?this._data=new Uint32Array(u._data):this._data.set(u._data),this.length=u.length,this._combined={};for(const o in u._combined)this._combined[o]=u._combined[o];this._extendedAttrs={};for(const o in u._extendedAttrs)this._extendedAttrs[o]=u._extendedAttrs[o];this.isWrapped=u.isWrapped}clone(){const u=new C(0);u._data=new Uint32Array(this._data),u.length=this.length;for(const o in this._combined)u._combined[o]=this._combined[o];for(const o in this._extendedAttrs)u._extendedAttrs[o]=this._extendedAttrs[o];return u.isWrapped=this.isWrapped,u}getTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0])return u+(this._data[3*u+0]>>22);return 0}getNoBgTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0]||50331648&this._data[3*u+2])return u+(this._data[3*u+0]>>22);return 0}copyCellsFrom(u,o,l,f,p){const y=u._data;if(p)for(let E=f-1;E>=0;E--){for(let S=0;S<3;S++)this._data[3*(l+E)+S]=y[3*(o+E)+S];268435456&y[3*(o+E)+2]&&(this._extendedAttrs[l+E]=u._extendedAttrs[o+E])}else for(let E=0;E<f;E++){for(let S=0;S<3;S++)this._data[3*(l+E)+S]=y[3*(o+E)+S];268435456&y[3*(o+E)+2]&&(this._extendedAttrs[l+E]=u._extendedAttrs[o+E])}const w=Object.keys(u._combined);for(let E=0;E<w.length;E++){const S=parseInt(w[E],10);S>=o&&(this._combined[S-o+l]=u._combined[S])}}translateToString(u=!1,o=0,l=this.length){u&&(l=Math.min(l,this.getTrimmedLength()));let f="";for(;o<l;){const p=this._data[3*o+0],y=2097151&p;f+=2097152&p?this._combined[o]:y?(0,g.stringFromCodePoint)(y):d.WHITESPACE_CELL_CHAR,o+=p>>22||1}return f}}n.BufferLine=C},4841:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(c,v){if(c.start.y>c.end.y)throw new Error(`Buffer range end (${c.end.x}, ${c.end.y}) cannot be before start (${c.start.x}, ${c.start.y})`);return v*(c.end.y-c.start.y)+(c.end.x-c.start.x+1)}},4634:(m,n)=>{function c(v,_,d){if(_===v.length-1)return v[_].getTrimmedLength();const g=!v[_].hasContent(d-1)&&v[_].getWidth(d-1)===1,b=v[_+1].getWidth(0)===2;return g&&b?d-1:d}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(v,_,d,g,b){const C=[];for(let x=0;x<v.length-1;x++){let u=x,o=v.get(++u);if(!o.isWrapped)continue;const l=[v.get(x)];for(;u<v.length&&o.isWrapped;)l.push(o),o=v.get(++u);if(g>=x&&g<u){x+=l.length-1;continue}let f=0,p=c(l,f,_),y=1,w=0;for(;y<l.length;){const S=c(l,y,_),A=S-w,T=d-p,R=Math.min(A,T);l[f].copyCellsFrom(l[y],w,p,R,!1),p+=R,p===d&&(f++,p=0),w+=R,w===S&&(y++,w=0),p===0&&f!==0&&l[f-1].getWidth(d-1)===2&&(l[f].copyCellsFrom(l[f-1],d-1,p++,1,!1),l[f-1].setCell(d-1,b))}l[f].replaceCells(p,d,b);let E=0;for(let S=l.length-1;S>0&&(S>f||l[S].getTrimmedLength()===0);S--)E++;E>0&&(C.push(x+l.length-E),C.push(E)),x+=l.length-1}return C},n.reflowLargerCreateNewLayout=function(v,_){const d=[];let g=0,b=_[g],C=0;for(let x=0;x<v.length;x++)if(b===x){const u=_[++g];v.onDeleteEmitter.fire({index:x-C,amount:u}),x+=u-1,C+=u,b=_[++g]}else d.push(x);return{layout:d,countRemoved:C}},n.reflowLargerApplyNewLayout=function(v,_){const d=[];for(let g=0;g<_.length;g++)d.push(v.get(_[g]));for(let g=0;g<d.length;g++)v.set(g,d[g]);v.length=_.length},n.reflowSmallerGetNewLineLengths=function(v,_,d){const g=[],b=v.map((o,l)=>c(v,l,_)).reduce((o,l)=>o+l);let C=0,x=0,u=0;for(;u<b;){if(b-u<d){g.push(b-u);break}C+=d;const o=c(v,x,_);C>o&&(C-=o,x++);const l=v[x].getWidth(C-1)===2;l&&C--;const f=l?d-1:d;g.push(f),u+=f}return g},n.getWrappedLineTrimmedLength=c},5295:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;const v=c(8460),_=c(844),d=c(9092);class g extends _.Disposable{constructor(C,x){super(),this._optionsService=C,this._bufferService=x,this._onBufferActivate=this.register(new v.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,x){this._normal.resize(C,x),this._alt.resize(C,x),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}n.BufferSet=g},511:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;const v=c(482),_=c(643),d=c(3734);class g extends d.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new d.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const x=new g;return x.setFromCharData(C),x}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,v.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[_.CHAR_DATA_ATTR_INDEX],this.bg=0;let x=!1;if(C[_.CHAR_DATA_CHAR_INDEX].length>2)x=!0;else if(C[_.CHAR_DATA_CHAR_INDEX].length===2){const u=C[_.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=u&&u<=56319){const o=C[_.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=o&&o<=57343?this.content=1024*(u-55296)+o-56320+65536|C[_.CHAR_DATA_WIDTH_INDEX]<<22:x=!0}else x=!0}else this.content=C[_.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[_.CHAR_DATA_WIDTH_INDEX]<<22;x&&(this.combinedData=C[_.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[_.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.CellData=g},643:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_EXT=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=0,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.DEFAULT_EXT=0,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;const v=c(8460),_=c(844);class d{get id(){return this._id}constructor(b){this.line=b,this.isDisposed=!1,this._disposables=[],this._id=d._nextId++,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,_.disposeArray)(this._disposables),this._disposables.length=0)}register(b){return this._disposables.push(b),b}}n.Marker=d,d._nextId=1},7116:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},n.CHARSETS.A={"#":""},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},n.CHARSETS.C=n.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.E=n.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},n.CHARSETS.H=n.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(m,n)=>{var c,v,_;Object.defineProperty(n,"__esModule",{value:!0}),n.C1_ESCAPED=n.C1=n.C0=void 0,function(d){d.NUL="\0",d.SOH="",d.STX="",d.ETX="",d.EOT="",d.ENQ="",d.ACK="",d.BEL="\x07",d.BS="\b",d.HT="	",d.LF=`
`,d.VT="\v",d.FF="\f",d.CR="\r",d.SO="",d.SI="",d.DLE="",d.DC1="",d.DC2="",d.DC3="",d.DC4="",d.NAK="",d.SYN="",d.ETB="",d.CAN="",d.EM="",d.SUB="",d.ESC="\x1B",d.FS="",d.GS="",d.RS="",d.US="",d.SP=" ",d.DEL=""}(c||(n.C0=c={})),function(d){d.PAD="",d.HOP="",d.BPH="",d.NBH="",d.IND="",d.NEL="",d.SSA="",d.ESA="",d.HTS="",d.HTJ="",d.VTS="",d.PLD="",d.PLU="",d.RI="",d.SS2="",d.SS3="",d.DCS="",d.PU1="",d.PU2="",d.STS="",d.CCH="",d.MW="",d.SPA="",d.EPA="",d.SOS="",d.SGCI="",d.SCI="",d.CSI="",d.ST="",d.OSC="",d.PM="",d.APC=""}(v||(n.C1=v={})),function(d){d.ST=`${c.ESC}\\`}(_||(n.C1_ESCAPED=_={}))},7399:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;const v=c(2584),_={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(d,g,b,C){const x={type:0,cancel:!1,key:void 0},u=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:d.key==="UIKeyInputUpArrow"?x.key=g?v.C0.ESC+"OA":v.C0.ESC+"[A":d.key==="UIKeyInputLeftArrow"?x.key=g?v.C0.ESC+"OD":v.C0.ESC+"[D":d.key==="UIKeyInputRightArrow"?x.key=g?v.C0.ESC+"OC":v.C0.ESC+"[C":d.key==="UIKeyInputDownArrow"&&(x.key=g?v.C0.ESC+"OB":v.C0.ESC+"[B");break;case 8:if(d.altKey){x.key=v.C0.ESC+v.C0.DEL;break}x.key=v.C0.DEL;break;case 9:if(d.shiftKey){x.key=v.C0.ESC+"[Z";break}x.key=v.C0.HT,x.cancel=!0;break;case 13:x.key=d.altKey?v.C0.ESC+v.C0.CR:v.C0.CR,x.cancel=!0;break;case 27:x.key=v.C0.ESC,d.altKey&&(x.key=v.C0.ESC+v.C0.ESC),x.cancel=!0;break;case 37:if(d.metaKey)break;u?(x.key=v.C0.ESC+"[1;"+(u+1)+"D",x.key===v.C0.ESC+"[1;3D"&&(x.key=v.C0.ESC+(b?"b":"[1;5D"))):x.key=g?v.C0.ESC+"OD":v.C0.ESC+"[D";break;case 39:if(d.metaKey)break;u?(x.key=v.C0.ESC+"[1;"+(u+1)+"C",x.key===v.C0.ESC+"[1;3C"&&(x.key=v.C0.ESC+(b?"f":"[1;5C"))):x.key=g?v.C0.ESC+"OC":v.C0.ESC+"[C";break;case 38:if(d.metaKey)break;u?(x.key=v.C0.ESC+"[1;"+(u+1)+"A",b||x.key!==v.C0.ESC+"[1;3A"||(x.key=v.C0.ESC+"[1;5A")):x.key=g?v.C0.ESC+"OA":v.C0.ESC+"[A";break;case 40:if(d.metaKey)break;u?(x.key=v.C0.ESC+"[1;"+(u+1)+"B",b||x.key!==v.C0.ESC+"[1;3B"||(x.key=v.C0.ESC+"[1;5B")):x.key=g?v.C0.ESC+"OB":v.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(x.key=v.C0.ESC+"[2~");break;case 46:x.key=u?v.C0.ESC+"[3;"+(u+1)+"~":v.C0.ESC+"[3~";break;case 36:x.key=u?v.C0.ESC+"[1;"+(u+1)+"H":g?v.C0.ESC+"OH":v.C0.ESC+"[H";break;case 35:x.key=u?v.C0.ESC+"[1;"+(u+1)+"F":g?v.C0.ESC+"OF":v.C0.ESC+"[F";break;case 33:d.shiftKey?x.type=2:d.ctrlKey?x.key=v.C0.ESC+"[5;"+(u+1)+"~":x.key=v.C0.ESC+"[5~";break;case 34:d.shiftKey?x.type=3:d.ctrlKey?x.key=v.C0.ESC+"[6;"+(u+1)+"~":x.key=v.C0.ESC+"[6~";break;case 112:x.key=u?v.C0.ESC+"[1;"+(u+1)+"P":v.C0.ESC+"OP";break;case 113:x.key=u?v.C0.ESC+"[1;"+(u+1)+"Q":v.C0.ESC+"OQ";break;case 114:x.key=u?v.C0.ESC+"[1;"+(u+1)+"R":v.C0.ESC+"OR";break;case 115:x.key=u?v.C0.ESC+"[1;"+(u+1)+"S":v.C0.ESC+"OS";break;case 116:x.key=u?v.C0.ESC+"[15;"+(u+1)+"~":v.C0.ESC+"[15~";break;case 117:x.key=u?v.C0.ESC+"[17;"+(u+1)+"~":v.C0.ESC+"[17~";break;case 118:x.key=u?v.C0.ESC+"[18;"+(u+1)+"~":v.C0.ESC+"[18~";break;case 119:x.key=u?v.C0.ESC+"[19;"+(u+1)+"~":v.C0.ESC+"[19~";break;case 120:x.key=u?v.C0.ESC+"[20;"+(u+1)+"~":v.C0.ESC+"[20~";break;case 121:x.key=u?v.C0.ESC+"[21;"+(u+1)+"~":v.C0.ESC+"[21~";break;case 122:x.key=u?v.C0.ESC+"[23;"+(u+1)+"~":v.C0.ESC+"[23~";break;case 123:x.key=u?v.C0.ESC+"[24;"+(u+1)+"~":v.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(b&&!C||!d.altKey||d.metaKey)!b||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&d.key.length===1?x.key=d.key:d.key&&d.ctrlKey&&(d.key==="_"&&(x.key=v.C0.US),d.key==="@"&&(x.key=v.C0.NUL)):d.keyCode===65&&(x.type=1);else{const o=_[d.keyCode],l=o==null?void 0:o[d.shiftKey?1:0];if(l)x.key=v.C0.ESC+l;else if(d.keyCode>=65&&d.keyCode<=90){const f=d.ctrlKey?d.keyCode-64:d.keyCode+32;let p=String.fromCharCode(f);d.shiftKey&&(p=p.toUpperCase()),x.key=v.C0.ESC+p}else if(d.keyCode===32)x.key=v.C0.ESC+(d.ctrlKey?v.C0.NUL:" ");else if(d.key==="Dead"&&d.code.startsWith("Key")){let f=d.code.slice(3,4);d.shiftKey||(f=f.toLowerCase()),x.key=v.C0.ESC+f,x.cancel=!0}}else d.keyCode>=65&&d.keyCode<=90?x.key=String.fromCharCode(d.keyCode-64):d.keyCode===32?x.key=v.C0.NUL:d.keyCode>=51&&d.keyCode<=55?x.key=String.fromCharCode(d.keyCode-51+27):d.keyCode===56?x.key=v.C0.DEL:d.keyCode===219?x.key=v.C0.ESC:d.keyCode===220?x.key=v.C0.FS:d.keyCode===221&&(x.key=v.C0.GS)}return x}},482:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(c){return c>65535?(c-=65536,String.fromCharCode(55296+(c>>10))+String.fromCharCode(c%1024+56320)):String.fromCharCode(c)},n.utf32ToString=function(c,v=0,_=c.length){let d="";for(let g=v;g<_;++g){let b=c[g];b>65535?(b-=65536,d+=String.fromCharCode(55296+(b>>10))+String.fromCharCode(b%1024+56320)):d+=String.fromCharCode(b)}return d},n.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(c,v){const _=c.length;if(!_)return 0;let d=0,g=0;if(this._interim){const b=c.charCodeAt(g++);56320<=b&&b<=57343?v[d++]=1024*(this._interim-55296)+b-56320+65536:(v[d++]=this._interim,v[d++]=b),this._interim=0}for(let b=g;b<_;++b){const C=c.charCodeAt(b);if(55296<=C&&C<=56319){if(++b>=_)return this._interim=C,d;const x=c.charCodeAt(b);56320<=x&&x<=57343?v[d++]=1024*(C-55296)+x-56320+65536:(v[d++]=C,v[d++]=x)}else C!==65279&&(v[d++]=C)}return d}},n.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(c,v){const _=c.length;if(!_)return 0;let d,g,b,C,x=0,u=0,o=0;if(this.interim[0]){let p=!1,y=this.interim[0];y&=(224&y)==192?31:(240&y)==224?15:7;let w,E=0;for(;(w=63&this.interim[++E])&&E<4;)y<<=6,y|=w;const S=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,A=S-E;for(;o<A;){if(o>=_)return 0;if(w=c[o++],(192&w)!=128){o--,p=!0;break}this.interim[E++]=w,y<<=6,y|=63&w}p||(S===2?y<128?o--:v[x++]=y:S===3?y<2048||y>=55296&&y<=57343||y===65279||(v[x++]=y):y<65536||y>1114111||(v[x++]=y)),this.interim.fill(0)}const l=_-4;let f=o;for(;f<_;){for(;!(!(f<l)||128&(d=c[f])||128&(g=c[f+1])||128&(b=c[f+2])||128&(C=c[f+3]));)v[x++]=d,v[x++]=g,v[x++]=b,v[x++]=C,f+=4;if(d=c[f++],d<128)v[x++]=d;else if((224&d)==192){if(f>=_)return this.interim[0]=d,x;if(g=c[f++],(192&g)!=128){f--;continue}if(u=(31&d)<<6|63&g,u<128){f--;continue}v[x++]=u}else if((240&d)==224){if(f>=_)return this.interim[0]=d,x;if(g=c[f++],(192&g)!=128){f--;continue}if(f>=_)return this.interim[0]=d,this.interim[1]=g,x;if(b=c[f++],(192&b)!=128){f--;continue}if(u=(15&d)<<12|(63&g)<<6|63&b,u<2048||u>=55296&&u<=57343||u===65279)continue;v[x++]=u}else if((248&d)==240){if(f>=_)return this.interim[0]=d,x;if(g=c[f++],(192&g)!=128){f--;continue}if(f>=_)return this.interim[0]=d,this.interim[1]=g,x;if(b=c[f++],(192&b)!=128){f--;continue}if(f>=_)return this.interim[0]=d,this.interim[1]=g,this.interim[2]=b,x;if(C=c[f++],(192&C)!=128){f--;continue}if(u=(7&d)<<18|(63&g)<<12|(63&b)<<6|63&C,u<65536||u>1114111)continue;v[x++]=u}}return x}}},225:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;const c=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],v=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let _;n.UnicodeV6=class{constructor(){if(this.version="6",!_){_=new Uint8Array(65536),_.fill(1),_[0]=0,_.fill(0,1,32),_.fill(0,127,160),_.fill(2,4352,4448),_[9001]=2,_[9002]=2,_.fill(2,11904,42192),_[12351]=1,_.fill(2,44032,55204),_.fill(2,63744,64256),_.fill(2,65040,65050),_.fill(2,65072,65136),_.fill(2,65280,65377),_.fill(2,65504,65511);for(let d=0;d<c.length;++d)_.fill(0,c[d][0],c[d][1]+1)}}wcwidth(d){return d<32?0:d<127?1:d<65536?_[d]:function(g,b){let C,x=0,u=b.length-1;if(g<b[0][0]||g>b[u][1])return!1;for(;u>=x;)if(C=x+u>>1,g>b[C][1])x=C+1;else{if(!(g<b[C][0]))return!0;u=C-1}return!1}(d,v)?0:d>=131072&&d<=196605||d>=196608&&d<=262141?2:1}}},5981:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;const v=c(8460),_=c(844);class d extends _.Disposable{constructor(b){super(),this._action=b,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new v.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(b,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let x;for(this._isSyncWriting=!0;x=this._writeBuffer.shift();){this._action(x);const u=this._callbacks.shift();u&&u()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(b,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(C)}_innerWrite(b=0,C=!0){const x=b||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const u=this._writeBuffer[this._bufferOffset],o=this._action(u,C);if(o){const f=p=>Date.now()-x>=12?setTimeout(()=>this._innerWrite(0,p)):this._innerWrite(x,p);return void o.catch(p=>(queueMicrotask(()=>{throw p}),Promise.resolve(!1))).then(f)}const l=this._callbacks[this._bufferOffset];if(l&&l(),this._bufferOffset++,this._pendingData-=u.length,Date.now()-x>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}n.WriteBuffer=d},5941:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;const c=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,v=/^[\da-f]+$/;function _(d,g){const b=d.toString(16),C=b.length<2?"0"+b:b;switch(g){case 4:return b[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}n.parseColor=function(d){if(!d)return;let g=d.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const b=c.exec(g);if(b){const C=b[1]?15:b[4]?255:b[7]?4095:65535;return[Math.round(parseInt(b[1]||b[4]||b[7]||b[10],16)/C*255),Math.round(parseInt(b[2]||b[5]||b[8]||b[11],16)/C*255),Math.round(parseInt(b[3]||b[6]||b[9]||b[12],16)/C*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),v.exec(g)&&[3,6,9,12].includes(g.length))){const b=g.length/3,C=[0,0,0];for(let x=0;x<3;++x){const u=parseInt(g.slice(b*x,b*x+b),16);C[x]=b===1?u<<4:b===2?u:b===3?u>>4:u>>8}return C}},n.toRgbString=function(d,g=16){const[b,C,x]=d;return`rgb:${_(b,g)}/${_(C,g)}/${_(x,g)}`}},5770:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;const v=c(482),_=c(8742),d=c(5770),g=[];n.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(C,x){this._handlers[C]===void 0&&(this._handlers[C]=[]);const u=this._handlers[C];return u.push(x),{dispose:()=>{const o=u.indexOf(x);o!==-1&&u.splice(o,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(C,x){if(this.reset(),this._ident=C,this._active=this._handlers[C]||g,this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(C,x,u){if(this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].put(C,x,u);else this._handlerFb(this._ident,"PUT",(0,v.utf32ToString)(C,x,u))}unhook(C,x=!0){if(this._active.length){let u=!1,o=this._active.length-1,l=!1;if(this._stack.paused&&(o=this._stack.loopPosition-1,u=x,l=this._stack.fallThrough,this._stack.paused=!1),!l&&u===!1){for(;o>=0&&(u=this._active[o].unhook(C),u!==!0);o--)if(u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!1,u;o--}for(;o>=0;o--)if(u=this._active[o].unhook(!1),u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!0,u}else this._handlerFb(this._ident,"UNHOOK",C);this._active=g,this._ident=0}};const b=new _.Params;b.addParam(0),n.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=b,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():b,this._data="",this._hitLimit=!1}put(C,x,u){this._hitLimit||(this._data+=(0,v.utf32ToString)(C,x,u),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let x=!1;if(this._hitLimit)x=!1;else if(C&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then(u=>(this._params=b,this._data="",this._hitLimit=!1,u));return this._params=b,this._data="",this._hitLimit=!1,x}}},2015:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;const v=c(844),_=c(8742),d=c(6242),g=c(6351);class b{constructor(o){this.table=new Uint8Array(o)}setDefault(o,l){this.table.fill(o<<4|l)}add(o,l,f,p){this.table[l<<8|o]=f<<4|p}addMany(o,l,f,p){for(let y=0;y<o.length;y++)this.table[l<<8|o[y]]=f<<4|p}}n.TransitionTable=b;const C=160;n.VT500_TRANSITION_TABLE=function(){const u=new b(4095),o=Array.apply(null,Array(256)).map((E,S)=>S),l=(E,S)=>o.slice(E,S),f=l(32,127),p=l(0,24);p.push(25),p.push.apply(p,l(28,32));const y=l(0,14);let w;for(w in u.setDefault(1,0),u.addMany(f,0,2,0),y)u.addMany([24,26,153,154],w,3,0),u.addMany(l(128,144),w,3,0),u.addMany(l(144,152),w,3,0),u.add(156,w,0,0),u.add(27,w,11,1),u.add(157,w,4,8),u.addMany([152,158,159],w,0,7),u.add(155,w,11,3),u.add(144,w,11,9);return u.addMany(p,0,3,0),u.addMany(p,1,3,1),u.add(127,1,0,1),u.addMany(p,8,0,8),u.addMany(p,3,3,3),u.add(127,3,0,3),u.addMany(p,4,3,4),u.add(127,4,0,4),u.addMany(p,6,3,6),u.addMany(p,5,3,5),u.add(127,5,0,5),u.addMany(p,2,3,2),u.add(127,2,0,2),u.add(93,1,4,8),u.addMany(f,8,5,8),u.add(127,8,5,8),u.addMany([156,27,24,26,7],8,6,0),u.addMany(l(28,32),8,0,8),u.addMany([88,94,95],1,0,7),u.addMany(f,7,0,7),u.addMany(p,7,0,7),u.add(156,7,0,0),u.add(127,7,0,7),u.add(91,1,11,3),u.addMany(l(64,127),3,7,0),u.addMany(l(48,60),3,8,4),u.addMany([60,61,62,63],3,9,4),u.addMany(l(48,60),4,8,4),u.addMany(l(64,127),4,7,0),u.addMany([60,61,62,63],4,0,6),u.addMany(l(32,64),6,0,6),u.add(127,6,0,6),u.addMany(l(64,127),6,0,0),u.addMany(l(32,48),3,9,5),u.addMany(l(32,48),5,9,5),u.addMany(l(48,64),5,0,6),u.addMany(l(64,127),5,7,0),u.addMany(l(32,48),4,9,5),u.addMany(l(32,48),1,9,2),u.addMany(l(32,48),2,9,2),u.addMany(l(48,127),2,10,0),u.addMany(l(48,80),1,10,0),u.addMany(l(81,88),1,10,0),u.addMany([89,90,92],1,10,0),u.addMany(l(96,127),1,10,0),u.add(80,1,11,9),u.addMany(p,9,0,9),u.add(127,9,0,9),u.addMany(l(28,32),9,0,9),u.addMany(l(32,48),9,9,12),u.addMany(l(48,60),9,8,10),u.addMany([60,61,62,63],9,9,10),u.addMany(p,11,0,11),u.addMany(l(32,128),11,0,11),u.addMany(l(28,32),11,0,11),u.addMany(p,10,0,10),u.add(127,10,0,10),u.addMany(l(28,32),10,0,10),u.addMany(l(48,60),10,8,10),u.addMany([60,61,62,63],10,0,11),u.addMany(l(32,48),10,9,12),u.addMany(p,12,0,12),u.add(127,12,0,12),u.addMany(l(28,32),12,0,12),u.addMany(l(32,48),12,9,12),u.addMany(l(48,64),12,0,11),u.addMany(l(64,127),12,12,13),u.addMany(l(64,127),10,12,13),u.addMany(l(64,127),9,12,13),u.addMany(p,13,13,13),u.addMany(f,13,13,13),u.add(127,13,0,13),u.addMany([27,156,24,26],13,14,0),u.add(C,0,2,0),u.add(C,8,5,8),u.add(C,6,0,6),u.add(C,11,0,11),u.add(C,13,13,13),u}();class x extends v.Disposable{constructor(o=n.VT500_TRANSITION_TABLE){super(),this._transitions=o,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new _.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(l,f,p)=>{},this._executeHandlerFb=l=>{},this._csiHandlerFb=(l,f)=>{},this._escHandlerFb=l=>{},this._errorHandlerFb=l=>l,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,v.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new d.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(o,l=[64,126]){let f=0;if(o.prefix){if(o.prefix.length>1)throw new Error("only one byte as prefix supported");if(f=o.prefix.charCodeAt(0),f&&60>f||f>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(o.intermediates){if(o.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let y=0;y<o.intermediates.length;++y){const w=o.intermediates.charCodeAt(y);if(32>w||w>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");f<<=8,f|=w}}if(o.final.length!==1)throw new Error("final must be a single byte");const p=o.final.charCodeAt(0);if(l[0]>p||p>l[1])throw new Error(`final must be in range ${l[0]} .. ${l[1]}`);return f<<=8,f|=p,f}identToString(o){const l=[];for(;o;)l.push(String.fromCharCode(255&o)),o>>=8;return l.reverse().join("")}setPrintHandler(o){this._printHandler=o}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(o,l){const f=this._identifier(o,[48,126]);this._escHandlers[f]===void 0&&(this._escHandlers[f]=[]);const p=this._escHandlers[f];return p.push(l),{dispose:()=>{const y=p.indexOf(l);y!==-1&&p.splice(y,1)}}}clearEscHandler(o){this._escHandlers[this._identifier(o,[48,126])]&&delete this._escHandlers[this._identifier(o,[48,126])]}setEscHandlerFallback(o){this._escHandlerFb=o}setExecuteHandler(o,l){this._executeHandlers[o.charCodeAt(0)]=l}clearExecuteHandler(o){this._executeHandlers[o.charCodeAt(0)]&&delete this._executeHandlers[o.charCodeAt(0)]}setExecuteHandlerFallback(o){this._executeHandlerFb=o}registerCsiHandler(o,l){const f=this._identifier(o);this._csiHandlers[f]===void 0&&(this._csiHandlers[f]=[]);const p=this._csiHandlers[f];return p.push(l),{dispose:()=>{const y=p.indexOf(l);y!==-1&&p.splice(y,1)}}}clearCsiHandler(o){this._csiHandlers[this._identifier(o)]&&delete this._csiHandlers[this._identifier(o)]}setCsiHandlerFallback(o){this._csiHandlerFb=o}registerDcsHandler(o,l){return this._dcsParser.registerHandler(this._identifier(o),l)}clearDcsHandler(o){this._dcsParser.clearHandler(this._identifier(o))}setDcsHandlerFallback(o){this._dcsParser.setHandlerFallback(o)}registerOscHandler(o,l){return this._oscParser.registerHandler(o,l)}clearOscHandler(o){this._oscParser.clearHandler(o)}setOscHandlerFallback(o){this._oscParser.setHandlerFallback(o)}setErrorHandler(o){this._errorHandler=o}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(o,l,f,p,y){this._parseStack.state=o,this._parseStack.handlers=l,this._parseStack.handlerPos=f,this._parseStack.transition=p,this._parseStack.chunkPos=y}parse(o,l,f){let p,y=0,w=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(f===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const S=this._parseStack.handlers;let A=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(f===!1&&A>-1){for(;A>=0&&(p=S[A](this._params),p!==!0);A--)if(p instanceof Promise)return this._parseStack.handlerPos=A,p}this._parseStack.handlers=[];break;case 4:if(f===!1&&A>-1){for(;A>=0&&(p=S[A](),p!==!0);A--)if(p instanceof Promise)return this._parseStack.handlerPos=A,p}this._parseStack.handlers=[];break;case 6:if(y=o[this._parseStack.chunkPos],p=this._dcsParser.unhook(y!==24&&y!==26,f),p)return p;y===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(y=o[this._parseStack.chunkPos],p=this._oscParser.end(y!==24&&y!==26,f),p)return p;y===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let S=E;S<l;++S){switch(y=o[S],w=this._transitions.table[this.currentState<<8|(y<160?y:C)],w>>4){case 2:for(let O=S+1;;++O){if(O>=l||(y=o[O])<32||y>126&&y<C){this._printHandler(o,S,O),S=O-1;break}if(++O>=l||(y=o[O])<32||y>126&&y<C){this._printHandler(o,S,O),S=O-1;break}if(++O>=l||(y=o[O])<32||y>126&&y<C){this._printHandler(o,S,O),S=O-1;break}if(++O>=l||(y=o[O])<32||y>126&&y<C){this._printHandler(o,S,O),S=O-1;break}}break;case 3:this._executeHandlers[y]?this._executeHandlers[y]():this._executeHandlerFb(y),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:S,code:y,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const A=this._csiHandlers[this._collect<<8|y];let T=A?A.length-1:-1;for(;T>=0&&(p=A[T](this._params),p!==!0);T--)if(p instanceof Promise)return this._preserveStack(3,A,T,w,S),p;T<0&&this._csiHandlerFb(this._collect<<8|y,this._params),this.precedingCodepoint=0;break;case 8:do switch(y){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(y-48)}while(++S<l&&(y=o[S])>47&&y<60);S--;break;case 9:this._collect<<=8,this._collect|=y;break;case 10:const R=this._escHandlers[this._collect<<8|y];let k=R?R.length-1:-1;for(;k>=0&&(p=R[k](),p!==!0);k--)if(p instanceof Promise)return this._preserveStack(4,R,k,w,S),p;k<0&&this._escHandlerFb(this._collect<<8|y),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|y,this._params);break;case 13:for(let O=S+1;;++O)if(O>=l||(y=o[O])===24||y===26||y===27||y>127&&y<C){this._dcsParser.put(o,S,O),S=O-1;break}break;case 14:if(p=this._dcsParser.unhook(y!==24&&y!==26),p)return this._preserveStack(6,[],0,w,S),p;y===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let O=S+1;;O++)if(O>=l||(y=o[O])<32||y>127&&y<C){this._oscParser.put(o,S,O),S=O-1;break}break;case 6:if(p=this._oscParser.end(y!==24&&y!==26),p)return this._preserveStack(5,[],0,w,S),p;y===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&w}}}n.EscapeSequenceParser=x},6242:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;const v=c(5770),_=c(482),d=[];n.OscParser=class{constructor(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,b){this._handlers[g]===void 0&&(this._handlers[g]=[]);const C=this._handlers[g];return C.push(b),{dispose:()=>{const x=C.indexOf(b);x!==-1&&C.splice(x,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||d,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,b,C){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(g,b,C);else this._handlerFb(this._id,"PUT",(0,_.utf32ToString)(g,b,C))}start(){this.reset(),this._state=1}put(g,b,C){if(this._state!==3){if(this._state===1)for(;b<C;){const x=g[b++];if(x===59){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+x-48}this._state===2&&C-b>0&&this._put(g,b,C)}}end(g,b=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,x=this._active.length-1,u=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,C=b,u=this._stack.fallThrough,this._stack.paused=!1),!u&&C===!1){for(;x>=0&&(C=this._active[x].end(g),C!==!0);x--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,C;x--}for(;x>=0;x--)if(C=this._active[x].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",g);this._active=d,this._id=-1,this._state=0}}},n.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,b,C){this._hitLimit||(this._data+=(0,_.utf32ToString)(g,b,C),this._data.length>v.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let b=!1;if(this._hitLimit)b=!1;else if(g&&(b=this._handler(this._data),b instanceof Promise))return b.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,b}}},8742:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;const c=2147483647;class v{static fromArray(d){const g=new v;if(!d.length)return g;for(let b=Array.isArray(d[0])?1:0;b<d.length;++b){const C=d[b];if(Array.isArray(C))for(let x=0;x<C.length;++x)g.addSubParam(C[x]);else g.addParam(C)}return g}constructor(d=32,g=32){if(this.maxLength=d,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const d=new v(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d}toArray(){const d=[];for(let g=0;g<this.length;++g){d.push(this.params[g]);const b=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-b>0&&d.push(Array.prototype.slice.call(this._subParams,b,C))}return d}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>c?c:d}}addSubParam(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>c?c:d,this._subParamsIdx[this.length-1]++}}hasSubParams(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0}getSubParams(d){const g=this._subParamsIdx[d]>>8,b=255&this._subParamsIdx[d];return b-g>0?this._subParams.subarray(g,b):null}getSubParamsAll(){const d={};for(let g=0;g<this.length;++g){const b=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-b>0&&(d[g]=this._subParams.slice(b,C))}return d}addDigit(d){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const b=this._digitIsSub?this._subParams:this.params,C=b[g-1];b[g-1]=~C?Math.min(10*C+d,c):d}}n.Params=v},5741:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0,n.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let c=this._addons.length-1;c>=0;c--)this._addons[c].instance.dispose()}loadAddon(c,v){const _={instance:v,dispose:v.dispose,isDisposed:!1};this._addons.push(_),v.dispose=()=>this._wrappedAddonDispose(_),v.activate(c)}_wrappedAddonDispose(c){if(c.isDisposed)return;let v=-1;for(let _=0;_<this._addons.length;_++)if(this._addons[_]===c){v=_;break}if(v===-1)throw new Error("Could not dispose an addon that has not been loaded");c.isDisposed=!0,c.dispose.apply(c.instance),this._addons.splice(v,1)}}},8771:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;const v=c(3785),_=c(511);n.BufferApiView=class{constructor(d,g){this._buffer=d,this.type=g}init(d){return this._buffer=d,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(d){const g=this._buffer.lines.get(d);if(g)return new v.BufferLineApiView(g)}getNullCell(){return new _.CellData}}},3785:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;const v=c(511);n.BufferLineApiView=class{constructor(_){this._line=_}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(_,d){if(!(_<0||_>=this._line.length))return d?(this._line.loadCell(_,d),d):this._line.loadCell(_,new v.CellData)}translateToString(_,d,g){return this._line.translateToString(_,d,g)}}},8285:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;const v=c(8771),_=c(8460),d=c(844);class g extends d.Disposable{constructor(C){super(),this._core=C,this._onBufferChange=this.register(new _.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new v.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new v.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}n.BufferNamespaceApi=g},7975:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0,n.ParserApi=class{constructor(c){this._core=c}registerCsiHandler(c,v){return this._core.registerCsiHandler(c,_=>v(_.toArray()))}addCsiHandler(c,v){return this.registerCsiHandler(c,v)}registerDcsHandler(c,v){return this._core.registerDcsHandler(c,(_,d)=>v(_,d.toArray()))}addDcsHandler(c,v){return this.registerDcsHandler(c,v)}registerEscHandler(c,v){return this._core.registerEscHandler(c,v)}addEscHandler(c,v){return this.registerEscHandler(c,v)}registerOscHandler(c,v){return this._core.registerOscHandler(c,v)}addOscHandler(c,v){return this.registerOscHandler(c,v)}}},7090:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0,n.UnicodeApi=class{constructor(c){this._core=c}register(c){this._core.unicodeService.register(c)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(c){this._core.unicodeService.activeVersion=c}}},744:function(m,n,c){var v=this&&this.__decorate||function(u,o,l,f){var p,y=arguments.length,w=y<3?o:f===null?f=Object.getOwnPropertyDescriptor(o,l):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,o,l,f);else for(var E=u.length-1;E>=0;E--)(p=u[E])&&(w=(y<3?p(w):y>3?p(o,l,w):p(o,l))||w);return y>3&&w&&Object.defineProperty(o,l,w),w},_=this&&this.__param||function(u,o){return function(l,f){o(l,f,u)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;const d=c(8460),g=c(844),b=c(5295),C=c(2585);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;let x=n.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(u){super(),this.isUserScrolling=!1,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(u.rawOptions.cols||0,n.MINIMUM_COLS),this.rows=Math.max(u.rawOptions.rows||0,n.MINIMUM_ROWS),this.buffers=this.register(new b.BufferSet(u,this))}resize(u,o){this.cols=u,this.rows=o,this.buffers.resize(u,o),this._onResize.fire({cols:u,rows:o})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(u,o=!1){const l=this.buffer;let f;f=this._cachedBlankLine,f&&f.length===this.cols&&f.getFg(0)===u.fg&&f.getBg(0)===u.bg||(f=l.getBlankLine(u,o),this._cachedBlankLine=f),f.isWrapped=o;const p=l.ybase+l.scrollTop,y=l.ybase+l.scrollBottom;if(l.scrollTop===0){const w=l.lines.isFull;y===l.lines.length-1?w?l.lines.recycle().copyFrom(f):l.lines.push(f.clone()):l.lines.splice(y+1,0,f.clone()),w?this.isUserScrolling&&(l.ydisp=Math.max(l.ydisp-1,0)):(l.ybase++,this.isUserScrolling||l.ydisp++)}else{const w=y-p+1;l.lines.shiftElements(p+1,w-1,-1),l.lines.set(y,f.clone())}this.isUserScrolling||(l.ydisp=l.ybase),this._onScroll.fire(l.ydisp)}scrollLines(u,o,l){const f=this.buffer;if(u<0){if(f.ydisp===0)return;this.isUserScrolling=!0}else u+f.ydisp>=f.ybase&&(this.isUserScrolling=!1);const p=f.ydisp;f.ydisp=Math.max(Math.min(f.ydisp+u,f.ybase),0),p!==f.ydisp&&(o||this._onScroll.fire(f.ydisp))}};n.BufferService=x=v([_(0,C.IOptionsService)],x)},7994:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0,n.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(c){this.glevel=c,this.charset=this._charsets[c]}setgCharset(c,v){this._charsets[c]=v,this.glevel===c&&(this.charset=v)}}},1753:function(m,n,c){var v=this&&this.__decorate||function(f,p,y,w){var E,S=arguments.length,A=S<3?p:w===null?w=Object.getOwnPropertyDescriptor(p,y):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(f,p,y,w);else for(var T=f.length-1;T>=0;T--)(E=f[T])&&(A=(S<3?E(A):S>3?E(p,y,A):E(p,y))||A);return S>3&&A&&Object.defineProperty(p,y,A),A},_=this&&this.__param||function(f,p){return function(y,w){p(y,w,f)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;const d=c(2585),g=c(8460),b=c(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:f=>f.button!==4&&f.action===1&&(f.ctrl=!1,f.alt=!1,f.shift=!1,!0)},VT200:{events:19,restrict:f=>f.action!==32},DRAG:{events:23,restrict:f=>f.action!==32||f.button!==3},ANY:{events:31,restrict:f=>!0}};function x(f,p){let y=(f.ctrl?16:0)|(f.shift?4:0)|(f.alt?8:0);return f.button===4?(y|=64,y|=f.action):(y|=3&f.button,4&f.button&&(y|=64),8&f.button&&(y|=128),f.action===32?y|=32:f.action!==0||p||(y|=3)),y}const u=String.fromCharCode,o={DEFAULT:f=>{const p=[x(f,!1)+32,f.col+32,f.row+32];return p[0]>255||p[1]>255||p[2]>255?"":`\x1B[M${u(p[0])}${u(p[1])}${u(p[2])}`},SGR:f=>{const p=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${x(f,!0)};${f.col};${f.row}${p}`},SGR_PIXELS:f=>{const p=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${x(f,!0)};${f.x};${f.y}${p}`}};let l=n.CoreMouseService=class extends b.Disposable{constructor(f,p){super(),this._bufferService=f,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const y of Object.keys(C))this.addProtocol(y,C[y]);for(const y of Object.keys(o))this.addEncoding(y,o[y]);this.reset()}addProtocol(f,p){this._protocols[f]=p}addEncoding(f,p){this._encodings[f]=p}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(f){if(!this._protocols[f])throw new Error(`unknown protocol "${f}"`);this._activeProtocol=f,this._onProtocolChange.fire(this._protocols[f].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(f){if(!this._encodings[f])throw new Error(`unknown encoding "${f}"`);this._activeEncoding=f}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(f){if(f.col<0||f.col>=this._bufferService.cols||f.row<0||f.row>=this._bufferService.rows||f.button===4&&f.action===32||f.button===3&&f.action!==32||f.button!==4&&(f.action===2||f.action===3)||(f.col++,f.row++,f.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,f,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(f))return!1;const p=this._encodings[this._activeEncoding](f);return p&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=f,!0}explainEvents(f){return{down:!!(1&f),up:!!(2&f),drag:!!(4&f),move:!!(8&f),wheel:!!(16&f)}}_equalEvents(f,p,y){if(y){if(f.x!==p.x||f.y!==p.y)return!1}else if(f.col!==p.col||f.row!==p.row)return!1;return f.button===p.button&&f.action===p.action&&f.ctrl===p.ctrl&&f.alt===p.alt&&f.shift===p.shift}};n.CoreMouseService=l=v([_(0,d.IBufferService),_(1,d.ICoreService)],l)},6975:function(m,n,c){var v=this&&this.__decorate||function(l,f,p,y){var w,E=arguments.length,S=E<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,p):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(l,f,p,y);else for(var A=l.length-1;A>=0;A--)(w=l[A])&&(S=(E<3?w(S):E>3?w(f,p,S):w(f,p))||S);return E>3&&S&&Object.defineProperty(f,p,S),S},_=this&&this.__param||function(l,f){return function(p,y){f(p,y,l)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;const d=c(1439),g=c(8460),b=c(844),C=c(2585),x=Object.freeze({insertMode:!1}),u=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let o=n.CoreService=class extends b.Disposable{constructor(l,f,p){super(),this._bufferService=l,this._logService=f,this._optionsService=p,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,d.clone)(x),this.decPrivateModes=(0,d.clone)(u)}reset(){this.modes=(0,d.clone)(x),this.decPrivateModes=(0,d.clone)(u)}triggerDataEvent(l,f=!1){if(this._optionsService.rawOptions.disableStdin)return;const p=this._bufferService.buffer;f&&this._optionsService.rawOptions.scrollOnUserInput&&p.ybase!==p.ydisp&&this._onRequestScrollToBottom.fire(),f&&this._onUserInput.fire(),this._logService.debug(`sending data "${l}"`,()=>l.split("").map(y=>y.charCodeAt(0))),this._onData.fire(l)}triggerBinaryEvent(l){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${l}"`,()=>l.split("").map(f=>f.charCodeAt(0))),this._onBinary.fire(l))}};n.CoreService=o=v([_(0,C.IBufferService),_(1,C.ILogService),_(2,C.IOptionsService)],o)},9074:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DecorationService=void 0;const v=c(8055),_=c(8460),d=c(844),g=c(6106);let b=0,C=0;class x extends d.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(l=>l==null?void 0:l.marker.line),this._onDecorationRegistered=this.register(new _.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new _.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,d.toDisposable)(()=>this.reset()))}registerDecoration(l){if(l.marker.isDisposed)return;const f=new u(l);if(f){const p=f.marker.onDispose(()=>f.dispose());f.onDispose(()=>{f&&(this._decorations.delete(f)&&this._onDecorationRemoved.fire(f),p.dispose())}),this._decorations.insert(f),this._onDecorationRegistered.fire(f)}return f}reset(){for(const l of this._decorations.values())l.dispose();this._decorations.clear()}*getDecorationsAtCell(l,f,p){var y,w,E;let S=0,A=0;for(const T of this._decorations.getKeyIterator(f))S=(y=T.options.x)!==null&&y!==void 0?y:0,A=S+((w=T.options.width)!==null&&w!==void 0?w:1),l>=S&&l<A&&(!p||((E=T.options.layer)!==null&&E!==void 0?E:"bottom")===p)&&(yield T)}forEachDecorationAtCell(l,f,p,y){this._decorations.forEachByKey(f,w=>{var E,S,A;b=(E=w.options.x)!==null&&E!==void 0?E:0,C=b+((S=w.options.width)!==null&&S!==void 0?S:1),l>=b&&l<C&&(!p||((A=w.options.layer)!==null&&A!==void 0?A:"bottom")===p)&&y(w)})}}n.DecorationService=x;class u extends d.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=v.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=v.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(l){super(),this.options=l,this.onRenderEmitter=this.register(new _.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new _.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=l.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;const v=c(2585),_=c(8343);class d{constructor(...b){this._entries=new Map;for(const[C,x]of b)this.set(C,x)}set(b,C){const x=this._entries.get(b);return this._entries.set(b,C),x}forEach(b){for(const[C,x]of this._entries.entries())b(C,x)}has(b){return this._entries.has(b)}get(b){return this._entries.get(b)}}n.ServiceCollection=d,n.InstantiationService=class{constructor(){this._services=new d,this._services.set(v.IInstantiationService,this)}setService(g,b){this._services.set(g,b)}getService(g){return this._services.get(g)}createInstance(g,...b){const C=(0,_.getServiceDependencies)(g).sort((o,l)=>o.index-l.index),x=[];for(const o of C){const l=this._services.get(o.id);if(!l)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${o.id}.`);x.push(l)}const u=C.length>0?C[0].index:b.length;if(b.length!==u)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${u+1} conflicts with ${b.length} static arguments`);return new g(...b,...x)}}},7866:function(m,n,c){var v=this&&this.__decorate||function(u,o,l,f){var p,y=arguments.length,w=y<3?o:f===null?f=Object.getOwnPropertyDescriptor(o,l):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(u,o,l,f);else for(var E=u.length-1;E>=0;E--)(p=u[E])&&(w=(y<3?p(w):y>3?p(o,l,w):p(o,l))||w);return y>3&&w&&Object.defineProperty(o,l,w),w},_=this&&this.__param||function(u,o){return function(l,f){o(l,f,u)}};Object.defineProperty(n,"__esModule",{value:!0}),n.traceCall=n.setTraceLogger=n.LogService=void 0;const d=c(844),g=c(2585),b={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let C,x=n.LogService=class extends d.Disposable{get logLevel(){return this._logLevel}constructor(u){super(),this._optionsService=u,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),C=this}_updateLogLevel(){this._logLevel=b[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(u){for(let o=0;o<u.length;o++)typeof u[o]=="function"&&(u[o]=u[o]())}_log(u,o,l){this._evalLazyOptionalParams(l),u.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+o,...l)}trace(u,...o){var l,f;this._logLevel<=g.LogLevelEnum.TRACE&&this._log((f=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.trace.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.log,u,o)}debug(u,...o){var l,f;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log((f=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.debug.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.log,u,o)}info(u,...o){var l,f;this._logLevel<=g.LogLevelEnum.INFO&&this._log((f=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.info.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.info,u,o)}warn(u,...o){var l,f;this._logLevel<=g.LogLevelEnum.WARN&&this._log((f=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.warn.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.warn,u,o)}error(u,...o){var l,f;this._logLevel<=g.LogLevelEnum.ERROR&&this._log((f=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.error.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.error,u,o)}};n.LogService=x=v([_(0,g.IOptionsService)],x),n.setTraceLogger=function(u){C=u},n.traceCall=function(u,o,l){if(typeof l.value!="function")throw new Error("not supported");const f=l.value;l.value=function(...p){if(C.logLevel!==g.LogLevelEnum.TRACE)return f.apply(this,p);C.trace(`GlyphRenderer#${f.name}(${p.map(w=>JSON.stringify(w)).join(", ")})`);const y=f.apply(this,p);return C.trace(`GlyphRenderer#${f.name} return`,y),y}}},7302:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=void 0;const v=c(8460),_=c(844),d=c(6114);n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:d.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class b extends _.Disposable{constructor(x){super(),this._onOptionChange=this.register(new v.EventEmitter),this.onOptionChange=this._onOptionChange.event;const u=Object.assign({},n.DEFAULT_OPTIONS);for(const o in x)if(o in u)try{const l=x[o];u[o]=this._sanitizeAndValidateOption(o,l)}catch(l){console.error(l)}this.rawOptions=u,this.options=Object.assign({},u),this._setupOptions()}onSpecificOptionChange(x,u){return this.onOptionChange(o=>{o===x&&u(this.rawOptions[x])})}onMultipleOptionChange(x,u){return this.onOptionChange(o=>{x.indexOf(o)!==-1&&u()})}_setupOptions(){const x=o=>{if(!(o in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);return this.rawOptions[o]},u=(o,l)=>{if(!(o in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);l=this._sanitizeAndValidateOption(o,l),this.rawOptions[o]!==l&&(this.rawOptions[o]=l,this._onOptionChange.fire(o))};for(const o in this.rawOptions){const l={get:x.bind(this,o),set:u.bind(this,o)};Object.defineProperty(this.options,o,l)}}_sanitizeAndValidateOption(x,u){switch(x){case"cursorStyle":if(u||(u=n.DEFAULT_OPTIONS[x]),!function(o){return o==="block"||o==="underline"||o==="bar"}(u))throw new Error(`"${u}" is not a valid value for ${x}`);break;case"wordSeparator":u||(u=n.DEFAULT_OPTIONS[x]);break;case"fontWeight":case"fontWeightBold":if(typeof u=="number"&&1<=u&&u<=1e3)break;u=g.includes(u)?u:n.DEFAULT_OPTIONS[x];break;case"cursorWidth":u=Math.floor(u);case"lineHeight":case"tabStopWidth":if(u<1)throw new Error(`${x} cannot be less than 1, value: ${u}`);break;case"minimumContrastRatio":u=Math.max(1,Math.min(21,Math.round(10*u)/10));break;case"scrollback":if((u=Math.min(u,4294967295))<0)throw new Error(`${x} cannot be less than 0, value: ${u}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(u<=0)throw new Error(`${x} cannot be less than or equal to 0, value: ${u}`);break;case"rows":case"cols":if(!u&&u!==0)throw new Error(`${x} must be numeric, value: ${u}`);break;case"windowsPty":u=u??{}}return u}}n.OptionsService=b},2660:function(m,n,c){var v=this&&this.__decorate||function(b,C,x,u){var o,l=arguments.length,f=l<3?C:u===null?u=Object.getOwnPropertyDescriptor(C,x):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(b,C,x,u);else for(var p=b.length-1;p>=0;p--)(o=b[p])&&(f=(l<3?o(f):l>3?o(C,x,f):o(C,x))||f);return l>3&&f&&Object.defineProperty(C,x,f),f},_=this&&this.__param||function(b,C){return function(x,u){C(x,u,b)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkService=void 0;const d=c(2585);let g=n.OscLinkService=class{constructor(b){this._bufferService=b,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(b){const C=this._bufferService.buffer;if(b.id===void 0){const p=C.addMarker(C.ybase+C.y),y={data:b,id:this._nextId++,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(y,p)),this._dataByLinkId.set(y.id,y),y.id}const x=b,u=this._getEntryIdKey(x),o=this._entriesWithId.get(u);if(o)return this.addLineToLink(o.id,C.ybase+C.y),o.id;const l=C.addMarker(C.ybase+C.y),f={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[l]};return l.onDispose(()=>this._removeMarkerFromLink(f,l)),this._entriesWithId.set(f.key,f),this._dataByLinkId.set(f.id,f),f.id}addLineToLink(b,C){const x=this._dataByLinkId.get(b);if(x&&x.lines.every(u=>u.line!==C)){const u=this._bufferService.buffer.addMarker(C);x.lines.push(u),u.onDispose(()=>this._removeMarkerFromLink(x,u))}}getLinkData(b){var C;return(C=this._dataByLinkId.get(b))===null||C===void 0?void 0:C.data}_getEntryIdKey(b){return`${b.id};;${b.uri}`}_removeMarkerFromLink(b,C){const x=b.lines.indexOf(C);x!==-1&&(b.lines.splice(x,1),b.lines.length===0&&(b.data.id!==void 0&&this._entriesWithId.delete(b.key),this._dataByLinkId.delete(b.id)))}};n.OscLinkService=g=v([_(0,d.IBufferService)],g)},8343:(m,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0;const c="di$target",v="di$dependencies";n.serviceRegistry=new Map,n.getServiceDependencies=function(_){return _[v]||[]},n.createDecorator=function(_){if(n.serviceRegistry.has(_))return n.serviceRegistry.get(_);const d=function(g,b,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,u,o){u[c]===u?u[v].push({id:x,index:o}):(u[v]=[{id:x,index:o}],u[c]=u)})(d,g,C)};return d.toString=()=>_,n.serviceRegistry.set(_,d),d}},2585:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.IUnicodeService=n.IOscLinkService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;const v=c(8343);var _;n.IBufferService=(0,v.createDecorator)("BufferService"),n.ICoreMouseService=(0,v.createDecorator)("CoreMouseService"),n.ICoreService=(0,v.createDecorator)("CoreService"),n.ICharsetService=(0,v.createDecorator)("CharsetService"),n.IInstantiationService=(0,v.createDecorator)("InstantiationService"),function(d){d[d.TRACE=0]="TRACE",d[d.DEBUG=1]="DEBUG",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.OFF=5]="OFF"}(_||(n.LogLevelEnum=_={})),n.ILogService=(0,v.createDecorator)("LogService"),n.IOptionsService=(0,v.createDecorator)("OptionsService"),n.IOscLinkService=(0,v.createDecorator)("OscLinkService"),n.IUnicodeService=(0,v.createDecorator)("UnicodeService"),n.IDecorationService=(0,v.createDecorator)("DecorationService")},1480:(m,n,c)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;const v=c(8460),_=c(225);n.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new v.EventEmitter,this.onChange=this._onChange.event;const d=new _.UnicodeV6;this.register(d),this._active=d.version,this._activeProvider=d}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(d){if(!this._providers[d])throw new Error(`unknown Unicode version "${d}"`);this._active=d,this._activeProvider=this._providers[d],this._onChange.fire(d)}register(d){this._providers[d.version]=d}wcwidth(d){return this._activeProvider.wcwidth(d)}getStringCellWidth(d){let g=0;const b=d.length;for(let C=0;C<b;++C){let x=d.charCodeAt(C);if(55296<=x&&x<=56319){if(++C>=b)return g+this.wcwidth(x);const u=d.charCodeAt(C);56320<=u&&u<=57343?x=1024*(x-55296)+u-56320+65536:g+=this.wcwidth(u)}g+=this.wcwidth(x)}return g}}}},i={};function r(m){var n=i[m];if(n!==void 0)return n.exports;var c=i[m]={exports:{}};return s[m].call(c.exports,c,c.exports,r),c.exports}var a={};return(()=>{var m=a;Object.defineProperty(m,"__esModule",{value:!0}),m.Terminal=void 0;const n=r(9042),c=r(3236),v=r(844),_=r(5741),d=r(8285),g=r(7975),b=r(7090),C=["cols","rows"];class x extends v.Disposable{constructor(o){super(),this._core=this.register(new c.Terminal(o)),this._addonManager=this.register(new _.AddonManager),this._publicOptions=Object.assign({},this._core.options);const l=p=>this._core.options[p],f=(p,y)=>{this._checkReadonlyOptions(p),this._core.options[p]=y};for(const p in this._core.options){const y={get:l.bind(this,p),set:f.bind(this,p)};Object.defineProperty(this._publicOptions,p,y)}}_checkReadonlyOptions(o){if(C.includes(o))throw new Error(`Option "${o}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new b.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new d.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const o=this._core.coreService.decPrivateModes;let l="none";switch(this._core.coreMouseService.activeProtocol){case"X10":l="x10";break;case"VT200":l="vt200";break;case"DRAG":l="drag";break;case"ANY":l="any"}return{applicationCursorKeysMode:o.applicationCursorKeys,applicationKeypadMode:o.applicationKeypad,bracketedPasteMode:o.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:l,originMode:o.origin,reverseWraparoundMode:o.reverseWraparound,sendFocusMode:o.sendFocus,wraparoundMode:o.wraparound}}get options(){return this._publicOptions}set options(o){for(const l in o)this._publicOptions[l]=o[l]}blur(){this._core.blur()}focus(){this._core.focus()}resize(o,l){this._verifyIntegers(o,l),this._core.resize(o,l)}open(o){this._core.open(o)}attachCustomKeyEventHandler(o){this._core.attachCustomKeyEventHandler(o)}registerLinkProvider(o){return this._core.registerLinkProvider(o)}registerCharacterJoiner(o){return this._checkProposedApi(),this._core.registerCharacterJoiner(o)}deregisterCharacterJoiner(o){this._checkProposedApi(),this._core.deregisterCharacterJoiner(o)}registerMarker(o=0){return this._verifyIntegers(o),this._core.registerMarker(o)}registerDecoration(o){var l,f,p;return this._checkProposedApi(),this._verifyPositiveIntegers((l=o.x)!==null&&l!==void 0?l:0,(f=o.width)!==null&&f!==void 0?f:0,(p=o.height)!==null&&p!==void 0?p:0),this._core.registerDecoration(o)}hasSelection(){return this._core.hasSelection()}select(o,l,f){this._verifyIntegers(o,l,f),this._core.select(o,l,f)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(o,l){this._verifyIntegers(o,l),this._core.selectLines(o,l)}dispose(){super.dispose()}scrollLines(o){this._verifyIntegers(o),this._core.scrollLines(o)}scrollPages(o){this._verifyIntegers(o),this._core.scrollPages(o)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(o){this._verifyIntegers(o),this._core.scrollToLine(o)}clear(){this._core.clear()}write(o,l){this._core.write(o,l)}writeln(o,l){this._core.write(o),this._core.write(`\r
`,l)}paste(o){this._core.paste(o)}refresh(o,l){this._verifyIntegers(o,l),this._core.refresh(o,l)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(o){this._addonManager.loadAddon(this,o)}static get strings(){return n}_verifyIntegers(...o){for(const l of o)if(l===1/0||isNaN(l)||l%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...o){for(const l of o)if(l&&(l===1/0||isNaN(l)||l%1!=0||l<0))throw new Error("This API only accepts positive integers")}}m.Terminal=x})(),a})())})(kg);var JS=kg.exports,Rg={exports:{}};(function(e,t){(function(s,i){e.exports=i()})(self,()=>(()=>{var s={};return(()=>{var i=s;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(r){this._terminal=r}dispose(){}fit(){const r=this.proposeDimensions();if(!r||!this._terminal||isNaN(r.cols)||isNaN(r.rows))return;const a=this._terminal._core;this._terminal.rows===r.rows&&this._terminal.cols===r.cols||(a._renderService.clear(),this._terminal.resize(r.cols,r.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const r=this._terminal._core,a=r._renderService.dimensions;if(a.css.cell.width===0||a.css.cell.height===0)return;const m=this._terminal.options.scrollback===0?0:r.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),c=parseInt(n.getPropertyValue("height")),v=Math.max(0,parseInt(n.getPropertyValue("width"))),_=window.getComputedStyle(this._terminal.element),d=c-(parseInt(_.getPropertyValue("padding-top"))+parseInt(_.getPropertyValue("padding-bottom"))),g=v-(parseInt(_.getPropertyValue("padding-right"))+parseInt(_.getPropertyValue("padding-left")))-m;return{cols:Math.max(2,Math.floor(g/a.css.cell.width)),rows:Math.max(1,Math.floor(d/a.css.cell.height))}}}})(),s})())})(Rg);var ex=Rg.exports;function tx(){var i,r,a,m;const e=(r=(i=import.meta)==null?void 0:i.env)==null?void 0:r.VITE_WS_URL;(m=(a=import.meta)==null?void 0:a.env)!=null&&m.VITE_WS_PORT;const s=`${location.protocol==="https:"?"wss":"ws"}://${location.host}/ws`;return e||s}function sx({connectionId:e}){const[t,s]=G.useState([]),[i,r]=G.useState(""),[a,m]=G.useState("disconnected"),[n,c]=G.useState(null),[v,_]=G.useState(!1),d=G.useRef(null),g=G.useRef(null),b=G.useRef(null),C=G.useRef(null),x=G.useMemo(()=>(t||[]).filter(T=>T.type==="ssh"),[t]);G.useEffect(()=>{(async()=>{const T=await xn();s(T.connections||[]);const R=(T.connections||[]).filter(q=>q.type==="ssh"),O=R.find(q=>q.id===e)||R[0];O&&r(O.id)})()},[e]),G.useEffect(()=>{const T=new WebSocket(tx());return T.onmessage=R=>{var k,O;try{const q=JSON.parse(R.data);(q==null?void 0:q.type)==="ssh"&&((k=q==null?void 0:q.data)==null?void 0:k.event)==="shellData"&&q.data.sessionId===n&&((O=g.current)==null||O.write(q.data.data))}catch{}},C.current=T,()=>{try{T.close()}catch{}}},[n]),G.useEffect(()=>{if(!d.current)return;const T=new JS.Terminal({fontFamily:"JetBrains Mono, Fira Code, Consolas, monospace",fontSize:13,convertEol:!0,cursorBlink:!0,theme:{background:"#ffffff",foreground:"#111827"}}),R=new ex.FitAddon;T.loadAddon(R),T.open(d.current),requestAnimationFrame(()=>{try{R.fit()}catch{}}),g.current=T,b.current=R;const k=()=>{requestAnimationFrame(()=>{try{R.fit()}catch{}})};return window.addEventListener("resize",k),T.onData(async O=>{if(n)try{await Pe(i,"shellInput",{sessionId:n,data:O})}catch{}}),()=>{window.removeEventListener("resize",k);try{T.dispose()}catch{}}},[]);async function u(){var T,R,k,O,q;if(i){_(!0);try{await Qi(i),m("connected");const W=((T=g.current)==null?void 0:T.cols)||80,P=((R=g.current)==null?void 0:R.rows)||24,I=await Pe(i,"shellOpen",{cols:W,rows:P}),j=(k=I==null?void 0:I.data)==null?void 0:k.sessionId;c(j),(O=g.current)==null||O.write(`\r
`)}catch(W){(q=g.current)==null||q.writeln(`\r
Error: ${W.message}`)}finally{_(!1)}}}async function o(){if(i){_(!0);try{n&&(await Pe(i,"shellClose",{sessionId:n}),c(null)),await Zi(i),m("disconnected")}finally{_(!1)}}}G.useEffect(()=>{const T=setInterval(()=>{var O,q;if(!n)return;const R=(O=g.current)==null?void 0:O.cols,k=(q=g.current)==null?void 0:q.rows;R&&k&&Pe(i,"shellResize",{sessionId:n,cols:R,rows:k}).catch(()=>{})},1500);return()=>clearInterval(T)},[n,i]);const[l,f]=G.useState("."),[p,y]=G.useState([]);async function w(){var T;if(!(!i||a!=="connected"))try{const R=await Pe(i,"sftpList",{path:l}),k=((T=R==null?void 0:R.data)==null?void 0:T.entries)||(R==null?void 0:R.entries)||[];y(k)}catch(R){console.error(R)}}async function E(T){var R;try{const k=l.endsWith("/")?`${l}${T}`:`${l}/${T}`,O=await Pe(i,"sftpGet",{path:k}),q=((R=O==null?void 0:O.data)==null?void 0:R.base64)||(O==null?void 0:O.base64);if(!q)return;const W=S(q),P=URL.createObjectURL(W),I=document.createElement("a");I.href=P,I.download=T,I.click(),URL.revokeObjectURL(P)}catch(k){console.error(k)}}function S(T){const R=atob(T),k=new Array(R.length);for(let q=0;q<R.length;q++)k[q]=R.charCodeAt(q);const O=new Uint8Array(k);return new Blob([O])}async function A(T){const R=await T.arrayBuffer();let k="";const O=new Uint8Array(R);for(let P=0;P<O.length;P++)k+=String.fromCharCode(O[P]);const q=btoa(k),W=l.endsWith("/")?`${l}${T.name}`:`${l}/${T.name}`;await Pe(i,"sftpPut",{path:W,base64:q}),await w()}return h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"flex items-end gap-3",children:[h.jsx(ix,{connections:t,selectedId:i,status:a}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"SSH Connection"}),h.jsx("select",{className:"border rounded px-3 py-2 min-w-[16rem]",value:i,onChange:T=>r(T.target.value),children:x.map(T=>{var R;return h.jsxs("option",{value:T.id,children:[T.name," (",(R=T.config)==null?void 0:R.host,")"]},T.id)})})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:u,disabled:!i||v||a==="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[v?h.jsx(ws,{size:14,className:"animate-spin"}):h.jsx(hc,{size:14})," Connect"]}),h.jsxs("button",{onClick:o,disabled:!i||v||a!=="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[h.jsx(fc,{size:14})," Disconnect"]})]})]}),h.jsx("div",{className:"border rounded h-[360px] overflow-hidden",children:h.jsx("div",{ref:d,className:"h-full","aria-label":"SSH Terminal"})}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"border rounded p-3",children:[h.jsxs("div",{className:"flex items-end gap-2 mb-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"SFTP Path"}),h.jsx("input",{className:"w-full border rounded px-2 py-1",value:l,onChange:T=>f(T.target.value)})]}),h.jsx("button",{className:"px-3 py-1.5 border rounded",disabled:a!=="connected",onClick:w,children:"List"}),h.jsxs("label",{className:"px-3 py-1.5 border rounded cursor-pointer",children:["Upload",h.jsx("input",{type:"file",className:"hidden",onChange:T=>T.target.files&&T.target.files[0]&&A(T.target.files[0])})]})]}),h.jsxs("div",{className:"max-h-48 overflow-auto text-sm",children:[p.map((T,R)=>h.jsxs("div",{className:"flex items-center justify-between border-b py-1",children:[h.jsx("span",{className:"font-mono",children:T.filename}),h.jsx("button",{className:"px-2 py-0.5 text-xs border rounded",onClick:()=>E(T.filename),children:"Download"})]},R)),p.length===0&&h.jsx("div",{className:"text-gray-500",children:"No entries"})]})]}),h.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:["Status: ",a,n?`  session ${n.slice(0,8)}`:""]})]})]})}function ix({connections:e,selectedId:t,status:s}){const i=(e||[]).find(r=>r.id===t)||null;return h.jsx("div",{className:"ml-auto",children:h.jsx(ci,{connection:i||void 0,status:s})})}function rx({connectionId:e}){const[t,s]=G.useState([]),[i,r]=G.useState(""),[a,m]=G.useState("disconnected"),[n,c]=G.useState([]),[v,_]=G.useState(""),[d,g]=G.useState([]),[b,C]=G.useState("default"),[x,u]=G.useState([]),[o,l]=G.useState(!1),[f,p]=G.useState([]),[y,w]=G.useState(null),[E,S]=G.useState(null),[A,T]=G.useState("/bin/sh"),R=G.useMemo(()=>(t||[]).filter(N=>N.type==="k8s"),[t]);G.useEffect(()=>{(async()=>{const N=await xn();s(N.connections||[]);const F=(N.connections||[]).filter(D=>D.type==="k8s"),V=F.find(D=>D.id===e)||F[0];V&&r(V.id)})()},[e]);async function k(){if(i){l(!0);try{await Qi(i),m("connected"),await q(),await P()}finally{l(!1)}}}async function O(){if(i){l(!0);try{await Zi(i),m("disconnected"),c([]),g([])}finally{l(!1)}}}async function q(){const N=await Pe(i,"contexts",{}),F=(N==null?void 0:N.data)||N,K=(F.contexts||[]).map(V=>V.name||(V==null?void 0:V.name));c(K),_(F.current||"")}async function W(N){await Pe(i,"useContext",{name:N}),await q(),await P()}async function P(){var K;const N=await Pe(i,"namespaces",{}),F=(N==null?void 0:N.data)||N;g(F.namespaces||[]),(K=F.namespaces)!=null&&K.length&&!F.namespaces.includes(b)&&C(F.namespaces[0])}async function I(){const N=await Pe(i,"pods",{namespace:b}),F=(N==null?void 0:N.data)||N;u(F.pods||[])}G.useEffect(()=>{const N=new WebSocket(location.origin.replace("http","ws"));return N.onmessage=F=>{var K;try{const V=JSON.parse(F.data);(V==null?void 0:V.type)==="k8s"&&((K=V==null?void 0:V.data)==null?void 0:K.event)==="logLine"&&V.data.connectionId===i&&(!y||V.data.id===y)&&p(D=>[...D,V.data.line].slice(-1e3))}catch{}},()=>{try{N.close()}catch{}}},[i,y]);async function j(N,F){var D;const K=await Pe(i,"logsStart",{namespace:b,pod:N,container:F,tailLines:200}),V=((D=K==null?void 0:K.data)==null?void 0:D.id)||(K==null?void 0:K.id);w(V),p([])}async function L(){y&&(await Pe(i,"logsStop",{id:y}),w(null))}async function B(N,F){var z;const K=A.trim().split(/\s+/),V=await Pe(i,"execOpen",{namespace:b,pod:N,container:F,command:K,tty:!0}),D=((z=V==null?void 0:V.data)==null?void 0:z.id)||(V==null?void 0:V.id);S(D)}async function M(N){E&&await Pe(i,"execInput",{id:E,data:N})}async function Y(){E&&(await Pe(i,"execClose",{id:E}),S(null))}return h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"flex items-end gap-3",children:[h.jsx(nx,{connections:t,selectedId:i,status:a}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Kubernetes Connection"}),h.jsx("select",{className:"border rounded px-3 py-2 min-w-[16rem]",value:i,onChange:N=>r(N.target.value),children:R.map(N=>{var F,K,V;return h.jsxs("option",{value:N.id,children:[N.name," (",((F=N.config)==null?void 0:F.context)||((K=N.config)==null?void 0:K.kubeconfigPath)||((V=N.config)==null?void 0:V.kubeconfigSource),")"]},N.id)})})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:k,disabled:!i||o||a==="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[o?h.jsx(ws,{size:14,className:"animate-spin"}):h.jsx(hc,{size:14})," Connect"]}),h.jsxs("button",{onClick:O,disabled:!i||o||a!=="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[h.jsx(fc,{size:14})," Disconnect"]}),h.jsxs("button",{onClick:q,disabled:a!=="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[h.jsx(ws,{size:14})," Contexts"]}),h.jsxs("button",{onClick:P,disabled:a!=="connected",className:"inline-flex items-center gap-1 px-3 py-2 border rounded hover:bg-gray-50",children:[h.jsx(ws,{size:14})," Namespaces"]})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"border rounded p-3",children:[h.jsxs("div",{className:"font-medium mb-2",children:["Contexts ",v?h.jsxs("span",{className:"text-xs text-gray-500",children:["(current: ",v,")"]}):null]}),h.jsxs("div",{className:"space-y-1",children:[n.map(N=>h.jsxs("div",{className:"flex items-center justify-between py-1 border-b last:border-b-0",children:[h.jsx("div",{className:"font-mono text-sm",children:N}),h.jsx("button",{className:"px-2 py-1 text-xs border rounded",disabled:N===v,onClick:()=>W(N),children:"Use"})]},N)),n.length===0&&h.jsx("div",{className:"text-sm text-gray-500",children:"No contexts"})]})]}),h.jsxs("div",{className:"border rounded p-3",children:[h.jsx("div",{className:"font-medium mb-2",children:"Namespaces"}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("select",{className:"border rounded px-2 py-1",value:b,onChange:N=>C(N.target.value),children:d.map(N=>h.jsx("option",{value:N,children:N},N))}),h.jsx("button",{className:"px-2 py-1 border rounded",onClick:I,children:"Load Pods"})]}),d.length===0&&h.jsx("div",{className:"text-sm text-gray-500",children:"No namespaces"})]})]}),h.jsxs("div",{className:"border rounded p-3",children:[h.jsxs("div",{className:"font-medium mb-2",children:["Pods in ",b]}),h.jsxs("div",{className:"max-h-56 overflow-auto text-sm",children:[x.map(N=>h.jsxs("div",{className:"border-b py-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-mono",children:N.name}),h.jsx("span",{className:"text-xs text-gray-600",children:N.phase})]}),h.jsxs("div",{className:"flex gap-2 mt-1",children:[h.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>j(N.name),children:"Logs"}),h.jsx("input",{className:"px-2 py-1 border rounded text-xs flex-1",value:A,onChange:F=>T(F.target.value)}),h.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>B(N.name),children:"Exec"})]})]},N.name)),x.length===0&&h.jsx("div",{className:"text-gray-500",children:"No pods"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"border rounded p-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"font-medium",children:["Logs ",y?h.jsxs("span",{className:"text-xs text-gray-500",children:["(stream ",y.slice(0,6),")"]}):null]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:"px-2 py-1 border rounded text-xs",disabled:!y,onClick:L,children:"Stop"}),h.jsx("button",{className:"px-2 py-1 border rounded text-xs",onClick:()=>p([]),children:"Clear"})]})]}),h.jsx("pre",{className:"bg-black text-green-400 text-xs p-2 rounded max-h-64 overflow-auto",children:f.join("")})]}),h.jsxs("div",{className:"border rounded p-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"font-medium",children:["Exec ",E?h.jsxs("span",{className:"text-xs text-gray-500",children:["(session ",E.slice(0,6),")"]}):null]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("button",{className:"px-2 py-1 border rounded text-xs",disabled:!E,onClick:Y,children:"Close"})})]}),h.jsx("textarea",{className:"w-full h-24 border rounded p-2 font-mono text-xs",placeholder:"Type and Ctrl+Enter to send",onKeyDown:N=>{(N.ctrlKey||N.metaKey)&&N.key==="Enter"&&(M(N.currentTarget.value+`
`),N.currentTarget.value="")}}),h.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Use Ctrl+Enter to send input to the container."})]})]})]})}function nx({connections:e,selectedId:t,status:s}){const i=(e||[]).find(r=>r.id===t)||null;return h.jsx("div",{className:"ml-auto",children:h.jsx(ci,{connection:i||void 0,status:s})})}function Lg({open:e,title:t,onClose:s,children:i,footer:r}){return e?h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:s}),h.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg max-w-[600px] w-[90%] p-6",children:[t?h.jsx("h3",{className:"text-[24px] leading-8 font-bold text-swarco-grey-900 mb-4",children:t}):null,h.jsx("div",{children:i}),r?h.jsx("div",{className:"mt-6 flex items-center justify-end gap-2",children:r}):null]})]}):null}function ax({openTab:e}){const[t,s]=G.useState([]),[i,r]=G.useState(!1),[a,m]=G.useState(!1),[n,c]=G.useState(()=>{try{return localStorage.getItem("unicon_auto_open_last_ws_v1")==="1"}catch{return!1}}),[v,_]=G.useState(new Set),[d,g]=G.useState(()=>{try{return JSON.parse(localStorage.getItem("unicon_conn_expanded_v1")||"{}")}catch{return{}}}),[b,C]=G.useState({}),[x,u]=G.useState(null),[o,l]=G.useState(new Set),f=we.useRef(new Map),p=we.useRef(new Set),[y,w]=G.useState(null),[E,S]=G.useState(!1),[A,T]=G.useState(null),R={REST_DNS:{title:"Hostname not found",tips:["Check the Base URL host name (typos, missing domain).","Try pinging the host from your machine.","If using a container, ensure DNS is configured."]},REST_UNREACHABLE:{title:"API not reachable",tips:["Verify server is running and reachable from your network.","Check firewalls/VPN and the port number.","If HTTPS is required, ensure the URL starts with https://."]},REST_CONNECT_ERROR:{title:"REST connection failed",tips:["Confirm the Base URL and any proxy settings.","Inspect the browser Network tab for CORS errors."]},SSH_AUTH:{title:"SSH authentication failed",tips:["Verify username/password or private key and passphrase.","Ensure the user is allowed to log in on the host.","If using a key, check file format (PEM) and permissions."]},SSH_NETWORK:{title:"SSH network error",tips:["Check host/port and that the SSH service is listening.","Firewall rules may block port 22 (or your custom port)."]},SSH_CONNECT_ERROR:{title:"SSH connect error",tips:["Test with a local ssh client to validate credentials.","Review server-side sshd logs for details."]},WS_REFUSED:{title:"WebSocket connection refused",tips:["Ensure the WS server is running and the URL is correct.","Match ws:// vs wss:// with your server configuration."]},WS_CONNECT_ERROR:{title:"WebSocket connect error",tips:["Open the WS URL in your browser devtools to verify handshakes.","Check reverse proxies and upgrade headers."]},SQL_AUTH:{title:"Database authentication failed",tips:["Verify DB user and password, and that the user has rights.","For cloud DBs, ensure your IP is allowlisted."]},SQL_NETWORK:{title:"Database network error",tips:["Verify host/port and connectivity to the DB server.","Check SSL/TLS settings if the DB requires TLS."]},SQL_CONNECT_ERROR:{title:"Database connect error",tips:["Validate the DSN/connection string format for your driver."]},OPCUA_SECURITY:{title:"OPC UA certificate/security error",tips:["Trust the client certificate on the server and vice versa.","Align security policy and mode with the server settings."]},OPCUA_CONNECT_ERROR:{title:"OPC UA connect error",tips:["Confirm endpoint URL is reachable and the server is running.","Try security mode/policy None for initial testing."]},GRPC_UNAVAILABLE:{title:"gRPC UNAVAILABLE",tips:["Check server address and that the service is listening.","If behind a proxy, ensure HTTP/2 is supported."]},GRPC_CONNECT_ERROR:{title:"gRPC connect error",tips:["Verify proto/service definitions and server endpoint."]},DISCONNECT_ERROR:{title:"Disconnect error",tips:["Session may have already closed; refresh state and retry."]},CONNECT_ERROR:{title:"Connection error",tips:["Check address/credentials and try again.","Use the Retry button; see logs for more detail."]}},k=U=>R[U]||null,O=(U,Q)=>C(se=>{const te=(se[U]||[]).slice(-49),ce={ts:new Date().toISOString(),level:Q.level||"info",message:Q.message,code:Q.code||null,hint:Q.hint||null};te.push(ce);try{localStorage.setItem(`unicon_conn_logs_v1_${U}`,JSON.stringify(te))}catch{}return{...se,[U]:te}});function q(U){const Q=U==="connected"?"bg-green-500":U==="connecting"?"bg-amber-500":U==="error"?"bg-red-500":"bg-gray-300";return h.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full mr-2 ${Q}`})}async function W(){r(!0);try{const Q=(await xn()).connections||[];s(Q),C(se=>{const te={...se};for(const ce of Q)if(!te[ce.id])try{const le=localStorage.getItem(`unicon_conn_logs_v1_${ce.id}`);le&&(te[ce.id]=JSON.parse(le))}catch{}return te})}finally{r(!1)}}G.useEffect(()=>{W()},[]),G.useEffect(()=>{var U;if(n&&!(!t||t.length===0)){try{if(sessionStorage.getItem("unicon_auto_open_done_v1")==="1")return}catch{}if(typeof e=="function"){const Q=t[0];if(Q){try{const le=new Event("unicon-auto-open")}catch{}const se=(()=>{try{return localStorage.getItem(`unicon_last_ws_for_${Q.id}`)}catch{return null}})(),te=z(Q),ce=se&&te.find(le=>le.kind===se)?se:(U=te[0])==null?void 0:U.kind;ce&&J(Q,ce);try{sessionStorage.setItem("unicon_auto_open_done_v1","1")}catch{}}}}},[n,t]),G.useEffect(()=>{const U=Q=>{var te,ce;const se=Q.detail;if((se==null?void 0:se.type)==="connection_status"&&((te=se==null?void 0:se.data)!=null&&te.connectionId)){const{connectionId:le,status:oe}=se.data;s(pe=>pe.map(ke=>ke.id===le?{...ke,status:oe}:ke)),_(pe=>{const ke=new Set([...pe]);return ke.delete(le),ke}),O(le,{level:"info",message:`Status changed to ${oe}`})}else if((se==null?void 0:se.type)==="log"&&((ce=se==null?void 0:se.data)!=null&&ce.message)){const{connectionId:le,message:oe,type:pe,code:ke,hint:ie}=se.data||{};if(le){const gt=pe==="error"?"error":pe==="warn"?"warn":"info";O(le,{level:gt,message:oe,code:ke,hint:ie}),gt==="error"&&(l(He=>new Set([...He,le])),g(He=>({...He,[le]:!0})))}}};return window.addEventListener("unicon-ws",U),()=>window.removeEventListener("unicon-ws",U)},[]);async function P(U){await Eg(U),await W()}async function I(U){if(U.status==="connected")try{await Zi(U.id),O(U.id,{level:"info",message:"Disconnect requested"})}catch(Q){O(U.id,{level:"error",message:Q.message||"Disconnect failed"}),l(se=>new Set([...se,U.id])),g(se=>({...se,[U.id]:!0}))}finally{await W()}else{p.current.delete(U.id),_(Q=>new Set([...Q,U.id])),O(U.id,{level:"info",message:"Connect requested"});try{await Qi(U.id),l(Q=>{const se=new Set([...Q]);return se.delete(U.id),se})}catch(Q){O(U.id,{level:"error",message:Q.message||"Connect failed"}),s(se=>se.map(te=>te.id===U.id?{...te,status:"disconnected"}:te)),l(se=>new Set([...se,U.id])),g(se=>({...se,[U.id]:!0})),F(U.id)}finally{_(Q=>{const se=new Set([...Q]);return se.delete(U.id),se}),await W()}}}const j=U=>g(Q=>{const se={...Q,[U]:!Q[U]};try{localStorage.setItem("unicon_conn_expanded_v1",JSON.stringify(se))}catch{}return se}),L=U=>{const Q=(b[U]||[]).slice().reverse().find(se=>se.level==="error")||(b[U]||[]).slice(-1)[0]||null;w(Q?{id:U,log:Q}:{id:U,log:null})},B=async()=>{if(y)try{await navigator.clipboard.writeText(JSON.stringify(y,null,2))}catch{}},M=U=>{const Q=b[U]||[],se=new Blob([JSON.stringify(Q,null,2)],{type:"application/json"}),te=URL.createObjectURL(se),ce=document.createElement("a");ce.href=te,ce.download=`connection-${U}-logs.json`,ce.click(),URL.revokeObjectURL(te)},Y=U=>t.find(Q=>Q.id===U),N=async U=>{const Q=Y(U);if(!Q)return;S(!0);const se=async()=>{if(Q.status==="connected")return!1;O(U,{level:"info",message:"Quick test: connecting"});try{return await Qi(U),!0}catch(le){return O(U,{level:"error",message:`Quick test connect failed: ${le.message}`}),!1}},te=async le=>{if(le)try{await Zi(U)}catch{}};let ce=!1;try{let le=null,oe={};const pe=(Q.type||"").toLowerCase();if(pe==="rest"?(le="request",oe={method:"GET",endpoint:"/"}):pe==="ws"||pe==="websocket"?(le="send",oe={message:"ping"}):pe==="ssh"?(le="exec",oe={command:"echo quick-test",cwd:void 0}):pe==="sql"?(le="query",oe={sql:"SELECT 1 AS ok",params:[]}):pe==="k8s"?(le="contexts",oe={}):pe==="opcua"||pe==="opc-ua"?(le="browse",oe={nodeId:"RootFolder"}):pe==="cpd"&&(le="ping",oe={message:"quick-test"}),!le){O(U,{level:"warn",message:"Quick test not available for this type."});return}ce=await se();const ke=await Pe(U,le,oe),ie=(ke==null?void 0:ke.success)!==!1;O(U,{level:ie?"info":"error",message:ie?`Quick test '${le}' OK`:`Quick test failed: ${(ke==null?void 0:ke.error)||"error"}`}),ie||g(gt=>({...gt,[U]:!0}))}catch(le){O(U,{level:"error",message:`Quick test error: ${le.message}`}),g(oe=>({...oe,[U]:!0}))}finally{try{await te(ce)}catch{}S(!1)}};function F(U){if(p.current.has(U))return;const Q=f.current.get(U)||{attempt:0},se=Q.attempt+1;if(se>3)return;const te=Math.min(1e3*Math.pow(2,Q.attempt),8e3);O(U,{level:"info",message:`Retrying in ${Math.round(te/1e3)}s (attempt ${se}/3)...`});const ce=setTimeout(async()=>{f.current.delete(U);const le=t.find(oe=>oe.id===U)||{id:U,status:"disconnected"};await I(le)},te);f.current.set(U,{attempt:se,timerId:ce})}const K=U=>{const Q=f.current.get(U);if(Q!=null&&Q.timerId)try{clearTimeout(Q.timerId)}catch{}f.current.delete(U),p.current.add(U),_(se=>{const te=new Set([...se]);return te.delete(U),te}),s(se=>se.map(te=>te.id===U?{...te,status:"disconnected"}:te)),O(U,{level:"info",message:"Auto-retry canceled by user"})};we.useEffect(()=>()=>{for(const{timerId:U}of f.current.values())try{clearTimeout(U)}catch{}f.current.clear()},[]);const V={rest:"rest",ws:"ws",grpc:"grpc",cpd:"cpd",sql:"sql","opc-ua":"opcua",opcua:"opcua",ssh:"ssh",k8s:"k8s"},D={rest:"REST",ws:"WebSocket",grpc:"gRPC",cpd:"CPD",sql:"SQL",opcua:"OPC UA","opc-ua":"OPC UA",ssh:"SSH",k8s:"Kubernetes"},z=U=>{const Q=V[U.type]||"rest",se=(le,oe)=>{le.find(pe=>pe.kind===oe)||le.push({kind:oe,label:D[oe]||oe.toUpperCase()})},te=[];se(te,Q);const ce=(U==null?void 0:U.config)||{};return ce.baseUrl&&se(te,"rest"),(ce.wsUrl||/^wss?:/i.test(String(ce.baseUrl||"")))&&se(te,"ws"),(ce.proto||ce.package||ce.service)&&ce.address&&se(te,"grpc"),ce.driver&&se(te,"sql"),te},$=(U,Q)=>{try{localStorage.setItem(`unicon_last_ws_for_${U}`,Q)}catch{}},H=U=>{try{return localStorage.getItem(`unicon_last_ws_for_${U}`)||null}catch{return null}},J=(U,Q)=>{$(U.id,Q),Object.values(D).includes(Q)?Q.toUpperCase():D[Q]||Q.toUpperCase(),e&&e(Q,{connectionId:U.id,connection:U,title:`${D[Q]||Q.toUpperCase()}  ${U.name}`})},Z=U=>{const Q=z(U),se=H(U.id),te=se&&Q.find(ce=>ce.kind===se)?{kind:se}:Q[0];J(U,te.kind)},ne=U=>`Open in ${z(U)[0].label}`;return h.jsxs("div",{className:"bg-white",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Connections"}),h.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[h.jsx("input",{type:"checkbox",checked:n,onChange:U=>{c(U.target.checked);try{localStorage.setItem("unicon_auto_open_last_ws_v1",U.target.checked?"1":"0")}catch{}}}),"Auto-open first in last workspace"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50",onClick:()=>m(!0),children:[h.jsx(Af,{size:16})," New"]}),h.jsx("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50",title:"Clear all logs",onClick:()=>{if(confirm("Clear all saved connection logs? This will remove local copies.")){C({});try{Object.keys(localStorage).filter(U=>U.startsWith("unicon_conn_logs_v1_")).forEach(U=>localStorage.removeItem(U))}catch{}l(new Set)}},children:"Clear all logs"})]})]}),h.jsx("div",{className:"border border-gray-200 rounded-md overflow-hidden",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left p-2",children:"Name"}),h.jsx("th",{className:"text-left p-2",children:"Type"}),h.jsx("th",{className:"text-left p-2",children:"Status"}),h.jsx("th",{className:"p-2 text-right",children:h.jsx("button",{className:"inline-flex items-center gap-1 text-gray-600 hover:text-gray-900",onClick:W,title:"Refresh",children:h.jsx(ws,{size:14})})})]})}),h.jsxs("tbody",{children:[t.map(U=>{var ce,le;const Q=v.has(U.id),se=((le=(ce=b[U.id])==null?void 0:ce.slice(-1)[0])==null?void 0:le.level)==="error",te=Q?"connecting":se?"error":U.status||"disconnected";return h.jsxs(we.Fragment,{children:[h.jsxs("tr",{className:"border-t align-top",children:[h.jsxs("td",{className:"p-2",children:[h.jsx("button",{className:"inline-flex items-center gap-1 text-gray-600 hover:text-gray-900 mr-2",onClick:()=>j(U.id),title:d[U.id]?"Hide logs":"Show logs",children:d[U.id]?h.jsx(Yg,{size:14}):h.jsx($g,{size:14})}),(Q||f.current.has(U.id))&&h.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",title:"Stop auto-retry",onClick:()=>K(U.id),children:[h.jsx(ra,{size:14})," Stop"]}),h.jsx("button",{className:"hover:underline",title:"Edit connection",onClick:()=>{T(U),m(!0)},children:U.name})]}),h.jsx("td",{className:"p-2 uppercase text-xs text-gray-600",children:U.type}),h.jsx("td",{className:"p-2",children:h.jsxs("div",{className:"inline-flex items-center",children:[q(te),h.jsx("span",{className:"capitalize mr-2",children:te}),Q&&h.jsx(Tg,{size:14})]})}),h.jsxs("td",{className:"p-2 text-right whitespace-nowrap relative",children:[h.jsxs("span",{className:"inline-flex items-center mr-2",children:[h.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded-l hover:bg-gray-50",onClick:()=>Z(U),children:ne(U)}),h.jsx("button",{className:"px-2 py-1 border border-l-0 rounded-r hover:bg-gray-50","aria-haspopup":"menu","aria-expanded":x===U.id,onClick:()=>u(x===U.id?null:U.id),children:""})]}),x===U.id&&h.jsx("div",{className:"absolute right-2 mt-1 w-44 bg-white border rounded shadow z-10",children:z(U).map(oe=>h.jsxs("button",{className:"w-full text-left px-3 py-1.5 text-sm hover:bg-gray-50",onClick:()=>{J(U,oe.kind),u(null)},children:["Open in ",oe.label]},oe.kind))}),h.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",title:"Edit",onClick:()=>{T(U),m(!0)},children:h.jsx(Vg,{size:14})}),h.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",onClick:()=>I(U),disabled:Q,children:te==="connected"?h.jsxs(h.Fragment,{children:[h.jsx(Xg,{size:14})," Disconnect"]}):h.jsxs(h.Fragment,{children:[h.jsx(Qg,{size:14})," ",Q?"Connecting":"Connect"]})}),te==="error"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",onClick:()=>{p.current.delete(U.id),F(U.id)},children:"Retry"}),f.current.has(U.id)&&h.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",onClick:()=>K(U.id),children:[h.jsx(ra,{size:14})," Stop"]}),h.jsx("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded mr-2 hover:bg-gray-50",onClick:()=>L(U.id),children:"Details"})]}),h.jsxs("button",{className:"inline-flex items-center gap-1 px-2 py-1 border rounded text-red-600 hover:bg-red-50",onClick:()=>P(U.id),disabled:Q,children:[h.jsx(na,{size:14})," Delete"]})]})]}),d[U.id]&&h.jsx("tr",{className:"bg-gray-50",children:h.jsxs("td",{colSpan:4,className:"p-2",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("div",{className:"text-xs text-gray-600",children:"Logs"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:"px-2 py-0.5 border rounded text-xs",onClick:()=>M(U.id),children:"Export"}),h.jsx("button",{className:"px-2 py-0.5 border rounded text-xs",onClick:()=>{C(oe=>{const pe={...oe,[U.id]:[]};try{localStorage.removeItem(`unicon_conn_logs_v1_${U.id}`)}catch{}return pe})},children:"Clear"})]})]}),h.jsxs("div",{className:"max-h-40 overflow-auto text-xs font-mono leading-5",children:[(b[U.id]||[]).slice().reverse().map((oe,pe)=>h.jsxs("div",{className:oe.level==="error"?"text-red-700":oe.level==="warn"?"text-amber-700":"text-gray-800",children:[h.jsx("span",{className:"opacity-60 mr-2",children:new Date(oe.ts).toLocaleTimeString()}),oe.message,oe.code||oe.hint?h.jsxs("span",{className:"opacity-80",children:[" ",oe.code?`[${oe.code}]`:"",oe.hint?`  ${oe.hint}`:""]}):null]},pe)),(!b[U.id]||b[U.id].length===0)&&h.jsx("div",{className:"text-gray-500",children:"No logs yet."})]})]})})]},U.id)}),t.length===0&&h.jsx("tr",{children:h.jsx("td",{className:"p-4 text-center text-gray-500",colSpan:4,children:i?"Loading...":"No connections"})})]})]})}),a&&h.jsx(lx,{initial:A,onClose:()=>{m(!1),T(null)},onSave:async(U,Q)=>{Q?await Ag(Q,U):await wg(U),m(!1),T(null),await W()}}),h.jsx(Lg,{open:!!y,title:"Connection details",onClose:()=>w(null),footer:h.jsxs(h.Fragment,{children:[y?h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:()=>{const U=Y(y.id);U&&(T(U),m(!0))},children:"Edit"}),h.jsx("button",{className:"px-3 py-1.5 border rounded",disabled:E,onClick:()=>N(y.id),children:E?"Testing":"Quick test"}),h.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:B,children:"Copy"}),h.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:()=>M(y.id),children:"Export logs"})]}):null,h.jsx("button",{className:"px-3 py-1.5 border rounded bg-blue-600 text-white",onClick:()=>w(null),children:"Close"})]}),children:y!=null&&y.log?h.jsxs("div",{className:"text-sm",children:[h.jsxs("div",{className:"mb-2",children:[h.jsx("span",{className:"font-semibold",children:"Time:"})," ",new Date(y.log.ts).toLocaleString()]}),h.jsxs("div",{className:"mb-2",children:[h.jsx("span",{className:"font-semibold",children:"Level:"})," ",y.log.level]}),y.log.code?h.jsxs("div",{className:"mb-2",children:[h.jsx("span",{className:"font-semibold",children:"Code:"})," ",y.log.code]}):null,y.log.hint?h.jsxs("div",{className:"mb-2",children:[h.jsx("span",{className:"font-semibold",children:"Hint:"})," ",y.log.hint]}):null,h.jsxs("div",{className:"mb-4",children:[h.jsx("span",{className:"font-semibold",children:"Message:"})," ",y.log.message]}),y.log.code&&k(y.log.code)?h.jsxs("div",{className:"mt-4 border-t pt-3",children:[h.jsxs("div",{className:"font-semibold mb-1",children:["Troubleshooting: ",k(y.log.code).title]}),h.jsx("ul",{className:"list-disc ml-5 space-y-1",children:k(y.log.code).tips.map((U,Q)=>h.jsx("li",{children:U},Q))})]}):null]}):h.jsx("div",{className:"text-sm text-gray-600",children:"No error details available."})})]})}function lx({initial:e=null,onClose:t,onSave:s}){var U,Q,se,te,ce,le,oe,pe,ke;const[i,r]=G.useState((e==null?void 0:e.name)||"My REST"),[a,m]=G.useState((e==null?void 0:e.type)||"rest"),[n,c]=G.useState(((U=e==null?void 0:e.config)==null?void 0:U.baseUrl)||"https://jsonplaceholder.typicode.com"),[v,_]=G.useState(""),[d,g]=G.useState(22),[b,C]=G.useState("root"),[x,u]=G.useState("password"),[o,l]=G.useState(""),[f,p]=G.useState(""),[y,w]=G.useState(""),[E,S]=G.useState(((Q=e==null?void 0:e.config)==null?void 0:Q.endpointUrl)||""),[A,T]=G.useState(((se=e==null?void 0:e.config)==null?void 0:se.securityPolicy)||"None"),[R,k]=G.useState(((te=e==null?void 0:e.config)==null?void 0:te.securityMode)||"None"),[O,q]=G.useState(((ce=e==null?void 0:e.config)==null?void 0:ce.username)||""),[W,P]=G.useState(""),[I,j]=G.useState(((le=e==null?void 0:e.config)==null?void 0:le.driver)||"sqlite"),[L,B]=G.useState(((oe=e==null?void 0:e.config)==null?void 0:oe.filename)||":memory:"),[M,Y]=G.useState(((pe=e==null?void 0:e.config)==null?void 0:pe.url)||((ke=e==null?void 0:e.config)==null?void 0:ke.connectionString)||""),[N,F]=G.useState("default"),[K,V]=G.useState(""),[D,z]=G.useState(""),[$,H]=G.useState(""),[J,Z]=G.useState("default"),ne=()=>{if(!i.trim())return;let ie={};const gt=He=>typeof He=="string"?He.trim():He;if(a==="rest")ie={baseUrl:n};else if(a==="sql")I==="sqlite"&&(ie={driver:"sqlite",filename:L}),I==="pg"&&(ie={driver:"pg",url:M}),I==="mysql"&&(ie={driver:"mysql",url:M});else if(a==="opc-ua"||a==="opcua"){const At=gt(E||"").match(/^opc\.tcp:\/\/([^:\/]+):(\d{1,5})(\/.*)?$/i);if(!At){alert("Invalid OPC UA endpoint. Use opc.tcp://host:port (e.g., opc.tcp://localhost:4840)");return}const ar=At[3]||"";if((O||W)&&(R==="None"||A==="None")){alert("Username/password requires Security Mode Sign or SignAndEncrypt with a non-None Security Policy.");return}ie={endpointUrl:`opc.tcp://${At[1]}:${At[2]}${ar}`,securityPolicy:A,securityMode:R,...O?{username:O}:{},...W?{password:W}:{}}}else a==="ssh"?ie={host:v,port:Number(d),username:b,...x==="password"?{password:o}:{privateKey:f,passphrase:y}}:a==="k8s"&&(ie={kubeconfigSource:N,kubeconfig:N==="inline"?D:void 0,kubeconfigPath:N==="path"?K:void 0,context:$,namespace:J});s({name:i.trim(),type:a,config:ie},e==null?void 0:e.id)};return h.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-md shadow-lg w-full max-w-md",children:[h.jsx("div",{className:"p-4 border-b font-semibold",children:e?"Edit Connection":"New Connection"}),h.jsxs("div",{className:"p-4 space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Name"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:i,onChange:ie=>r(ie.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Type"}),h.jsxs("select",{className:"w-full border rounded px-3 py-2",value:a,onChange:ie=>m(ie.target.value),children:[h.jsx("option",{value:"rest",children:"REST"}),h.jsx("option",{value:"opc-ua",children:"OPC UA"}),h.jsx("option",{value:"ws",children:"WebSocket"}),h.jsx("option",{value:"grpc",children:"gRPC"}),h.jsx("option",{value:"cpd",children:"CPD"}),h.jsx("option",{value:"sql",children:"SQL"})]})]}),a==="rest"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Base URL"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:n,onChange:ie=>c(ie.target.value),placeholder:"https://api.example.com"})]}),a==="sql"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Driver"}),h.jsxs("select",{className:"w-full border rounded px-3 py-2",value:I,onChange:ie=>j(ie.target.value),children:[h.jsx("option",{value:"sqlite",children:"SQLite"}),h.jsx("option",{value:"pg",children:"PostgreSQL / TimescaleDB"}),h.jsx("option",{value:"mysql",children:"MySQL / MariaDB"})]})]}),I==="sqlite"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"SQLite filename"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:L,onChange:ie=>B(ie.target.value),placeholder:":memory:"})]}),I!=="sqlite"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Connection string (URL)"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:M,onChange:ie=>Y(ie.target.value),placeholder:I==="pg"?"postgres://user:pass@host:5432/db":"mysql://user:pass@host:3306/db"}),h.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"TimescaleDB uses the PostgreSQL URL format."})]})]}),(a==="opc-ua"||a==="opcua")&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Endpoint URL"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:E,onChange:ie=>S(ie.target.value),placeholder:"opc.tcp://host:4840 or opc.tcp://host:4840/Path"}),h.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Format: opc.tcp://host:port[/path], e.g., opc.tcp://localhost:4840 or opc.tcp://server:4840/OPCUA/Sim"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Security Policy"}),h.jsxs("select",{className:"w-full border rounded px-3 py-2",value:A,onChange:ie=>T(ie.target.value),children:[h.jsx("option",{children:"None"}),h.jsx("option",{children:"Basic128Rsa15"}),h.jsx("option",{children:"Basic256"}),h.jsx("option",{children:"Basic256Sha256"}),h.jsx("option",{children:"Aes128_Sha256_RsaOaep"}),h.jsx("option",{children:"Aes256_Sha256_RsaPss"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Security Mode"}),h.jsxs("select",{className:"w-full border rounded px-3 py-2",value:R,onChange:ie=>k(ie.target.value),children:[h.jsx("option",{children:"None"}),h.jsx("option",{children:"Sign"}),h.jsx("option",{children:"SignAndEncrypt"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Username (optional)"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:O,onChange:ie=>q(ie.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Password (optional)"}),h.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:W,onChange:ie=>P(ie.target.value)})]})]})]}),a==="ssh"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Host"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:v,onChange:ie=>_(ie.target.value),placeholder:"server.example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Port"}),h.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",value:d,onChange:ie=>g(ie.target.value)})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Username"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:b,onChange:ie=>C(ie.target.value),placeholder:"root"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Auth Type"}),h.jsxs("select",{className:"w-full border rounded px-3 py-2",value:x,onChange:ie=>u(ie.target.value),children:[h.jsx("option",{value:"password",children:"Password"}),h.jsx("option",{value:"privateKey",children:"Private Key"})]})]})]}),x==="password"?h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Password"}),h.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:o,onChange:ie=>l(ie.target.value)})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Private Key (PEM)"}),h.jsx("textarea",{className:"w-full border rounded px-3 py-2 font-mono text-xs",rows:5,value:f,onChange:ie=>p(ie.target.value),placeholder:"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Passphrase (optional)"}),h.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",value:y,onChange:ie=>w(ie.target.value)})]})]})]}),a==="k8s"&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Kubeconfig Source"}),h.jsxs("select",{className:"w-full border rounded px-3 py-2",value:N,onChange:ie=>F(ie.target.value),children:[h.jsx("option",{value:"default",children:"Default"}),h.jsx("option",{value:"path",children:"Path"}),h.jsx("option",{value:"inline",children:"Inline"})]})]}),N==="path"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Kubeconfig Path"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:K,onChange:ie=>V(ie.target.value),placeholder:"C:/Users/me/.kube/config"})]}),N==="inline"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Kubeconfig (YAML)"}),h.jsx("textarea",{className:"w-full border rounded px-3 py-2 font-mono text-xs",rows:6,value:D,onChange:ie=>z(ie.target.value)})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Context (optional)"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:$,onChange:ie=>H(ie.target.value),placeholder:"my-context"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Default Namespace"}),h.jsx("input",{className:"w-full border rounded px-3 py-2",value:J,onChange:ie=>Z(ie.target.value),placeholder:"default"})]})]})]})]}),h.jsxs("div",{className:"p-4 border-t flex justify-end gap-2",children:[h.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:t,children:"Cancel"}),h.jsx("button",{className:"px-3 py-1.5 border rounded bg-blue-600 text-white",onClick:ne,children:"Create"})]})]})})}const ox="modulepreload",cx=function(e){return"/unicon/"+e},Ef={},ux=function(t,s,i){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),n=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=cx(c),c in Ef)return;Ef[c]=!0;const v=c.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${_}`))return;const d=document.createElement("link");if(d.rel=v?"stylesheet":ox,v||(d.as="script"),d.crossOrigin="",d.href=c,n&&d.setAttribute("nonce",n),document.head.appendChild(d),v)return new Promise((g,b)=>{d.addEventListener("load",g),d.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(m){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=m,window.dispatchEvent(n),!n.defaultPrevented)throw m}return r.then(m=>{for(const n of m||[])n.status==="rejected"&&a(n.reason);return t().catch(a)})};function hx({onLoggedIn:e}){const[t,s]=G.useState({open:!1,provider:null,loading:!1,error:""}),[i,r]=G.useState({open:!1,kind:null,data:null,loading:!1,error:""});async function a(u){s({open:!0,provider:u,loading:!1,error:""})}async function m(){s(u=>({...u,loading:!0,error:""}));try{const u=await fetch(`/unicon/api/oauth/${t.provider}/init`),o=await u.json();if(!u.ok||!(o!=null&&o.continue_url))throw new Error((o==null?void 0:o.error)||"Init failed");location.href=o.continue_url}catch(u){s(o=>({...o,loading:!1,error:u.message||"Init failed"}))}}const[n,c]=G.useState(""),[v,_]=G.useState(""),[d,g]=G.useState(!1),[b,C]=G.useState("");G.useEffect(()=>{i.open&&i.kind==="server"&&!i.loading&&!i.data&&!i.error&&(r(u=>({...u,loading:!0})),fetch("/unicon/api/health").then(u=>u.json().catch(()=>({})).then(o=>({ok:u.ok,d:o}))).then(({ok:u,d:o})=>{if(!u)throw new Error((o==null?void 0:o.error)||"Failed to load server details");r(l=>({...l,data:o,loading:!1}))}).catch(u=>r(o=>({...o,error:u.message||"Failed to load server details",loading:!1}))))},[i.open,i.kind]);async function x(u){u.preventDefault(),g(!0),C("");try{const o=await ts("/auth/login",{email:n,password:v});Cg(o.token,o.roles||[]),e==null||e()}catch(o){C(o.message||"Login failed")}finally{g(!1)}}return h.jsxs("div",{className:"min-h-screen flex",children:[h.jsxs("div",{className:"w-full md:w-1/2 flex flex-col",children:[h.jsx("div",{className:"px-16 pt-12",children:h.jsx("img",{src:"/unicon/brand/swarco.svg",alt:"SWARCO",className:"h-12"})}),h.jsx("div",{className:"flex-1 flex items-center",children:h.jsx("div",{className:"w-full px-16",children:h.jsxs("div",{className:"max-w-md",children:[h.jsx("h1",{className:"text-[32px] leading-[40px] font-bold mb-6",children:"Welcome"}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-800 text-sm rounded p-3",children:["Demo credentials: ",h.jsx("span",{className:"font-semibold",children:"demo@unicon.local"})," / ",h.jsx("span",{className:"font-semibold",children:"demo123"}),h.jsx("button",{type:"button",className:"ml-2 underline",onClick:()=>{c("demo@unicon.local"),_("demo123")},children:"Use"})]}),b&&h.jsx("div",{className:"text-red-600 text-sm",children:b}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("label",{className:"text-[16px] leading-6 font-semibold text-gray-700",children:"Email"}),h.jsx("span",{className:"text-[12px] text-gray-400",children:"*"})]}),h.jsx("input",{type:"email",className:"w-full border rounded px-3 py-2 h-10",value:n,onChange:u=>c(u.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("label",{className:"text-[16px] leading-6 font-semibold text-gray-700",children:"Password"}),h.jsx("button",{type:"button",className:"text-sm text-blue-700 hover:underline",onClick:async()=>{try{const u=await ts("/auth/forgot",{email:n||"demo@unicon.local"});u!=null&&u.reset_url?alert(`Reset link (demo): ${u.reset_url}`):alert("If the account exists, a reset link was sent.")}catch(u){alert(u.message||"Request failed")}},children:"Forgot password"})]}),h.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2 h-10",value:v,onChange:u=>_(u.target.value),required:!0})]}),h.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[h.jsx("button",{type:"button","aria-label":"Continue with Demo OAuth",title:"Continue with Demo OAuth",className:"h-10 w-10 border rounded flex items-center justify-center",onClick:()=>{const u=`${location.origin}/unicon/auth/callback`,o=Math.random().toString(36).slice(2),l=`/unicon/api/oauth/authorize?client_id=demo&redirect_uri=${encodeURIComponent(u)}&state=${encodeURIComponent(o)}`;location.href=l},children:h.jsx(Zg,{size:18,"aria-hidden":"true"})}),h.jsx("button",{type:"button","aria-label":"Sign in with Google",title:"Sign in with Google",className:"h-10 w-10 border rounded flex items-center justify-center",onClick:()=>a("google"),children:h.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24","aria-hidden":"true",children:h.jsx("path",{fill:"#EA4335",d:"M12 11.9999v3.8h5.3c-.2 1.2-1.4 3.5-5.3 3.5-3.2 0-5.9-2.6-5.9-5.9s2.7-5.9 5.9-5.9c1.8 0 3 .7 3.7 1.3l2.5-2.4C16.7 4.2 14.6 3.3 12 3.3 6.9 3.3 2.8 7.4 2.8 12.5S6.9 21.7 12 21.7c6.9 0 9.5-4.8 9.5-7.2 0-.5-.1-.8-.1-1.1H12z"})})}),h.jsx("button",{type:"button","aria-label":"Sign in with GitHub",title:"Sign in with GitHub",className:"h-10 w-10 border rounded flex items-center justify-center",onClick:()=>a("github"),children:h.jsx(Jg,{size:18,"aria-hidden":"true"})}),h.jsx("button",{type:"submit",disabled:d,className:"w-48 h-10 bg-[#004b8d] text-white rounded hover:bg-[#003a6c] disabled:opacity-50",children:d?"Signing in":"Login"}),h.jsx("button",{type:"button",className:"text-sm text-blue-700 hover:underline",onClick:async()=>{try{await ts("/auth/register",{email:n||"demo@unicon.local",password:v||"demo123"}),alert("Account created. Now you can sign in.")}catch(u){alert(u.message||"Sign up failed")}},children:"Sign up"}),!1]}),h.jsxs("div",{className:"pt-2",children:[h.jsx("label",{className:"text-[16px] leading-6 font-semibold text-gray-700",children:"Language"}),h.jsxs("select",{className:"w-full border rounded px-3 py-2 h-10",defaultValue:"en",onChange:async u=>{const o=u.target.value;try{await ux(()=>Promise.resolve().then(()=>BS),void 0).then(l=>l.apiPost("/settings/language",{lang:o})).catch(()=>{})}catch{}try{localStorage.setItem("lang",o)}catch{}},children:[h.jsx("option",{value:"en",children:"English"}),h.jsx("option",{value:"de",children:"Deutsch"})]})]}),h.jsxs("div",{className:"text-xs text-gray-500 pt-6 flex items-center gap-2",children:[h.jsx("a",{className:"hover:underline",href:"#",onClick:u=>{u.preventDefault(),r({open:!0,kind:"imprint",data:null,loading:!1,error:""})},children:"Imprint"}),h.jsx("span",{children:""}),h.jsx("a",{className:"hover:underline",href:"#",onClick:u=>{u.preventDefault(),r({open:!0,kind:"privacy",data:null,loading:!1,error:""})},children:"Privacy Policy"}),h.jsx("span",{children:""}),h.jsx("a",{className:"hover:underline",href:"#",onClick:u=>{u.preventDefault(),r({open:!0,kind:"server",data:null,loading:!1,error:""})},children:"Server Details"}),h.jsxs("span",{className:"ml-auto opacity-80",children:[" ",new Date().getFullYear()," SWARCO"]})]})]})]})})})]}),h.jsx("div",{className:"hidden md:block md:w-1/2 relative",children:h.jsx("img",{src:"/unicon/brand/background-image.png",alt:"Background",className:"absolute inset-0 w-full h-full object-cover"})}),t.open&&h.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"w-full max-w-md rounded-lg border bg-white p-6 shadow",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"font-semibold text-gray-900",children:["Continue with ",t.provider]}),h.jsx("button",{className:"p-1","aria-label":"Close",onClick:()=>s({open:!1,provider:null,loading:!1,error:""}),children:h.jsx(ra,{size:18})})]}),h.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["You will be redirected to ",t.provider," to continue."]}),t.error&&h.jsx("div",{className:"text-sm text-red-600 mb-2",children:t.error}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{className:"px-4 h-10 rounded bg-[#004b8d] text-white disabled:opacity-50",disabled:t.loading,onClick:m,children:t.loading?"Continuing":"Continue"}),h.jsx("button",{className:"px-4 h-10 rounded bg-gray-100",onClick:()=>s({open:!1,provider:null,loading:!1,error:""}),children:"Cancel"})]})]})}),h.jsxs(Lg,{open:i.open,title:i.kind==="imprint"?"Imprint":i.kind==="privacy"?"Privacy Policy":i.kind==="server"?"Server Details":"",onClose:()=>r({open:!1,kind:null,data:null,loading:!1,error:""}),footer:h.jsx("button",{className:"px-4 h-10 rounded bg-gray-100",onClick:()=>r({open:!1,kind:null,data:null,loading:!1,error:""}),children:"Close"}),children:[i.kind==="imprint"&&h.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Company:"})," SWARCO"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Address:"})," [Add address]"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Contact:"})," [Add contact email/phone]"]}),h.jsx("p",{className:"text-gray-500",children:"This is placeholder text. Replace with your legal imprint details."})]}),i.kind==="privacy"&&h.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[h.jsx("p",{children:h.jsx("strong",{children:"Privacy Policy"})}),h.jsx("p",{children:"We process personal data for authentication and service provision. Replace this text with your actual policy or link to your public policy page."})]}),i.kind==="server"&&h.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[i.loading&&h.jsx("div",{children:"Loading"}),i.error&&h.jsx("div",{className:"text-red-600",children:i.error}),i.data&&h.jsxs("div",{className:"space-y-1",children:["version"in i.data&&h.jsxs("div",{children:[h.jsx("strong",{children:"Version:"})," ",String(i.data.version)]}),"status"in i.data&&h.jsxs("div",{children:[h.jsx("strong",{children:"Status:"})," ",String(i.data.status)]}),"timestamp"in i.data&&h.jsxs("div",{children:[h.jsx("strong",{children:"Timestamp:"})," ",String(i.data.timestamp)]}),"uptime"in i.data&&h.jsxs("div",{children:[h.jsx("strong",{children:"Uptime:"})," ",String(i.data.uptime)]}),"connectedClients"in i.data&&h.jsxs("div",{children:[h.jsx("strong",{children:"Connected Clients:"})," ",String(i.data.connectedClients)]}),"activeConnections"in i.data&&h.jsxs("div",{children:[h.jsx("strong",{children:"Active Connections:"})," ",String(i.data.activeConnections)]}),i.data&&typeof i.data=="object"&&h.jsxs("details",{className:"mt-2",children:[h.jsx("summary",{className:"cursor-pointer",children:"Raw"}),h.jsx("pre",{className:"bg-gray-50 p-2 rounded overflow-auto text-xs",children:JSON.stringify(i.data,null,2)})]})]})]})]})]})}function fx(){return G.useEffect(()=>{(async()=>{const e=new URLSearchParams(location.search),t=e.get("code");e.get("state");try{const s=await ts("/oauth/token",{code:t,client_id:"demo"});s!=null&&s.access_token&&(Cg(s.access_token,["developer"]),location.replace("/unicon/"))}catch(s){alert(s.message||"OAuth failed")}})()},[]),h.jsx("div",{className:"p-6 text-sm text-gray-600",children:"Completing sign-in"})}function dx(){const t=new URLSearchParams(typeof window<"u"?window.location.search:"").get("token");return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white text-gray-900",children:h.jsxs("div",{className:"w-full max-w-md border rounded-lg p-6 shadow-sm",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Reset password"}),t?h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"A reset token was provided, but password reset is not implemented in this demo build."}):h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Password reset is not implemented in this demo build."}),h.jsx("button",{className:"h-10 px-4 bg-[#004b8d] text-white rounded hover:bg-[#003a6c]",onClick:()=>{window.location.href="/unicon/"},children:"Back to login"})]})})}function mx(){var g,b;const e=G.useMemo(()=>({connections:{title:"Connections",icon:ep,component:ax},rest:{title:"REST Client",icon:Df,component:qS},opcua:{title:"OPC UA",icon:wu,component:GS},ws:{title:"WebSocket",icon:Pn,component:KS},ssh:{title:"SSH",icon:Cu,component:sx},k8s:{title:"Kubernetes",icon:wu,component:rx},grpc:{title:"gRPC",icon:Jl,component:WS},cpd:{title:"CPD",icon:Cu,component:YS},sql:{title:"SQL",icon:aa,component:$S}}),[]),[t,s]=G.useState(()=>{try{const o=JSON.parse(localStorage.getItem("tabs_v1")||"null");if(o&&Array.isArray(o)&&o.length)return o}catch{}const C=(()=>{try{return localStorage.getItem("last_workspace_kind_v1")||"rest"}catch{return"rest"}})(),x=`${C}-1`,u=e[C]||e.rest;return[{id:x,kind:C,title:u.title,params:{}}]}),[i,r]=G.useState(()=>localStorage.getItem("active_tab_v1")||"rest-1"),a=G.useCallback((C,x={})=>{const u=e[C];if(!u)return;const o=`${C}-${Date.now()}`;s(l=>[...l,{id:o,kind:C,title:u.title,params:x}]),r(o);try{localStorage.setItem("last_workspace_kind_v1",C)}catch{}},[e]),m=G.useCallback(C=>{s(x=>x.filter(u=>u.id!==C)),r(x=>{if(x===C){const u=t.filter(o=>o.id!==C);return u.length?u[u.length-1].id:null}return x})},[t]),n=G.useCallback(()=>{s([]),r(null)},[]),c=G.useCallback(C=>r(C),[]);if(we.useEffect(()=>{try{localStorage.setItem("tabs_v1",JSON.stringify(t))}catch{}},[t]),we.useEffect(()=>{try{i&&localStorage.setItem("active_tab_v1",i)}catch{}},[i]),we.useEffect(()=>{const C=x=>{(x.ctrlKey||x.metaKey)&&x.key.toLowerCase()==="w"&&(x.preventDefault(),i&&m(i))};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[i,m]),typeof window<"u"&&window.location.pathname.endsWith("/auth/reset"))return h.jsx(dx,{});if(typeof window<"u"&&window.location.pathname.endsWith("/auth/callback"))return h.jsx(fx,{});if(!(((b=(g=import.meta)==null?void 0:g.env)==null?void 0:b.VITE_AUTH_BYPASS)==="1"||!!Sn()))return h.jsx(hx,{onLoggedIn:()=>window.location.reload()});const d=t.find(C=>C.id===i)||null;return h.jsx("div",{className:"min-h-screen bg-white text-gray-900",children:h.jsxs("div",{className:"flex h-screen",children:[h.jsx(kS,{onOpenWorkspace:a,activeTabKind:d==null?void 0:d.kind}),h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsx(zS,{onNewConnection:()=>a("connections"),activeTab:d}),h.jsx(FS,{}),h.jsx(US,{tabs:t,activeTabId:i,onClose:m,onCloseAll:n,onActivate:c}),h.jsx(PS,{tabs:t,activeTabId:i,registry:e,openTab:a})]})]})})}function vx(){return h.jsx(L0,{children:h.jsx(mx,{})})}R0.createRoot(document.getElementById("root")).render(h.jsx(we.StrictMode,{children:h.jsx(vx,{})}));
//# sourceMappingURL=index-Ckec7u7C.js.map
