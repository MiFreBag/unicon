import{j as e,b as h}from"./index-ByPSBARW.js";import{r as l,R as b}from"./vendor-CnGqnXYo.js";import"./icons-oCSk50xQ.js";function D(){const[c,r]=l.useState("8.8.8.8"),[a,m]=l.useState(4),[i,n]=l.useState(""),[d,t]=l.useState(""),[x,g]=l.useState("example.com"),[p,o]=l.useState("A"),[f,N]=l.useState(""),[j,w]=l.useState("192.168.1.10"),[v,S]=l.useState(24),[u,y]=l.useState(null);async function k(){n("Running...");try{const s=await h("/tools/ping",{host:c,count:Number(a)||4,timeoutMs:12e3});n(s.output||JSON.stringify(s))}catch(s){n(String(s.message))}}async function C(){t("Running...");try{const s=await h("/tools/traceroute",{host:c,maxHops:20,timeoutMs:2e4});t(s.output||JSON.stringify(s))}catch(s){t(String(s.message))}}async function T(){N("Running...");try{const s=await h("/tools/dns",{name:x,rrtype:p});N(JSON.stringify(s,null,2))}catch(s){N(String(s.message))}}function E(){try{const s=P(j,Number(v)||24);y(s)}catch(s){y({error:String(s.message)})}}return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Network Tools"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Host/IP"}),e.jsx("input",{className:"w-full border rounded px-2 py-1",value:c,onChange:s=>r(s.target.value),placeholder:"8.8.8.8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Ping count"}),e.jsx("input",{className:"w-full border rounded px-2 py-1",type:"number",value:a,onChange:s=>m(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:k,children:"Ping"}),e.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:C,children:"Traceroute"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("pre",{className:"border rounded p-2 text-xs bg-gray-50 whitespace-pre-wrap",children:i}),e.jsx("pre",{className:"border rounded p-2 text-xs bg-gray-50 whitespace-pre-wrap",children:d}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-end gap-2 mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm mb-1",children:"DNS name"}),e.jsx("input",{className:"w-full border rounded px-2 py-1",value:x,onChange:s=>g(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Type"}),e.jsx("select",{className:"border rounded px-2 py-1",value:p,onChange:s=>o(s.target.value),children:["A","AAAA","CNAME","TXT","MX","NS","SRV"].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:T,children:"DNS"})]}),e.jsx("pre",{className:"border rounded p-2 text-xs bg-gray-50 whitespace-pre-wrap h-40 overflow-auto",children:f})]})]}),e.jsx(O,{}),e.jsx("div",{className:"pt-2 border-t"}),e.jsx("h4",{className:"font-medium",children:"IPv4 Calculator"}),e.jsxs("div",{className:"grid grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"IP"}),e.jsx("input",{className:"w-full border rounded px-2 py-1",value:j,onChange:s=>w(s.target.value),placeholder:"192.168.1.10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"CIDR"}),e.jsx("input",{className:"w-full border rounded px-2 py-1",type:"number",value:v,onChange:s=>S(s.target.value)})]}),e.jsx("div",{children:e.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:E,children:"Calculate"})})]}),u&&e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Network"}),e.jsx("div",{className:"font-mono",children:u.network})]}),e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Broadcast"}),e.jsx("div",{className:"font-mono",children:u.broadcast})]}),e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Mask"}),e.jsx("div",{className:"font-mono",children:u.mask})]}),e.jsxs("div",{className:"border rounded p-2 col-span-3",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Host Range"}),e.jsxs("div",{className:"font-mono",children:[u.firstHost," â€“ ",u.lastHost," (",u.hosts," hosts)"]})]})]})]})}function O(){const[c,r]=b.useState("GET"),[a,m]=b.useState('{"ping":"pong"}'),[i,n]=b.useState("");async function d(){try{const t=c==="GET"?{}:JSON.parse(a||"{}"),x=await h("/tools/http-echo",t);n(JSON.stringify(x,null,2))}catch(t){n(String(t.message))}}return e.jsxs("div",{className:"pt-4",children:[e.jsx("h4",{className:"font-medium",children:"HTTP Echo"}),e.jsxs("div",{className:"flex items-end gap-2 mb-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Method"}),e.jsx("select",{className:"border rounded px-2 py-1",value:c,onChange:t=>r(t.target.value),children:["GET","POST","PUT","PATCH","DELETE"].map(t=>e.jsx("option",{value:t,children:t},t))})]}),c!=="GET"&&e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm mb-1",children:"Body (JSON)"}),e.jsx("textarea",{className:"w-full border rounded p-2 font-mono text-xs",rows:4,value:a,onChange:t=>m(t.target.value)})]}),e.jsx("button",{className:"px-3 py-1.5 border rounded",onClick:d,children:"Send"})]}),e.jsx("pre",{className:"border rounded p-2 text-xs bg-gray-50 whitespace-pre-wrap h-48 overflow-auto",children:i})]})}function P(c,r){const a=c.split(".").map(o=>parseInt(o,10));if(a.length!==4||a.some(o=>!(o>=0&&o<=255)))throw new Error("Invalid IPv4");if(!(r>=0&&r<=32))throw new Error("Invalid CIDR");const m=a[0]<<24|a[1]<<16|a[2]<<8|a[3],i=r===0?0:-1<<32-r>>>0,n=(m&i)>>>0,d=(n|~i>>>0)>>>0,t=o=>[o>>>24&255,o>>>16&255,o>>>8&255,o&255].join("."),x=r===32?1:Math.max(0,d-n-1),g=r>=31?t(n):t(n+1),p=r>=31?t(d):t(d-1);return{network:t(n),broadcast:t(d),mask:t(i),firstHost:g,lastHost:p,hosts:x}}export{D as default};
//# sourceMappingURL=NetworkTools-CqdQ8hBZ.js.map
