4df977abecb23051ea22840cc69fc9a9
const request = require('supertest');
const WebSocket = require('ws');
const {
  startServers,
  buildState
} = require('..');
let srv;
let baseUrl;
beforeAll(() => {
  // Use ports from package.json test script or defaults
  process.env.PORT = process.env.PORT || '3101';
  process.env.WS_PORT = process.env.WS_PORT || '8180';
  srv = startServers(buildState());
  baseUrl = `http://127.0.0.1:${process.env.PORT}`;
});
afterAll(done => {
  try {
    srv.server.close(() => done());
  } catch (e) {
    done();
  }
});
test('GET /unicon/api/health returns success', async () => {
  const res = await request(baseUrl).get('/unicon/api/health');
  expect(res.status).toBe(200);
  expect(res.body.success).toBe(true);
});
test('WebSocket connector can send and receive (via broadcast)', async () => {
  // Start a local echo WebSocket server
  const echoPort = 9099;
  const echoServer = new WebSocket.Server({
    port: echoPort
  });
  echoServer.on('connection', ws => ws.on('message', msg => ws.send(msg)));

  // Subscribe to appâ€™s broadcast WS to capture messages from connector
  const appWsUrl = `ws://127.0.0.1:${process.env.WS_PORT}`;
  const broadcastClient = new WebSocket(appWsUrl);

  // Create a websocket connection entry
  const conRes = await request(baseUrl).post('/unicon/api/connections').send({
    name: 'ws-echo',
    type: 'websocket',
    config: {
      url: `ws://127.0.0.1:${echoPort}`
    }
  }).set('Content-Type', 'application/json');
  expect(conRes.status).toBe(200);
  const connectionId = conRes.body.connection.id;

  // Connect it
  const connRes = await request(baseUrl).post('/unicon/api/connect').send({
    connectionId
  }).set('Content-Type', 'application/json');
  expect(connRes.status).toBe(200);

  // Wait for broadcast open, then send and await echo
  await new Promise((resolve, reject) => {
    const timer = setTimeout(() => reject(new Error('broadcast ws open timeout')), 5000);
    broadcastClient.once('open', () => {
      clearTimeout(timer);
      resolve();
    });
  });
  const expected = 'hello-ws';
  const receive = new Promise((resolve, reject) => {
    const timer = setTimeout(() => reject(new Error('echo not received')), 8000);
    broadcastClient.on('message', raw => {
      try {
        const msg = JSON.parse(raw.toString());
        if (msg?.type === 'ws' && msg?.data?.event === 'message' && msg?.data?.connectionId === connectionId) {
          clearTimeout(timer);
          resolve(msg.data.data);
        }
      } catch (_) {}
    });
  });
  const sendRes = await request(baseUrl).post('/unicon/api/operation').send({
    connectionId,
    operation: 'send',
    params: {
      message: expected
    }
  }).set('Content-Type', 'application/json');
  expect(sendRes.status).toBe(200);
  const echoed = await receive;
  expect(echoed).toBe(expected);

  // Cleanup
  broadcastClient.close();
  echoServer.close();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsIldlYlNvY2tldCIsInN0YXJ0U2VydmVycyIsImJ1aWxkU3RhdGUiLCJzcnYiLCJiYXNlVXJsIiwiYmVmb3JlQWxsIiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJXU19QT1JUIiwiYWZ0ZXJBbGwiLCJkb25lIiwic2VydmVyIiwiY2xvc2UiLCJlIiwidGVzdCIsInJlcyIsImdldCIsImV4cGVjdCIsInN0YXR1cyIsInRvQmUiLCJib2R5Iiwic3VjY2VzcyIsImVjaG9Qb3J0IiwiZWNob1NlcnZlciIsIlNlcnZlciIsInBvcnQiLCJvbiIsIndzIiwibXNnIiwic2VuZCIsImFwcFdzVXJsIiwiYnJvYWRjYXN0Q2xpZW50IiwiY29uUmVzIiwicG9zdCIsIm5hbWUiLCJ0eXBlIiwiY29uZmlnIiwidXJsIiwic2V0IiwiY29ubmVjdGlvbklkIiwiY29ubmVjdGlvbiIsImlkIiwiY29ublJlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidGltZXIiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJvbmNlIiwiY2xlYXJUaW1lb3V0IiwiZXhwZWN0ZWQiLCJyZWNlaXZlIiwicmF3IiwiSlNPTiIsInBhcnNlIiwidG9TdHJpbmciLCJkYXRhIiwiZXZlbnQiLCJfIiwic2VuZFJlcyIsIm9wZXJhdGlvbiIsInBhcmFtcyIsIm1lc3NhZ2UiLCJlY2hvZWQiXSwic291cmNlcyI6WyJoZWFsdGhfd3MudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XHJcbmNvbnN0IFdlYlNvY2tldCA9IHJlcXVpcmUoJ3dzJyk7XHJcbmNvbnN0IHsgc3RhcnRTZXJ2ZXJzLCBidWlsZFN0YXRlIH0gPSByZXF1aXJlKCcuLicpO1xyXG5cclxubGV0IHNydjtcclxubGV0IGJhc2VVcmw7XHJcblxyXG5iZWZvcmVBbGwoKCkgPT4ge1xyXG4gIC8vIFVzZSBwb3J0cyBmcm9tIHBhY2thZ2UuanNvbiB0ZXN0IHNjcmlwdCBvciBkZWZhdWx0c1xyXG4gIHByb2Nlc3MuZW52LlBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8ICczMTAxJztcclxuICBwcm9jZXNzLmVudi5XU19QT1JUID0gcHJvY2Vzcy5lbnYuV1NfUE9SVCB8fCAnODE4MCc7XHJcbiAgc3J2ID0gc3RhcnRTZXJ2ZXJzKGJ1aWxkU3RhdGUoKSk7XHJcbiAgYmFzZVVybCA9IGBodHRwOi8vMTI3LjAuMC4xOiR7cHJvY2Vzcy5lbnYuUE9SVH1gO1xyXG59KTtcclxuXHJcbmFmdGVyQWxsKChkb25lKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHNydi5zZXJ2ZXIuY2xvc2UoKCkgPT4gZG9uZSgpKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBkb25lKCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnRlc3QoJ0dFVCAvdW5pY29uL2FwaS9oZWFsdGggcmV0dXJucyBzdWNjZXNzJywgYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYmFzZVVybCkuZ2V0KCcvdW5pY29uL2FwaS9oZWFsdGgnKTtcclxuICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gIGV4cGVjdChyZXMuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG59KTtcclxuXHJcbnRlc3QoJ1dlYlNvY2tldCBjb25uZWN0b3IgY2FuIHNlbmQgYW5kIHJlY2VpdmUgKHZpYSBicm9hZGNhc3QpJywgYXN5bmMgKCkgPT4ge1xyXG4gIC8vIFN0YXJ0IGEgbG9jYWwgZWNobyBXZWJTb2NrZXQgc2VydmVyXHJcbiAgY29uc3QgZWNob1BvcnQgPSA5MDk5O1xyXG4gIGNvbnN0IGVjaG9TZXJ2ZXIgPSBuZXcgV2ViU29ja2V0LlNlcnZlcih7IHBvcnQ6IGVjaG9Qb3J0IH0pO1xyXG4gIGVjaG9TZXJ2ZXIub24oJ2Nvbm5lY3Rpb24nLCAod3MpID0+IHdzLm9uKCdtZXNzYWdlJywgKG1zZykgPT4gd3Muc2VuZChtc2cpKSk7XHJcblxyXG4gIC8vIFN1YnNjcmliZSB0byBhcHDigJlzIGJyb2FkY2FzdCBXUyB0byBjYXB0dXJlIG1lc3NhZ2VzIGZyb20gY29ubmVjdG9yXHJcbiAgY29uc3QgYXBwV3NVcmwgPSBgd3M6Ly8xMjcuMC4wLjE6JHtwcm9jZXNzLmVudi5XU19QT1JUfWA7XHJcbiAgY29uc3QgYnJvYWRjYXN0Q2xpZW50ID0gbmV3IFdlYlNvY2tldChhcHBXc1VybCk7XHJcblxyXG4gIC8vIENyZWF0ZSBhIHdlYnNvY2tldCBjb25uZWN0aW9uIGVudHJ5XHJcbiAgY29uc3QgY29uUmVzID0gYXdhaXQgcmVxdWVzdChiYXNlVXJsKVxyXG4gICAgLnBvc3QoJy91bmljb24vYXBpL2Nvbm5lY3Rpb25zJylcclxuICAgIC5zZW5kKHsgbmFtZTogJ3dzLWVjaG8nLCB0eXBlOiAnd2Vic29ja2V0JywgY29uZmlnOiB7IHVybDogYHdzOi8vMTI3LjAuMC4xOiR7ZWNob1BvcnR9YCB9IH0pXHJcbiAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gIGV4cGVjdChjb25SZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgY29uc3QgY29ubmVjdGlvbklkID0gY29uUmVzLmJvZHkuY29ubmVjdGlvbi5pZDtcclxuXHJcbiAgLy8gQ29ubmVjdCBpdFxyXG4gIGNvbnN0IGNvbm5SZXMgPSBhd2FpdCByZXF1ZXN0KGJhc2VVcmwpXHJcbiAgICAucG9zdCgnL3VuaWNvbi9hcGkvY29ubmVjdCcpXHJcbiAgICAuc2VuZCh7IGNvbm5lY3Rpb25JZCB9KVxyXG4gICAgLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICBleHBlY3QoY29ublJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcclxuXHJcbiAgLy8gV2FpdCBmb3IgYnJvYWRjYXN0IG9wZW4sIHRoZW4gc2VuZCBhbmQgYXdhaXQgZWNob1xyXG4gIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKCdicm9hZGNhc3Qgd3Mgb3BlbiB0aW1lb3V0JykpLCA1MDAwKTtcclxuICAgIGJyb2FkY2FzdENsaWVudC5vbmNlKCdvcGVuJywgKCkgPT4geyBjbGVhclRpbWVvdXQodGltZXIpOyByZXNvbHZlKCk7IH0pO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBleHBlY3RlZCA9ICdoZWxsby13cyc7XHJcbiAgY29uc3QgcmVjZWl2ZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKCdlY2hvIG5vdCByZWNlaXZlZCcpKSwgODAwMCk7XHJcbiAgICBicm9hZGNhc3RDbGllbnQub24oJ21lc3NhZ2UnLCAocmF3KSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gSlNPTi5wYXJzZShyYXcudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgaWYgKG1zZz8udHlwZSA9PT0gJ3dzJyAmJiBtc2c/LmRhdGE/LmV2ZW50ID09PSAnbWVzc2FnZScgJiYgbXNnPy5kYXRhPy5jb25uZWN0aW9uSWQgPT09IGNvbm5lY3Rpb25JZCkge1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgIHJlc29sdmUobXNnLmRhdGEuZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChfKSB7fVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHNlbmRSZXMgPSBhd2FpdCByZXF1ZXN0KGJhc2VVcmwpXHJcbiAgICAucG9zdCgnL3VuaWNvbi9hcGkvb3BlcmF0aW9uJylcclxuICAgIC5zZW5kKHsgY29ubmVjdGlvbklkLCBvcGVyYXRpb246ICdzZW5kJywgcGFyYW1zOiB7IG1lc3NhZ2U6IGV4cGVjdGVkIH0gfSlcclxuICAgIC5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgZXhwZWN0KHNlbmRSZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcblxyXG4gIGNvbnN0IGVjaG9lZCA9IGF3YWl0IHJlY2VpdmU7XHJcbiAgZXhwZWN0KGVjaG9lZCkudG9CZShleHBlY3RlZCk7XHJcblxyXG4gIC8vIENsZWFudXBcclxuICBicm9hZGNhc3RDbGllbnQuY2xvc2UoKTtcclxuICBlY2hvU2VydmVyLmNsb3NlKCk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNwQyxNQUFNQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDL0IsTUFBTTtFQUFFRSxZQUFZO0VBQUVDO0FBQVcsQ0FBQyxHQUFHSCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBRWxELElBQUlJLEdBQUc7QUFDUCxJQUFJQyxPQUFPO0FBRVhDLFNBQVMsQ0FBQyxNQUFNO0VBQ2Q7RUFDQUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUksR0FBR0YsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUksSUFBSSxNQUFNO0VBQzdDRixPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsT0FBTyxHQUFHSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsT0FBTyxJQUFJLE1BQU07RUFDbkROLEdBQUcsR0FBR0YsWUFBWSxDQUFDQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0VBQ2hDRSxPQUFPLEdBQUcsb0JBQW9CRSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxFQUFFO0FBQ2xELENBQUMsQ0FBQztBQUVGRSxRQUFRLENBQUVDLElBQUksSUFBSztFQUNqQixJQUFJO0lBQ0ZSLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDQyxLQUFLLENBQUMsTUFBTUYsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNoQyxDQUFDLENBQUMsT0FBT0csQ0FBQyxFQUFFO0lBQ1ZILElBQUksQ0FBQyxDQUFDO0VBQ1I7QUFDRixDQUFDLENBQUM7QUFF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